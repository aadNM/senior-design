(this["webpackJsonprasa-frontend"]=this["webpackJsonprasa-frontend"]||[]).push([[1],{104:function(e,t,n){"use strict";var r;n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=3e3,o=500,c=15,i=(null===(r=window.SERVER_DATA)||void 0===r?void 0:r.api_url)||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||new URL(window.location.href).origin,s=function(){try{return new URL(i).pathname}catch(e){if(e instanceof TypeError)return"/";throw e}}()},105:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),a=n(5),o=n(23),c=n(0),i=n(566),s=n(266),l=n(217),u=n(1),d=n(4);function b(e){var t=e.children,n=e.delay,b=void 0===n?200:n,f=Object(o.a)(e,["children","delay"]),p=u.useState(!0),j=Object(a.a)(p,2),h=j[0],O=j[1];return u.useEffect((function(){var e=setTimeout((function(){return O(!1)}),b);return function(){clearTimeout(e)}}),[b]),h?null:Object(c.jsxs)(d.Flex,Object(r.a)(Object(r.a)({justifyContent:"center",alignItems:"center",flexDirection:"column",color:"neutral_6",style:{textAlign:"center",height:"100%",width:"100%"}},f),{},{children:[Object(c.jsx)(s.a,{icon:i.faCircleNotch,spin:!0,mb:2,fontSize:5}),Object(c.jsx)(l.a,{variant:"bodySecondary",inheritColor:!0,children:t})]}))}},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return T}));var r=n(15),a=n(5),o=n(2),c=n(84),i=n.n(c),s=n(300),l=n.n(s),u=n(1104),d=n.n(u),b=n(1105),f=n.n(b),p=n(3),j=n(104),h=n(85),O=n(27),x=n(119),g=n(19),v=n(550),m={Tester:"Tester (Share your bot)",facebook:"Facebook",mattermost:"Mattermost",rasa:"Internal (Interactive Learning)",rocketchat:"Rocket.Chat",slack:"Slack",socketio:"Socket.io",telegram:"Telegram",twilio:"Twilio",webexteams:"Webex Teams"},y=[{label:"All (default)",status:null},{label:"Reviewed",status:"reviewed"},{label:"Saved for later",status:"saved_for_later"},{label:"Unread",status:"unread"}];function C(e,t){if("active_loop"===e.event||"form"===e.event)return"active_loop".concat(JSON.stringify({name:e.name}));switch(e.event){case"user":var n,r,a,c,i,s=null!==(n=null===(r=e.parse_data)||void 0===r||null===(a=r.intent)||void 0===a?void 0:a.name)&&void 0!==n?n:"null",l=null!==(c=null===(i=e.parse_data)||void 0===i?void 0:i.entities)&&void 0!==c?c:[];if(t){var u=(/\/\S+/.test(e.text)?{text:e.text}:l.reduce((function(e,t){var n=t.entity,r=t.value,a=t.start,o=t.end,c="[".concat(r,"](").concat(n,")");return{text:e.text.substring(0,a+e.offset)+c+e.text.substring(o+e.offset),offset:c.length-r.length}}),{text:e.text,offset:0})).text;return"".concat(s,": ").concat(u)}var d=0===l.length?"":JSON.stringify(l.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{[t.entity]:t.value})}),{}));return"".concat(s).concat(d);case"slot":return"slot".concat(JSON.stringify({[e.name]:e.value}));case"action":return e.name;case"bot":return e.text;default:return e.event}}var S={channels:[],intents:[],entities:[],actions:[],policies:[],reviewStatus:null,slots:[],tags:[],type:"Conversation",coreConfidence:null,nluConfidence:null,minimumMessages:null,flaggedOnly:!1,storiesNotRecognised:!1,date:{from:null,to:null}},w=Object(o.a)(Object(o.a)({},S),{},{date:{from:null,to:null}}),E={actions:[],awaitingResponse:!1,channels:[],conversationDeletionFailed:!1,conversations:{},conversationEvents:{},conversationsFetched:0,oldestConversationTimestamp:null,conversationsStatistics:null,draftFilter:w,entities:[],environment:"production",userEnvironment:"production",error:null,fastRefreshes:0,filter:w,intents:[],loading:{conversation:!1,conversations:!1,e2eTest:!1},policies:[],slotNames:[],slotValues:{},totalSlotValueCount:null,story:null,testStory:null,total:0,selectedIntent:{conversationId:null,intent:null,timestamp:null},chatToken:null,botName:null,botDescription:null,e2eTest:null};function k(e){for(var t=["restart","session_started"],n=!1,c=function(r){if(t.some((function(t){return t===e[r].event})))return e[r-1].nextBreakEvent===e[r].timestamp&&(n=!0),"break"},i=e.length-1;0<i;i--){if("break"===c(i))break}if(n)return e;var s=e.reduceRight((function(e,n,c){var i=Object(a.a)(e,2),s=i[0],l=i[1];return[[].concat(Object(r.a)(s.slice(0,c)),[Object(o.a)(Object(o.a)({},n),{},{nextBreakEvent:l})],Object(r.a)(s.slice(c+1))),t.some((function(e){return e===n.event}))?n.timestamp:l]}),[e,null]);return Object(a.a)(s,1)[0]}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(p.getType)(O.i):return E;case Object(p.getType)(g.g.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversation:!0})});case Object(p.getType)(g.g.failure):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversation:!1}),error:t.payload});case Object(p.getType)(g.g.success):var n=t.payload.conversation,c=n.events,s=n.sender_id,u=e.conversationEvents,b=e.environment;if(0===c.length)return e;var m=(u[s]||[]).filter((function(e){return!("isOptimistic"in e)||!0!==e.isOptimistic})),y=m.length>0?m[m.length-1].timestamp:0,C=c[0].timestamp,S=C<=y?c.filter((function(e){return y<e.timestamp})):c,w=[].concat(Object(r.a)(m),Object(r.a)(S)),T=w[w.length-1],A=!T||"action"===T.event&&"action_listen"===T.name,_=u[s],F=_&&w.length===_.length&&w[w.length-1].timestamp===_[_.length-1].timestamp,R=F?u:Object(o.a)(Object(o.a)({},u),{},{[s]:k(w)}),D=e.fastRefreshes>j.d;return Object(o.a)(Object(o.a)({},e),{},{conversationEvents:R,error:null,userEnvironment:b,loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversation:!1}),awaitingResponse:!A&&!D,fastRefreshes:A?0:e.fastRefreshes+(D?0:1)});case Object(p.getType)(g.w):case Object(p.getType)(g.x.request):var I=t.payload,L=I.text,N=I.senderId,B=Object(v.a)(L),U=e.conversationEvents,M=U[N]||[],P=d()(M,B,(function(e){return e.timestamp}));return Object(o.a)(Object(o.a)({},e),{},{conversationEvents:Object(o.a)(Object(o.a)({},U),{},{[N]:[].concat(Object(r.a)(M.slice(0,P)),[B],Object(r.a)(M.slice(P+1)))})});case Object(p.getType)(g.x.success):var q=t.payload,H=q.message,G=q.senderId,V=e.conversationEvents,z=V[G]||[],Y=f()(z,H,(function(e){return i()(e,H)}));return Y<0?e:Object(o.a)(Object(o.a)({},e),{},{awaitingResponse:!0,conversationEvents:Object(o.a)(Object(o.a)({},V),{},{[G]:[].concat(Object(r.a)(z.slice(0,Y)),Object(r.a)(z.slice(Y+1)))})});case Object(p.getType)(g.x.failure):var W=t.payload,K=W.message,Q=W.senderId,X=e.conversationEvents,$=X[Q]||[];return Object(o.a)(Object(o.a)({},e),{},{awaitingResponse:!1,conversationEvents:Object(o.a)(Object(o.a)({},X),{},{[Q]:$.filter((function(e){return!i()(e,K)}))})});case Object(p.getType)(g.B.success):case Object(p.getType)(g.s.success):var Z=t.type===Object(p.getType)(g.s.success),J=t.payload,ee=J.conversationId,te=J.timestamp,ne="FLAG MESSAGE SUCCESS"===t.type,re=e.conversationEvents,ae=re[ee]||[];return Object(o.a)(Object(o.a)({},e),{},{conversations:l()(e.conversations,(function(e){return e.sender_id!==ee?e:Object(o.a)(Object(o.a)({},e),{},{has_flagged_messages:ne||ae.some((function(e){return e.timestamp!==te&&e.is_flagged}))})})),conversationEvents:Object(o.a)(Object(o.a)({},re),{},{[ee]:ae.map((function(e){return e.timestamp!==te?e:Object(o.a)(Object(o.a)({},e),{},{is_flagged:Z})}))})});case Object(p.getType)(g.p.request):var oe=t.payload.filter,ce=!i()(oe,e.draftFilter);return Object(o.a)(Object(o.a)({},e),{},{conversations:ce?E.conversations:e.conversations,conversationsFetched:ce?E.conversationsFetched:e.conversationsFetched,total:ce?E.total:e.total,loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversations:!0}),draftFilter:oe,filter:oe});case Object(p.getType)(g.p.success):var ie=t.payload,se=ie.conversations,le=ie.total,ue=ie.offset,de=Object(x.a)(e.conversations,se,ue||0,(function(e,t){return e.sender_id===t.sender_id})),be=Object.keys(de).length,fe=be>0&&de[be-1].latest_event_time||null;return Object(o.a)(Object(o.a)({},e),{},{conversations:de,conversationsFetched:be,total:Object(h.a)(le)&&!isNaN(le)?le:e.total,loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversations:!1}),oldestConversationTimestamp:fe});case Object(p.getType)(g.c.request):return Object(o.a)(Object(o.a)({},e),{},{conversationDeletionFailed:!1});case Object(p.getType)(g.c.success):var pe=t.payload.conversationId,je=Object.keys(e.conversations).find((function(t){return e.conversations[t].sender_id===pe})),he=Object.fromEntries(Object.entries(e.conversations).filter((function(e){var t=Object(a.a)(e,2),n=t[0];t[1];return n!==je}))),Oe=Object.keys(he).map((function(e,t){return{[t]:he[e]}})),xe=Object.assign.apply(Object,[{}].concat(Object(r.a)(Oe))),ge=Object.fromEntries(Object.entries(e.conversationEvents).filter((function(e){var t=Object(a.a)(e,2),n=t[0];t[1];return n!==je})));return Object(o.a)(Object(o.a)({},e),{},{conversationDeletionFailed:!1,conversations:xe,conversationEvents:ge,total:e.total-1});case Object(p.getType)(g.c.failure):return Object(o.a)(Object(o.a)({},e),{},{conversationDeletionFailed:!0});case Object(p.getType)(g.C.success):var ve=t.payload,me=ve.conversationId,ye=ve.status;return Object(o.a)(Object(o.a)({},e),{},{conversations:l()(e.conversations,(function(e){return e.sender_id!==me?e:Object(o.a)(Object(o.a)({},e),{},{review_status:ye})}))});case Object(p.getType)(g.o.success):return Object(o.a)(Object(o.a)({},e),{},{story:t.payload.story,testStory:t.payload.testStory});case Object(p.getType)(g.u.success):var Ce=t.payload,Se=Ce.tags,we=Ce.conversationId;return Object(o.a)(Object(o.a)({},e),{},{conversations:l()(e.conversations,(function(e){return e.sender_id!==we?e:Object(o.a)(Object(o.a)({},e),{},{tags:Object(r.a)(new Set([].concat(Object(r.a)(e.tags),Object(r.a)(Se.map((function(e){return e.id}))))))})}))});case Object(p.getType)(g.t.success):var Ee=t.payload,ke=Ee.tag,Te=Ee.conversationId;return Object(o.a)(Object(o.a)({},e),{},{conversations:l()(e.conversations,(function(e){return e.sender_id!==Te?e:Object(o.a)(Object(o.a)({},e),{},{tags:e.tags.filter((function(e){return e!==ke.id}))})}))});case Object(p.getType)(g.v.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{e2eTest:!0})});case Object(p.getType)(g.v.success):var Ae=t.payload;return Object(o.a)(Object(o.a)({},e),{},{e2eTest:Ae,loading:Object(o.a)(Object(o.a)({},e.loading),{},{e2eTest:!1})});case Object(p.getType)(g.v.failure):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{e2eTest:!1}),error:t.payload});case Object(p.getType)(g.a):return Object(o.a)(Object(o.a)({},e),{},{environment:t.payload});case Object(p.getType)(g.y):return Object(o.a)(Object(o.a)({},e),{},{selectedIntent:t.payload});case Object(p.getType)(g.k.success):return Object(o.a)(Object(o.a)({},e),{},{intents:t.payload.sort()});case Object(p.getType)(g.j.success):return Object(o.a)(Object(o.a)({},e),{},{entities:t.payload.sort()});case Object(p.getType)(g.h.success):return Object(o.a)(Object(o.a)({},e),{},{actions:t.payload.sort()});case Object(p.getType)(g.l.success):return Object(o.a)(Object(o.a)({},e),{},{policies:t.payload.sort()});case Object(p.getType)(g.m.success):return Object(o.a)(Object(o.a)({},e),{},{slotNames:t.payload.sort()});case Object(p.getType)(g.n.success):return Object(o.a)(Object(o.a)({},e),{},{slotValues:Object(o.a)(Object(o.a)({},e.slotValues),{},{[t.payload.slotName]:t.payload.data.sort()})});case Object(p.getType)(g.i.success):return Object(o.a)(Object(o.a)({},e),{},{channels:t.payload.sort()});case Object(p.getType)(g.f.success):return Object(o.a)(Object(o.a)({},e),{},{chatToken:t.payload.chat_token});case Object(p.getType)(g.e.success):return Object(o.a)(Object(o.a)({},e),{},{botName:t.payload.bot_name,botDescription:t.payload.description});case Object(p.getType)(g.b):return Object(o.a)(Object(o.a)({},e),{},{draftFilter:t.payload});case Object(p.getType)(g.r.success):return Object(o.a)(Object(o.a)({},e),{},{conversationsStatistics:t.payload});default:return e}}},11:function(e,t,n){"use strict";n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return C}));var r,a,o=n(2),c=n(15),i=n(5),s=n(6),l=n.n(s),u=n(1098),d=n(148),b=n(581),f=n.n(b),p=n(3),j=n(27),h=l.a.mark(m),O="current";!function(e){e.Create="create",e.Read="read",e.List="read",e.Update="update",e.Delete="delete"}(r||(r={})),function(e){e.ActionPrediction="actionPrediction",e.AllEvaluations="allEvaluations",e.Analytics="analytics",e.Blueprints="blueprints",e.Branch="branch",e.BulkData="bulkData",e.BulkResponses="bulkResponseTemplates",e.BulkStories="bulkStories",e.BusinessLogicFlow="businessLogicFlow",e.ChatToken="chatToken",e.ClientEvaulation="clientEvaluation",e.ClientEvents="clientEvents",e.ClientMessages="clientMessages",e.Clients="clients",e.Commit="commit",e.ConversationActions="conversationActions",e.ConversationEntities="conversationEntities",e.ConversationIntents="conversationIntents",e.ConversationPolicies="conversationPolicies",e.Domain="domain",e.EntitySynonyms="entity_synonyms",e.Environments="environments",e.Examples="examples",e.Features="features",e.Intents="intents",e.Insights="insights",e.Logs="logs",e.Lookup="lookup",e.MessageFlags="messageFlags",e.MessageIntents="messageIntents",e.Messages="messages",e.Metadata="metadata",e.Models="models",e.NLGResponse="nlgResponse",e.Projects="projects",e.Regexes="regexes",e.Repositories="repositories",e.RepositoryStatus="repository_status",e.Responses="responseTemplates",e.Roles="roles",e.Rules="rules",e.Statistics="statistics",e.Stories="stories",e.Tests="tests",e.User="user",e.Users="users",e.Warnings="warnings"}(a||(a={}));var x="none",g={accessToken:null,apiToken:"",enterpriseUser:!1,error:null,inviteError:null,features:[],fullname:null,guestAccessToken:null,guestUsername:null,guestEnvironment:null,inviteUser:!1,loading:!1,newEnterpriseUser:!1,permissions:[],role:[x],username:null},v={get:"read",list:"read",accept:"update",reject:"delete"};function m(e){var t,n,r,a,o,c,i,s,b,f;return l.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:t=Object(d.a)(e),l.prev=1,t.s();case 3:if((n=t.n()).done){l.next=25;break}r=n.value,a=r.split(":"),o=Object(u.a)(a),c=o[0],i=o.slice(1),s=Object(d.a)(i),l.prev=7,s.s();case 9:if((b=s.n()).done){l.next=15;break}return f=b.value,l.next=13,[c,f];case 13:l.next=9;break;case 15:l.next=20;break;case 17:l.prev=17,l.t0=l.catch(7),s.e(l.t0);case 20:return l.prev=20,s.f(),l.finish(20);case 23:l.next=3;break;case 25:l.next=30;break;case 27:l.prev=27,l.t1=l.catch(1),t.e(l.t1);case 30:return l.prev=30,t.f(),l.finish(30);case 33:case"end":return l.stop()}}),h,null,[[1,27,30,33],[7,17,20,23]])}function y(e){var t,n={},r=Object(d.a)(m(e));try{var s=function(){var e=Object(i.a)(t.value,2),r=e[0],s=e[1],l=r.split("."),u=v[s]||s,d=Object.entries(a).find((function(e){return Object(i.a)(e,2)[1]===l[0]}));if(void 0===d)return"continue";var b=a[d[0]],f=l.slice(1);n[b]||(n[b]={});var p=n[b][u]||{role:O,resource:b,action:u,possession:"any",attributes:[]};if("*"===p.attributes[0])return"continue";var j=0===f.length?["*"]:[].concat(Object(c.a)(p.attributes),Object(c.a)(f));n[b][u]=Object(o.a)(Object(o.a)({},p),{},{attributes:j})};for(r.s();!(t=r.n()).done;)s()}catch(l){r.e(l)}finally{r.f()}return Object.keys(n).flatMap((function(e){var t=n[e];return Object.keys(t).map((function(e){return t[e]}))}))}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(p.getType)(j.h.success):var n=t.payload.access_token,r=f()(n),a=r.username,c=r.user.fullname;return Object(o.a)(Object(o.a)({},e),{},{inviteUser:!0,username:a,fullname:c,inviteError:null,loading:!1});case Object(p.getType)(j.h.failure):return Object(o.a)(Object(o.a)({},e),{},{inviteError:t.payload,loading:!1,username:null,fullname:null});case Object(p.getType)(j.h.request):return Object(o.a)(Object(o.a)({},e),{},{loading:!0,inviteError:null});case Object(p.getType)(j.g.failure):return Object(o.a)(Object(o.a)({},e),{},{error:t.payload,accessToken:null,username:null,fullname:null});case Object(p.getType)(j.f.success):var i=t.payload,s=i.access_token,l=i.environment,u=f()(s),d=u.username;return Object(o.a)(Object(o.a)({},e),{},{guestAccessToken:s,guestUsername:d,guestEnvironment:l});case Object(p.getType)(j.f.failure):return Object(o.a)(Object(o.a)({},e),{},{guestAccessToken:null,guestUsername:null,guestEnvironment:null});case Object(p.getType)(j.c.success):case Object(p.getType)(j.g.success):var b=t.payload.access_token,h=f()(b),O=h.username,x=h.scopes,v=h.user,m=v.roles,C=v.api_token,S=v.fullname,w=Object(o.a)(Object(o.a)({},e),{},{error:null,accessToken:b,inviteUser:!1,username:O,fullname:S,permissions:y(x)}),E=Object(o.a)(Object(o.a)({},w),{},{apiToken:C,role:m});return t.type===Object(p.getType)(j.g.success)?E:Object(o.a)(Object(o.a)({},E),{},{newEnterpriseUser:null===O,enterpriseUser:!0});case Object(p.getType)(j.i):return Object(o.a)({},g);case Object(p.getType)(j.d.success):return Object(o.a)(Object(o.a)({},e),{},{features:t.payload});case Object(p.getType)(j.j.success):var k=t.payload;return Object(o.a)(Object(o.a)({},e),{},{features:e.features.map((function(e){return e.name===k.name?k:e}))});case Object(p.getType)(j.b.success):var T=t.payload,A=T.username,_=T.api_token,F=T.roles;return Object(o.a)(Object(o.a)({},e),{},{error:null,username:A,apiToken:_,role:F});case Object(p.getType)(j.b.failure):return Object(o.a)(Object(o.a)({},e),{},{error:t.payload});case Object(p.getType)(j.c.failure):return Object(o.a)(Object(o.a)({},e),{},{error:t.payload,newEnterpriseUser:!1,enterpriseUser:!1});default:return e}}},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(15),a=n(5),o=n(2),c=n(23),i=n(0),s=n(22),l=n(59),u=n(2244),d=n(266),b=n(217),f=n(1106),p=(n(1),n(4)),j=n(24),h=n(233),O=(n(1646),n(1647),n(1648),n(1649),Object(s.default)((function(e){e.p,e.pt,e.bg,e.borderRadius,e.boxShadow,e.textAlign;var t=Object(c.a)(e,["p","pt","bg","borderRadius","boxShadow","textAlign"]);return Object(i.jsx)(f.a,Object(o.a)({},t))})).withConfig({displayName:"BaseTooltip__Tippy",componentId:"sc-1ryivhs-0"})(["&&{"," "," ","}.tippy-content{padding:0;}.tippy-content > div{"," ","}.tippy-arrow{transform:scale(0.9);}&&[data-placement^='top']{.tippy-arrow::before{border-top-color:",";}}&&[data-placement^='bottom']{.tippy-arrow::before{border-bottom-color:",";}}&&[data-placement^='left']{.tippy-arrow::before{border-left-color:",";}}&&[data-placement^='right']{.tippy-arrow::before{border-right-color:",";}}&&[data-placement^='right-start']{.tippy-arrow::before{margin-left:-1px;transform:scale(0.8);border-right-color:",";}}"],j.boxShadow,j.borderRadius,j.color,j.space,j.textAlign,(function(e){return Object(j.color)(e).backgroundColor}),(function(e){return Object(j.color)(e).backgroundColor}),(function(e){return Object(j.color)(e).backgroundColor}),(function(e){return Object(j.color)(e).backgroundColor}),(function(e){return Object(j.color)(e).backgroundColor})));function x(e){var t=e.containerStyle,n=e.children,s=e.heading,f=e.content,j=e.inline,x=e.m,g=e.mt,v=e.mr,m=e.mb,y=e.ml,C=e.mx,S=e.my,w=e.p,E=e.pt,k=e.pr,T=e.pb,A=e.pl,_=e.px,F=e.py,R=e.onCloseClick,D=(e.onClose,e.onClickOutside),I=e.onMouseLeave,L=e.onMouseOver,N=Object(c.a)(e,["containerStyle","children","heading","content","inline","m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","onCloseClick","onClose","onClickOutside","onMouseLeave","onMouseOver"]),B={m:x,mt:g,mr:v,mb:m,ml:y,mx:C,my:S},U=Object.fromEntries(Object.entries({p:w,pt:E,pr:k,pb:T,pl:A,px:_,py:F}).filter((function(e){var t=Object(a.a)(e,2);t[0];return void 0!==t[1]}))),M=[h.a].concat(Object(r.a)(N.sticky?[h.e]:[]),Object(r.a)(N.inlinePositioning?[h.d]:[]));return Object(i.jsx)(p.Box,Object(o.a)(Object(o.a)({sx:Object(o.a)(Object(o.a)({},t),j&&{display:"inline-block"})},B),{},{children:Object(i.jsx)(O,Object(o.a)(Object(o.a)({borderRadius:"normal",bg:"neutral_8",plugins:M,content:Object(i.jsxs)(p.Flex,Object(o.a)(Object(o.a)({flexDirection:"column"},U),{},{id:"BaseTooltip",onMouseLeave:I,onMouseOver:L,children:[s&&Object(i.jsxs)(p.Flex,{flexDirection:"row",alignItems:"start",children:[s,R&&Object(i.jsx)(p.Box,{onClick:R,style:{cursor:"pointer"},children:Object(i.jsx)(d.a,{icon:l.faTimes})})]}),Object(i.jsx)(b.a,{as:"div",variant:"bodySecondary",inheritColor:!0,children:f})]})),animation:"shift-toward",arrow:!0,onClickOutside:D?function(e,t){(function(e){return Object(u.a)(e.target,(function(e){return e.id.includes("downshift")}))})(t)||D(e,t)}:function(){}},N),{},{children:Object(i.jsx)(p.Flex,{as:"span",children:n})}))}))}x.defaultProps={maxWidth:"initial"}},1134:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(0),a=n(305),o=n.n(a),c=n(1),i=n(21),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=24,u=2*l;t.c=c.memo((function(e){var t=e.forwardRef,n=e.columns,a=e.data,o=e.metadata,u=e.highlighted,d=e.setUpdateByMouse,b=e.index,f=e.start,p=e.setHighlightedRow,j=e.rowHeight,h=e.rowStyle,O=e.stripeSelected,x=e.disableExpensiveHeightMeasuring,g=c.Children.map(n,(function(e){return c.cloneElement(e,{asHeader:!1,data:a,highlighted:u,index:b,metadata:o})})),v=c.useCallback((function(e,t){e&&e(b),t(!0)}),[b]);return Object(r.jsx)(i.d,s({ref:function(e){x||t(e)},className:"table-row","data-qa":"table-row",onClick:function(){v(p,d)},px:l+"px",style:s({transform:"translateY("+f+"px)",minHeight:j},h),sx:s(s({alignItems:"center",position:"absolute",width:"100%",left:0,top:0,boxSizing:"border-box",borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2","&:hover":{backgroundColor:"neutral_1"}},O?{"&:before":s({content:'""',width:"4px",height:"100%",backgroundColor:"primary_2",position:"absolute",left:"0",borderRadius:"2px"},u?{}:{display:"none"})}:{}),{"&:after":s({content:'""',width:"100%",height:"100%",position:"absolute",left:"0",zIndex:"-1",backgroundColor:"neutral_1"},u?{}:{display:"none"})})},{children:g}),void 0)}),(function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];if("data"===a){if(!o()(e[a],t[a]))return!1}else if("forwardRef"!==a&&e[a]!==t[a])return!1}return!0}))},115:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return b}));var r=n(47),a=n(22),o=n(24);function c(){var e=Object(r.a)(["\n  &:after {\n    ",";\n  }\n"]);return c=function(){return e},e}function i(){var e=Object(r.a)(["\n  &:disabled {\n    ","\n    ","\n    ","\n  }\n"]);return i=function(){return e},e}function s(){var e=Object(r.a)(["\n  &:hover:not(:disabled) {\n    ","\n  }\n"]);return s=function(){return e},e}var l=Object(a.css)(s(),Object(o.system)({colorHover:{property:"color",scale:"colors"},bgHover:{property:"backgroundColor",scale:"colors"},borderColorHover:{property:"borderColor",scale:"colors"}})),u=(Object(a.css)(i(),Object(o.system)({colorDisabled:{property:"color",scale:"colors"}}),Object(o.system)({borderColorDisabled:{property:"borderColor",scale:"colors"}}),Object(o.system)({bgDisabled:{property:"backgroundColor",scale:"colors"}})),Object(o.system)({bgActive:{property:"backgroundColor",scale:"colors"}})),d=Object(o.system)({colorActive:{property:"color",scale:"colors"}}),b=Object(a.css)(c(),Object(o.system)({afterBg:{property:"backgroundColor",scale:"colors"}}))},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n(3),a=Object(r.createAsyncAction)("FETCH TELEMETRY DATA","FETCH TELEMETRY DATA SUCCESS","FETCH TELEMETRY DATA FAILURE")(),o=Object(r.createAsyncAction)("SAVE POWERUSER FORM","SAVE POWERUSER FORM SUCCESS","SAVE POWERUSER FORM FAILURE")(),c=Object(r.createAsyncAction)("SAVE TELEMETRY EVENT","SAVE TELEMETRY EVENT SUCCESS","SAVE TELEMETRY EVENT FAILURE")()},1180:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return T}));var r=n(0),a=n(2279),o=n(1),c=n(61),i=n.n(c),s=n(59),l=n(2249),u=n(348),d=n.n(u),b=n(21),f=n(1183),p=n(1185),j=n(1184),h=n(266),O=n(217),x=n(541);function g(e){var t=e.onClick,n=o.useCallback((function(e){t&&e.target===e.currentTarget&&t()}),[t]);return Object(r.jsx)(b.a,{bg:"neutral_8",style:{bottom:0,left:0,position:"fixed",right:0,top:0},onClick:n},void 0)}var v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},m={success:{color:"green_4",bg:"cyan_3"},warning:{color:"yellow_4",bg:"yellow_3"},error:{color:"neutral_0",bg:"secondary_2"}};function y(e){var t=e.children,n=e.banner,a=e.closeOnClickOutside,c=e.closeOnEscape,i=e.footer,u=e.header,y=e.noSeparator,C=e.onAfterClose,S=e.onClose,w=e.p,E=e.px,k=void 0===E?5:E,T=e.py,A=void 0===T?4:T,_=e.showCloseButton,F=e.variant,R=o.useCallback((function(){S(),null===C||void 0===C||C()}),[S,C]),D="function"===typeof i?i(R):i;o.useEffect((function(){function e(e){c&&"Escape"===e.key&&R()}return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[c,R]);var I=x.a[F||"default"],L=I.cardBoxShadow,N=I.BackgroundWrapper;return Object(r.jsxs)(d.a,{children:[Object(r.jsx)(N,{children:Object(r.jsx)(g,{onClick:a?R:void 0},void 0)},void 0),Object(r.jsx)(l.a.div,v({initial:{zIndex:99994,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",opacity:0,marginTop:100},animate:{opacity:1,marginTop:0},exit:{opacity:0,marginTop:100}},{children:Object(r.jsxs)(p.a,v({boxShadow:L,p:0,borderRadius:16,sx:{bg:"neutral_0"}},{children:[(u||_)&&Object(r.jsxs)(b.d,v({height:"72px",paddingRight:4,paddingLeft:5,sx:{borderBottom:y?"0px none":"1px solid",borderColor:"neutral_3"}},{children:[u&&Object(r.jsx)(j.a,v({variant:"h2",alignSelf:"center"},{children:u}),void 0),Object(r.jsx)(b.a,{flex:"1"},void 0),_&&Object(r.jsx)(b.a,v({onClick:R,alignSelf:"center"},{children:Object(r.jsx)(f.a,v({onClick:R,variant:"plainIcon",p:0},{children:Object(r.jsx)(h.a,{icon:s.faTimes,fontSize:"24px"},void 0)}),void 0)}),void 0)]}),void 0),n&&Object(r.jsx)(b.d,v({paddingLeft:5,paddingRight:5,paddingTop:3,paddingBottom:3,justifyContent:"center",sx:v({borderBottom:y?"0px none":"1px solid",borderColor:"neutral_3"},m[n.variant])},{children:Object(r.jsx)(O.a,v({variant:"bodyPrimary",sx:v({},m[n.variant])},{children:n.content}),void 0)}),void 0),Object(r.jsx)(b.d,v({p:w,px:k,py:A},{children:t}),void 0),D&&Object(r.jsx)(b.d,v({justifyContent:"flex-end",px:4,height:"72px",sx:{borderTop:y?"0px none":"1px solid",borderColor:"neutral_3"}},{children:Object(r.jsx)(b.d,v({sx:{flexDirection:"row-reverse"}},{children:D}),void 0)}),void 0)]}),void 0)}),void 0)]},void 0)}var C=n(742),S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},w=o.createContext((function(){}));function E(e){var t=e.children,n=o.useState(null),c=n[0],s=n[1],l=i.a.createPortal(Object(r.jsx)(a.a,{children:c},void 0),document.body);return Object(r.jsxs)(w.Provider,S({value:s},{children:[l,t]}),void 0)}var k={header:null,footer:null,closeOnEscape:!0,closeOnClickOutside:!0,showCloseButton:!0,onAfterClose:function(){}},T=function(e,t){void 0===t&&(t={});var n=o.useMemo((function(){return S(S({},k),t)}),[t]),a=o.useContext(w),c=o.useState(!1),i=c[0],s=c[1],l=Object(C.a)(i),u=o.useMemo((function(){return Object(r.jsx)(y,S({onClose:function(){return s(!1)}},n,{children:e}),void 0)}),[e,n,s]);return o.useEffect((function(){i?a(u):l&&!i&&a(null)}),[l,a,i,u]),[i,s]}},1183:function(e,t,n){"use strict";var r=n(0),a=n(238),o=n.n(a),c=n(1),i=n(21),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=c.forwardRef((function(e,t){var n=e.showWhenDisabled,a=e.active,c=e.hover,u=e.fullWidth,d=e.large,b=e.block,f=e.variant,p=void 0===f?"primary":f,j=e.onClick,h=e.navigate,O=e.as,x=l(e,["showWhenDisabled","active","hover","fullWidth","large","block","variant","onClick","navigate","as"]),g=j||h,v=["icon","headerIcon","secondaryHeaderIcon"].includes(p)&&!n,m=x.disabled||!g&&!x.href;return Object(r.jsx)(i.b,s({as:O||"button",variant:"button."+p,className:o()({active:a,hover:c,large:d,disabled:x.disabled}),ref:t,sx:s(s({},b?{borderRadius:0}:{}),{alignSelf:"center",cursor:m?"not-allowed":"pointer",letterSpacing:0,outline:0,transition:"background .2s ease, border-color .2s ease, color .2s ease",position:"relative","&:disabled, &.disabled":{boxShadow:"none",display:v?"none":void 0},width:u?"100%":null}),onClick:g},x),void 0)}));t.a=u},1184:function(e,t,n){"use strict";var r=n(0),a=n(1),o=n(21),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},s=a.forwardRef((function(e,t){var n=e.sx,a=e.inheritColor,s=e.variant,l=void 0===s?"h3":s,u=e.loading,d=(e.css,i(e,["sx","inheritColor","variant","loading","css"]));return Object(r.jsx)(o.e,c({as:l,variant:"heading."+l},d,{ref:t,sx:c(c(c({fontFamily:"sansSerif",fontWeight:1,letterSpacing:0,lineHeight:"normal",m:0,color:"neutral_8"},n||{}),a?{color:"inherit !important"}:{}),u?{letterSpacing:"0px",color:"neutral_2 !important"}:{})}),void 0)}));t.a=s},1185:function(e,t,n){"use strict";var r=n(0),a=n(139),o=n(1),c=n(21),i=n(24),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=Object(a.default)(c.c)(Object(i.compose)(i.borderRadius,i.boxShadow)),u=o.forwardRef((function(e,t){return Object(r.jsx)(l,s({ref:t},e),void 0)}));u.defaultProps={bg:"neutral_0",borderRadius:"normal",boxShadow:"card",p:3},t.a=u},1186:function(e,t,n){"use strict";var r=n(0),a=n(1),o=n(21),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},s=a.forwardRef((function(e,t){var n=e.isSelected,a=e.isFocused,s=e.hideSelected,l=e.colorNuance,u=e.variant,d=void 0===u?"default":u,b=i(e,["isSelected","isFocused","hideSelected","colorNuance","variant"]),f={"::before":l&&{content:'""',width:"4px",position:"absolute",left:0,top:"4px",bottom:"4px",backgroundColor:l}};return Object(r.jsx)(o.b,c({ref:t,py:"14px",px:4,bg:n||a?"neutral_1":"transparent",tabIndex:0,variant:"option."+d},b,{sx:c({border:"none",borderRadius:0,cursor:"pointer",display:s&&n?"none":null,fontSize:"13px",lineHeight:"normal",outline:0,textAlign:"left",transition:"all ease .2s",width:"100%",position:"relative"},f)}),void 0)}));t.a=s},1187:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(0),a=n(563),o=n(564),c=n(1121),i=n(1120),s=n.n(i),l=n(1),u=n(21),d=n(266),b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},p=s()();function j(e){var t=e.checked,n=e.disabled,i=e.fontSize,s=e.icon,j=void 0===s?a.faCheck:s,h=e.m,O=e.mb,x=e.ml,g=e.mr,v=e.mt,m=e.mx,y=e.my,C=e.onChange,S=e.partial,w=(e.ref,e.variant),E=void 0===w?"default":w,k=e.width,T=(e.css,f(e,["checked","disabled","fontSize","icon","m","mb","ml","mr","mt","mx","my","onChange","partial","ref","variant","width","css"])),A=l.useCallback((function(e){e.preventDefault(),C(e)}),[C]),_=Object.fromEntries(Object.entries({m:h,mb:O,ml:x,mr:g,mt:v,mx:m,my:y}).filter((function(e){e[0];return void 0!==e[1]}))),F="radio"===E?o.faCircle:S?c.faMinus:j,R=i||("radio"===E?"10px":"6px");return Object(r.jsxs)(u.a,b({sx:b(b(b({},_),void 0!==k?{width:k,height:k}:{}),{position:"relative",zIndex:0})},{children:[Object(r.jsx)(u.a,{as:"input",type:"checkbox",sx:p,checked:t,onChange:C,disabled:n},void 0),Object(r.jsx)(u.a,b({variant:"checkbox."+E,fontSize:R,onClick:A},T,{sx:b({userSelect:"none",bg:"neutral_0",border:"1px solid",borderColor:"neutral_4",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,transition:"all 150ms",width:k,height:k,cursor:"pointer","& > svg":{visibility:"hidden"},"input:checked + & > svg":{visibility:"visible"}},n?{pointerEvents:"none"}:{})},{children:Object(r.jsx)(d.a,{icon:F},void 0)}),void 0)]}),void 0)}j.defaultProps={width:"16px"}},1188:function(e,t,n){"use strict";var r=n(0),a=n(552),o=n(551),c=n(238),i=n.n(c),s=n(1),l=n(21),u=n(1183),d=n(266),b=n(217),f={default:{bg:"neutral_0",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"primary_2"},"&::placeholder, & input::placeholder, & textarea::placeholder":{color:"neutral_6"},"&:hover":{borderColor:"neutral_6"},"&:invalid, &.invalid":{borderColor:"secondary_2"},"&:disabled, &.disabled":{bg:"neutral_1",color:"neutral_6"}},search:{color:"neutral_8",border:"none",bg:"transparent","&.active":{bg:"neutral_1"}},editableText:{color:"neutral_8",border:"none",bg:"transparent","&.active":{bg:"neutral_1"},minWidth:"0px",textAlign:"center"},inverse:{color:"neutral_0",bg:"primary_2",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"neutral_0"},"&::placeholder, & input::placeholder":{color:"neutral_5"},"&:hover":{borderColor:"neutral_3"},"&:invalid, &.invalid":{borderColor:"secondary_3"},"&:disabled, &.disabled":{color:"neutral_5"}},borderless:{bg:"neutral_0",border:"none","&::placeholder, & input::placeholder":{color:"neutral_6"},"&:disabled, &.disabled":{bg:"neutral_1",color:"neutral_6"}}},p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},h=p({fontFamily:"sansSerif",border:"1px solid",borderRadius:"normal",boxSizing:"border-box",outline:0,minHeight:"38px",display:"flex",alignItems:"center",justifyContent:"space-between",resize:"none",transition:"color ease .2s, border-color ease .2s","&.block":{borderRadius:0},"&.darkenPlaceholder::placeholder, &.darkenPlaceholder input::placeholder":{color:"inherit !important",opacity:"1 !important"},"&.noBorder":{bg:"transparent",border:"none"},"&.widthAuto":{minWidth:"208px"},"&.fullHeight, & .fullHeight":{height:"100%"},"textarea&":{overflowY:"auto",py:2,"&:not(.fullHeight)":{maxHeight:"60px"}}},Object.fromEntries(Object.entries(f).map((function(e){return["&.variant--"+e[0],e[1]]})))),O=s.forwardRef((function(e,t){var n,c=e.active,f=e.affixBottom,O=e.block,x=e.characterLimit,g=e.colorNuance,v=e.containerProps,m=e.customPrefix,y=e.darkenPlaceholder,C=e.fullHeight,S=e.fullWidth,w=e.invalid,E=e.large,k=e.noBorder,T=e.onFocus,A=e.onChange,_=e.onChangeValue,F=e.onKeyDown,R=e.onReturn,D=e.onAlternativeReturn,I=e.placeholder,L=e.prefix,N=e.rows,B=e.suffix,U=e.type,M=e.value,P=e.variant,q=void 0===P?"default":P,H=e.width,G=j(e,["active","affixBottom","block","characterLimit","colorNuance","containerProps","customPrefix","darkenPlaceholder","fullHeight","fullWidth","invalid","large","noBorder","onFocus","onChange","onChangeValue","onKeyDown","onReturn","onAlternativeReturn","placeholder","prefix","rows","suffix","type","value","variant","width"]),V=void 0!==x&&x>0&&!0===G.textarea,z=(null===M||void 0===M?void 0:M.toString().length)||0,Y=S?"100%":H,W=i()(((n={active:c,block:O,invalid:w,disabled:G.disabled,widthAuto:!Y,fullHeight:C,noBorder:k,darkenPlaceholder:y})["variant--"+q]=!!q,n)),K=G.p,Q=G.py,X=G.pt,$=G.pr,Z=G.pb,J=G.pl,ee=G.m,te=G.mx,ne=G.my,re=G.mt,ae=G.mr,oe=G.mb,ce=G.ml,ie=j(G,["p","py","pt","pr","pb","pl","m","mx","my","mt","mr","mb","ml"]),se=p({m:ee,mx:te,my:ne,mt:re,mr:ae,mb:oe,ml:ce,p:K,py:Q,pt:X,pr:$,pb:Z,pl:J,className:W,width:Y,sx:p(p(p({},h),{px:E?"20px":3}),g?{overflow:"hidden",position:"relative","&::before":{content:'""',top:0,left:0,height:"100%",width:"4px",position:"absolute",backgroundColor:g}}:{})},v),le="password"===U,ue=s.useState(!1),de=ue[0],be=ue[1],fe=s.useMemo((function(){return Object(r.jsx)(u.a,p({tabIndex:-1,fontSize:"18px",onClick:function(){return be((function(e){return!e}))},ml:3,variant:"plainDropdown"},{children:Object(r.jsx)(d.a,{icon:de?o.faEyeSlash:a.faEye,color:"neutral_6"},void 0)}),void 0)}),[de,be]),pe=de?"text":U,je=s.useCallback((function(e){null===T||void 0===T||T(e);var t=e.target.value;e.target.value="",e.target.value=t}),[T]),he=p({as:G.textarea?"textarea":"input"},G.textarea?{rows:void 0===N?1:N}:{}),Oe=p(p(p(p({py:G.textarea&&!m?2:0},ie),{type:pe,ref:t,value:M,maxLength:V?x:void 0}),he),{onFocus:je,onChange:function(e){A&&A(e),_&&_(e.currentTarget.value)},onKeyDown:function(e){var t;(F&&F(e),D&&(e.altKey||e.ctrlKey||e.shiftKey))?(t=D,function(e){"Enter"===e.key&&(e.preventDefault(),t(e))})(e):R&&function(e){return function(t){e&&"Enter"===t.key&&(t.preventDefault(),e(t.currentTarget.value))}}(R)(e)}});if(!(L||B||m||f||V||le))return Object(r.jsx)(b.a,p({},se,Oe,{placeholder:I,variant:"bodySecondary"}),void 0);var xe="string"!==typeof I;return Object(r.jsx)(b.a,p({as:"div"},se,{variant:"bodySecondary"},m&&{pl:0},{children:Object(r.jsxs)(l.d,p({style:{height:"100%",width:"100%",alignItems:"center"}},{children:[Object(r.jsxs)(l.d,p({p:m?2:0,style:p({flexGrow:1,flexShrink:1,flexWrap:"wrap",alignItems:"center"},C&&{height:"100%"})},{children:[L&&Object(r.jsx)(l.d,p({pr:1,mr:2,style:{borderRight:"1px solid",alignSelf:"stretch",alignItems:"center"},sx:{borderColor:"neutral_5"}},{children:L}),void 0),m||null,Object(r.jsxs)(l.a,p({py:L?2:0,style:p({flexGrow:1,flexShrink:1,position:"relative"},C&&{height:"100%"})},{children:[xe&&""===M&&Object(r.jsx)(b.a,{as:"div",children:I,style:{position:"absolute",height:"100%",width:"100%",zIndex:1,whiteSpace:"nowrap"}},void 0),Object(r.jsxs)(l.d,p({style:{flexDirection:"column",height:"100%"},pb:!f&&!V||m?0:2},{children:[Object(r.jsx)(b.a,p({placeholder:xe?void 0:I,style:p({flexGrow:1,flexShrink:1,position:"relative",zIndex:2,border:"0 none",background:"transparent",color:"inherit",fontSize:"inherit",outline:0,width:"100%",resize:"none"},C&&{height:"100%"})},Oe),void 0),f||null,V&&Object(r.jsx)(l.a,p({sx:{textAlign:"right"}},{children:Object(r.jsxs)(b.a,p({fontSize:0,variant:"captionPrimary"},{children:[z," / ",x]}),void 0)}),void 0)]}),void 0)]}),void 0)]}),void 0),(B||le)&&Object(r.jsx)(l.d,p({style:{flexGrow:0,flexShrink:0,flexBasis:"auto",alignSelf:"center"}},{children:B||fe}),void 0)]}),void 0)}),void 0)}));t.a=O},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),a=n(15);function o(e,t,n,o,c){var i=(null===c||void 0===c?void 0:c.merger)||function(e){return e},s=(null===c||void 0===c?void 0:c.transformer)||function(e){return e},l=t.reduce((function(e,t,r){var c=e.added,s=e.updated,l=e.items,u=n+c+r,d=l[u],b=l.length>u&&o(d,t),f=b?i(d,t):t;return{added:c+(b?0:1),updated:s+(b?1:0),items:[].concat(Object(a.a)(l.slice(0,u)),[f],Object(a.a)(l.slice(u+(b?1:0))))}}),{added:0,updated:0,items:Object.entries(e).map((function(e){var t=Object(r.a)(e,2);t[0];return t[1]}))}),u=l.items,d=l.added,b=l.updated;return 0===d&&0===b?e:Object.fromEntries(u.map((function(e,t){return[t,s(e)]})))}},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return g}));var r=n(6),a=n.n(r),o=n(265),c=n(7),i=n(3),s=n(27),l=a.a.mark(j),u=a.a.mark(h),d=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}(s.c.success,s.f.success,s.g.success,s.h.success),[o.a,Object(i.getType)(s.c.success),Object(i.getType)(s.g.success),Object(i.getType)(s.h.success)]),b=[o.a,Object(i.getType)(s.f.success)];function f(e){switch(e.type){case Object(i.getType)(s.c.success):case Object(i.getType)(s.g.success):case Object(i.getType)(s.h.success):return e.payload.access_token;case o.a:return e.payload&&e.payload.auth&&e.payload.auth.accessToken||null;default:return console.warn('Could not extract token from "'.concat(e.type,'"')),null}}function p(e){switch(e.type){case Object(i.getType)(s.f.success):return e.payload.access_token;case o.a:return e.payload&&e.payload.auth&&e.payload.auth.guestAccessToken||null;default:return null}}function j(e,t,n,r){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(o=f(r))){a.next=4;break}return a.next=4,n(e,t,o);case 4:case"end":return a.stop()}}),l)}function h(e,t,n,r){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(o=p(r))){a.next=4;break}return a.next=4,n(e,t,o);case 4:case"end":return a.stop()}}),u)}function O(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(o=r?!0===r?c.k:r:c.j,!n)return a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o(e,t);case 2:case"end":return n.stop()}}),n)}));var s=i?h:j,l=i?b:d;return a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.k)(l,s,e,t,o);case 2:case"end":return n.stop()}}),n)}))}function x(e,t){return O(Object(i.getType)(e),t,!0)}function g(e,t){return O(Object(i.getType)(e),t,!0,!1,!0)}},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={"IVC::CONNECTED":"ivc_connected","MODELS::MODEL_ADDED":"models_model_added","MODELS::MODEL_PROMOTED":"models_model_promoted","MESSAGES::MESSAGE_SENT":"messages_message_sent","NLU::MESSAGE_ANNOTATED":"nlu_message_annotated","IVC::CHANGES_PUSHED":"ivc_changes_pushed",END:"onboarding_end"};t.b=function(e,t,n,a,o,c){return[{name:r["IVC::CONNECTED"],title:"Welcome to Rasa X!",showBadge:!0,icon:"\ud83d\udc4b",content:"Rasa X will help you develop and improve your assistant. To help get you started we can show you the most important parts.",showDarkBackground:!0,onClose:function(){o("Prompt Clicked",{prompt:"Onboarding Welcome",action:"Dismiss"})},action:function(){o("Prompt Clicked",{prompt:"Onboarding Welcome",action:"Start"}),e("connect_repo")}},{name:r["MODELS::MODEL_ADDED"],title:"You have a repo connected",content:"Now it\u2019s time to add a model.",showBadge:!0,action:function(){e("upload_model")}},{name:r["MODELS::MODEL_PROMOTED"],title:"You have a model! Time to activate it",content:"Make the model available by activating it from the \u201cmodels\u201d screen.",showBadge:!0,action:function(){a("/models"),e("activate_model")}},{name:r["MESSAGES::MESSAGE_SENT"],title:"Your assistant is up and running",content:"Follow Conversation-Driven Development and share your assistant with test users.",showBadge:!0,action:function(){a("/conversations"),e("share_bot")},links:[{title:"Learn more about Conversation Driven Development",href:"https://rasa.com/blog/conversation-driven-development-a-better-approach-to-building-ai-assistants/"}]},{name:r["NLU::MESSAGE_ANNOTATED"],title:"Your assistant is talking to users",content:"Now let\u2019s use those conversations to improve your assistant\u2019s NLU classification.",showBadge:!0,action:function(){a("/nlu-inbox"),t({name:"annotate_data",title:"Improve your assistant with data from real conversations",content:"The NLU Inbox collects messages your assistant has received that are not in your training data. Ensure that the intent and any entities are correctly labelled and then add them to your training data.",showDarkBackground:!1,showBadge:!0,links:[{title:"Learn more about annotating NLU examples",href:"//rasa.com/docs/rasa-x/user-guide/annotate-nlu-examples/"}]})}},{name:r["IVC::CHANGES_PUSHED"],title:"You\u2019ve added improvements to your training data",content:"Now it\u2019s time to push your updates to Git",showBadge:!0,action:function(){e("push_changes")}},{name:r.END,icon:"\ud83c\udf89",title:"Nice work! Now you can continue building and improving your assistant.",content:"You\u2019ll see the most benefit when you repeat these steps: a continuous loop of improvement, based on conversation with real users. Next you may want to learn more about:",onClose:function(){o("Prompt Clicked",{prompt:"Onboarding Complete",action:"Dismiss"})},customActions:[{content:"Okay",action:function(){n(!1),o("Prompt Clicked",{prompt:"Onboarding Complete",action:"Dismiss"}),c("onboarding_end")}}],links:[{title:"CI/CD for your assistant",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#set-up-initial-cicd",action:function(){o("Prompt Clicked",{prompt:"Onboarding Complete",action:"CI/CD Link",link:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#set-up-initial-cicd"})}},{title:"Adding a custom action server",href:"//rasa.com/docs/rasa/user-guide/how-to-deploy/#using-your-custom-action-server-image",action:function(){o("Prompt Clicked",{prompt:"Onboarding Complete",action:"Action Server Link",link:"//rasa.com/docs/rasa/user-guide/how-to-deploy/#using-your-custom-action-server-image"})}},{title:"Connecting to a messaging channel",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-external-channels",action:function(){o("Prompt Clicked",{prompt:"Onboarding Complete",action:"Message Channel Link",link:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-external-channels"})}}],showBadge:!1}]}},140:function(e,t,n){"use strict";n.d(t,"b",(function(){return H}));var r=n(6),a=n.n(r),o=n(8),c=n(7),i=n(3),s=n(18),l=n(20),u=n(295),d=n(31),b=n(37),f=n(49),p=n(36),j=n(232),h=n(12),O=n(32),x=a.a.mark(R),g=a.a.mark(D),v=a.a.mark(I),m=a.a.mark(L),y=a.a.mark(N),C=a.a.mark(B),S=a.a.mark(U),w=a.a.mark(M),E=a.a.mark(P),k=a.a.mark(q),T=a.a.mark(H),A=a.a.mark(G),_=j.a.filter,F=u.a.filter;function R(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(c.b)(o.zb,e,"default"),"t0",2);case 2:return t=n.t0,n.next=5,Object(c.f)(O.g.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(s.a)(n.t1);case 11:return n.next=13,Object(c.f)(O.g.failure(n.t1));case 13:case"end":return n.stop()}}),x,null,[[0,7]])}function D(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(c.b)(o.Wb,e,"default"),"t0",2);case 2:return t=n.t0,n.next=5,Object(c.f)(O.i.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(s.a)(n.t1);case 11:return n.next=13,Object(c.f)(O.i.failure(n.t1));case 13:case"end":return n.stop()}}),g,null,[[0,7]])}function I(e,t){var n,r,i,l,u,d,b;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryUrl,i=n.targetBranch,l=n.protectedBranch,u=n.username,d=n.password,a.prev=1,a.delegateYield(Object(c.b)(o.o,e,"default",r,i,l,u,d),"t0",3);case 3:return b=a.t0,a.next=6,Object(c.f)(O.e.success(b.data));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(s.a)(a.t1);case 12:return a.next=14,Object(c.f)(O.e.failure(a.t1));case 14:case"end":return a.stop()}}),v,null,[[1,8]])}function L(e,t){var n,r,i,l,u,d,b;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,i=n.targetBranch,l=n.protectedBranch,u=n.username,d=n.password,a.prev=1,a.delegateYield(Object(c.b)(o.dd,e,"default",r,i,l,u,d),"t0",3);case 3:return b=a.t0,a.next=6,Object(c.f)(O.m.success(b.data));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(s.a)(a.t1);case 12:return a.next=14,Object(c.f)(O.m.failure(a.t1));case 14:case"end":return a.stop()}}),m,null,[[1,8]])}function N(e,t){var n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.repositoryId,a.prev=1,a.delegateYield(Object(c.b)(o.D,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(c.f)(O.f.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(s.a)(a.t1);case 12:return a.next=14,Object(c.f)(O.f.failure(a.t1));case 14:case"end":return a.stop()}}),y,null,[[1,8]])}function B(e,t){var n,r,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.delegateYield(Object(c.h)((function(e){return e.gitRepositories.activeGitRepository})),"t0",1);case 1:if(null!==(n=a.t0)){a.next=4;break}return a.abrupt("return");case 4:return r=t.payload.repositoryId,a.prev=5,a.delegateYield(Object(c.b)(o.Ab,e,"default",r||n.id),"t1",7);case 7:return i=a.t1,a.next=10,Object(c.f)(O.h.success(i));case 10:if(!i.is_remote_ahead){a.next=13;break}return a.next=13,G();case 13:a.next=21;break;case 15:return a.prev=15,a.t2=a.catch(5),a.next=19,Object(s.a)(a.t2);case 19:return a.next=21,Object(c.f)(O.h.failure(a.t2));case 21:case"end":return a.stop()}}),C,null,[[5,15]])}function U(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.payload.repositoryId;case 1:return r.next=4,Object(c.f)(O.h.request({repositoryId:t}));case 4:return r.delegateYield(Object(c.h)((function(e){return e.gitRepositories.error.fetchGitRepositoryStatus})),"t0",5);case 5:return n=r.t0,r.next=8,Object(c.d)(n?1e4:6e4);case 8:r.next=1;break;case 10:case"end":return r.stop()}}),S)}function M(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.g)({poll:Object(c.b)(U,e),stop:Object(c.i)(Object(i.getType)(O.l))});case 2:case"end":return t.stop()}}),w)}function P(e,t){var n,r,i,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,i=n.branchName,l=n.commitMessage,a.prev=1,a.delegateYield(Object(c.b)(o.m,e,"default",r,i,l),"t0",3);case 3:return a.next=5,Object(c.f)(O.d.success());case 5:return a.next=7,Object(c.f)(O.h.request({repositoryId:r}));case 7:a.next=16;break;case 9:return a.prev=9,a.t1=a.catch(1),a.next=13,Object(s.a)(a.t1);case 13:return console.log({error:a.t1}),a.next=16,Object(c.f)(O.d.failure({name:a.t1.response.data.reason,message:a.t1.response.data.message}));case 16:case"end":return a.stop()}}),E,null,[[1,9]])}function q(e,t){var n,r,i,l,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,i=n.branchName,l=n.force,u=void 0!==l&&l,a.prev=1,a.delegateYield(Object(c.b)(o.k,e,"default",r,i,u),"t0",3);case 3:return a.next=5,Object(c.f)(O.c.success());case 5:return a.next=7,Object(c.f)(O.h.request({repositoryId:r}));case 7:return a.next=9,G();case 9:a.next=17;break;case 11:return a.prev=11,a.t1=a.catch(1),a.next=15,Object(s.a)(a.t1);case 15:return a.next=17,Object(c.f)(O.c.failure(a.t1));case 17:case"end":return a.stop()}}),k,null,[[1,11]])}function H(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.f)(O.h.request({}));case 2:case"end":return e.stop()}}),T)}function G(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)([Object(c.f)(b.h.request({offset:0,limit:20})),Object(c.f)(b.f.request()),Object(c.f)(l.k.request({search:"",filter:F,offset:0,limit:20})),Object(c.f)(l.l.request()),Object(c.f)(l.i.request()),Object(c.f)(l.h.request()),Object(c.f)(l.g.request()),Object(c.f)(p.e.request({search:"",filter:_,offset:0,limit:20})),Object(c.f)(f.b.request({search:"",offset:0,limit:20})),Object(c.f)(d.g.request()),Object(c.f)(d.d.request())]);case 2:case"end":return e.stop()}}),A)}var V=[Object(h.a)(Object(i.getType)(O.h.request),B,!0,!0),Object(h.a)(Object(i.getType)(O.i.request),D,!0,!0),Object(h.a)(Object(i.getType)(O.e.request),I,!0,!0),Object(h.a)(Object(i.getType)(O.m.request),L,!0,!0),Object(h.a)(Object(i.getType)(O.f.request),N,!0,!0),Object(h.a)(Object(i.getType)(O.g.request),R,!0,!0),Object(h.a)(Object(i.getType)(O.d.request),P,!0,!0),Object(h.a)(Object(i.getType)(O.c.request),q,!0,!0),Object(h.a)(Object(i.getType)(O.k),M,!1,!0)];t.a=V},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var r,a=n(15),o=n(2),c=n(3),i=n(19),s=n(41),l=n(38);!function(e){e.Loading="loading",e.ClassifyingIntent="classifyingIntent",e.ConfirmingAction="confirmingAction",e.Ready="ready"}(r||(r={}));var u={conversationId:null,strictMode:!1,environment:"production",parsedMessage:null,parsedMessageConversationId:null,predictedAction:null,predictedActions:[],storyName:"New Story",savedStoryId:null,loading:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(c.getType)(l.d):return Object(o.a)(Object(o.a)({},e),{},{strictMode:t.payload});case Object(c.getType)(l.j.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{parseMessage:!0})});case Object(c.getType)(l.j.success):case Object(c.getType)(l.b):return Object(o.a)(Object(o.a)({},e),{},{parsedMessage:t.payload,parsedMessageConversationId:e.conversationId,loading:Object(o.a)(Object(o.a)({},e.loading),{},{parseMessage:!1})});case Object(c.getType)(l.a):return Object(o.a)(Object(o.a)({},e),{},{parsedMessage:null,loading:Object(o.a)(Object(o.a)({},e.loading),{},{parseMessage:!0})});case Object(c.getType)(i.g.success):var n=t.payload.conversation,r=e.parsedMessageConversationId===n.sender_id;return Object(o.a)(Object(o.a)({},e),{},{parsedMessage:r?e.parsedMessage:null});case Object(c.getType)(l.k.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{saveEvent:!0})});case Object(c.getType)(i.x.success):case Object(c.getType)(l.k.success):return Object(o.a)(Object(o.a)({},e),{},{parsedMessage:null,loading:Object(o.a)(Object(o.a)({},e.loading),{},{saveEvent:!1})});case Object(c.getType)(l.i.success):var d=t.payload,b=d.prediction,f=d.actions,p=Object(a.a)(b.scores).sort((function(e,t){return t.score-e.score})),j=[].concat(Object(a.a)(p),Object(a.a)(f.filter((function(e){return!p.find((function(t){return t.action!==e}))})).map((function(e){return{action:e,score:0}}))));return Object(o.a)(Object(o.a)({},e),{},{predictedActions:j,predictedAction:j[0]});case Object(c.getType)(l.c):var h=t.payload;return Object(o.a)(Object(o.a)({},e),{},{predictedAction:h});case Object(c.getType)(l.g.request):case Object(c.getType)(l.f.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{confirmPrediction:!0})});case Object(c.getType)(l.g.success):case Object(c.getType)(l.f.success):return Object(o.a)(Object(o.a)({},e),{},{predictedActions:[],predictedAction:null,loading:Object(o.a)(Object(o.a)({},e.loading),{},{confirmPrediction:!1})});case Object(c.getType)(s.i.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{saveStory:!0}),savedStoryId:null});case Object(c.getType)(s.i.success):return Object(o.a)(Object(o.a)({},u),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{saveStory:!1}),savedStoryId:t.payload[0].id});case Object(c.getType)(l.e):return Object(o.a)(Object(o.a)({},u),t.payload);case Object(c.getType)(l.h.success):return Object(o.a)(Object(o.a)({},e),{},{conversationId:t.payload.sender_id});default:return e}}},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),a=n(23),o=n(0),c=n(21),i=n(217),s=n(1),l=n(5),u=n(1136),d=n(578),b=n(266),f=n(1135),p=n.n(f);function j(e){var t=e.text,n=e.onCopy,i=e.top,f=void 0===i||i,j=e.left,h=void 0!==j&&j,O=e.tooltipPlacement,x=Object(a.a)(e,["text","onCopy","top","left","tooltipPlacement"]),g=s.useState(!1),v=Object(l.a)(g,2),m=v[0],y=v[1];s.useEffect((function(){if(m){n&&n();var e=setTimeout((function(){return y(!1)}),5e3);return function(){return clearTimeout(e)}}}),[m,n]);var C=Object(d.b)(m?"Successfully copied":"Copy to clipboard",{zIndex:999999,placement:O});return Object(o.jsx)(c.a,Object(r.a)(Object(r.a)({ref:C,sx:{color:"neutral_6",bg:"neutral_2",border:"1px solid",borderColor:"neutral_5",position:"absolute",overflow:"hidden",top:f?0:"100%",left:h?0:"100%",transform:"translate(".concat(h?0:"-100%",", ").concat(f?0:"-100%",")"),["border".concat(f?"Bottom":"Top").concat(h?"Right":"Left","Radius")]:"normal",["border".concat(f?"Top":"Bottom")]:"0 none",["border".concat(h?"Left":"Right")]:"0 none","&:hover":{color:"neutral_7"},"& .ClipboardButton":{border:0,padding:0,cursor:"pointer",width:"24px",height:"24px",color:"neutral_6",bg:"neutral_2"}}},x),{},{children:Object(o.jsx)(p.a,{as:"button","button-className":"ClipboardButton","data-clipboard-text":t,onSuccess:function(){return y(!0)},children:Object(o.jsx)(b.a,{icon:u.faClone,fontSize:"12px"})})}))}function h(e){var t=e.preformatted,n=e.children,l=e.onCopy,u=e.disabled,d=e.fullSize,b=e.clipboardText,f=e.tooltipPlacement,p=Object(a.a)(e,["preformatted","children","onCopy","disabled","fullSize","clipboardText","tooltipPlacement"]),h=s.useMemo((function(){return b||(Array.isArray(n)?n.join(t?"\n":""):n)}),[n,b,t]);return Object(o.jsxs)(c.a,Object(r.a)(Object(r.a)({bg:"neutral_1"},p),{},{sx:Object(r.a)({position:"relative",maxHeight:"280px",overflow:"hidden",borderColor:"neutral_5",borderRadius:"normal",borderWidth:"1px",borderStyle:"solid"},d?{height:"100%",overflow:"auto"}:{}),children:[Object(o.jsx)(j,{text:h,onCopy:l&&l,tooltipPlacement:f}),Object(o.jsx)(i.a,{variant:"code",color:u?"neutral_6":"neutral_8",style:{overflow:"auto",textOverflow:"initial",wordBreak:"break-all",display:"block"},className:"hide-in-percy",children:t&&Array.isArray(n)?n.map((function(e,t){return Object(o.jsx)("pre",{style:{margin:0},children:e},t)})):n})]}))}h.defaultProps={p:20}},1534:function(e,t,n){},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"l",(function(){return C})),n.d(t,"k",(function(){return S})),n.d(t,"h",(function(){return w})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return k})),n.d(t,"b",(function(){return T})),n.d(t,"j",(function(){return A})),n.d(t,"c",(function(){return _})),n.d(t,"m",(function(){return F})),n.d(t,"e",(function(){return R})),n.d(t,"i",(function(){return D})),n.d(t,"d",(function(){return I}));var r=n(5),a=n(15),o=n(2267),c=n(84),i=n.n(c),s=n(1),l=n(9),u=n(96),d=n(3),b=n(174),f=n(1097),p=n(122),j=n(11),h=Object(p.b)(p.c,(function(e,t){return e.length===t.length}))((function(e){return e.permissions}),(function(e){var t=new f.AccessControl(e);return t.grant(j.f),t})),O=n(207),x=n(116),g=n(85),v=function(e,t,n){var r=s.useRef(null),o=s.useRef(e),c=s.useRef(t);s.useEffect((function(){o.current=e}),[e]),s.useEffect((function(){c.current=t}),[t]),s.useEffect((function(){var e;return r.current&&clearTimeout(r.current),r.current=setTimeout((e=o.current).bind.apply(e,[null].concat(Object(a.a)(n))),c.current),function(){r.current&&clearTimeout(r.current)}}),n)};function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(l.d)((function(e){return h(e.auth)}));return s.useMemo((function(){return!e&&!t||(Array.isArray(e)?e:[e]).some((function(e){var a=r.permission({role:"current",action:t,resource:e}),o=a.attributes.includes("*")||n.every((function(e){return a.attributes.includes(e)}));return a.granted&&o}))}),[r,e,t,n])}function y(e){var t=s.useMemo((function(){return O.b.createAsyncFunction({start:Object(d.getType)(e.request),resolve:Object(d.getType)(e.success),reject:Object(d.getType)(e.failure)})}),[e.request,e.success,e.failure]),n=t.asyncFunction,r=t.unsubscribe;return s.useEffect((function(){return function(){return r()}}),[r]),n}function C(){var e=Object(l.c)();s.useEffect((function(){e(x.a.request())}),[e]);var t=Object(l.d)((function(e){return e.telemetry}));return{userGroups:t.user_groups,userId:t.user_id}}function S(){var e=Object(l.c)();return s.useCallback((function(t,n){return e(x.c.request({event:t,payload:n}))}),[e])}function w(e,t){var n=Object(u.i)(),r=s.useMemo((function(){return new URLSearchParams(n.search).get(e)}),[n.search,e]);return s.useEffect((function(){null===t||void 0===t||t(r)}),[t,r]),r}function E(e){var t=s.useState(e),n=Object(r.a)(t,2),a=n[0],o=n[1],c=s.useCallback((function(){return o((function(e){return!e}))}),[o]);return s.useMemo((function(){return[a,c]}),[a,c])}function k(){var e=Object(l.c)();s.useEffect((function(){e(b.a.request({skipExternal:!1}))}),[e]);var t=Object(l.d)((function(e){return e.application.version}));if(!t)return{};var n=t["rasa-x"],r=t.updates?t.updates["rasa-x"].version:n;return{currentVersion:n,latestVersion:r,changelog:t.updates?t.updates["rasa-x"].changelog_url:void 0,updateAvailable:n!==r}}function T(){return Object(l.d)((function(e){var t,n;return null!==(t=null===(n=e.application.version)||void 0===n?void 0:n.enterprise)&&void 0!==t&&t}))}function A(){return Object(l.d)((function(e){var t;return!1===(null===(t=e.application.version)||void 0===t?void 0:t.local_mode)}))}function _(){return Object(l.d)((function(e){var t=e.application.version;return!!t&&(!t.local_mode||t.development_mode)}))}function F(e){var t=s.useState(!1),n=Object(r.a)(t,2),a=n[0],o=n[1];return[a,s.useCallback((function(t){o(!0),setTimeout((function(){t(),o(!1)}),e)}),[o,e])]}function R(){var e=s.useRef(null),t=s.useState(new DOMRect),n=Object(r.a)(t,2),a=n[0],c=n[1],i=s.useCallback((function(e){return e.forEach((function(e){return c(e.target.getBoundingClientRect())}))}),[c]);return Object(o.a)(i,e.current),[e,a]}function D(e,t){var n=s.useState([]),a=Object(r.a)(n,2),o=a[0],c=a[1],l=s.useState(null),u=Object(r.a)(l,2),d=u[0],b=u[1],f=s.useCallback((function(n,r){c((function(a){var o=new Set(a);if(r&&null!==d&&d!==n){var c=Math.min(d,n),i=Math.max(d,n)+1;Array(i-c).fill(0).forEach((function(n,r){return o.add(e[r+c][t])}))}else o.has(e[n][t])?o.delete(e[n][t]):(b(n),o.add(e[n][t]));return Array.from(o).sort()}))}),[c,d,e,t]),p=s.useCallback((function(){c([]),b(null)}),[c]),j=s.useMemo((function(){return e.map((function(e){return e[t]})).filter(g.a)}),[e,t]),h=s.useRef();s.useEffect((function(){c((function(n){var r=[];return h.current&&i()(h.current,j)||(r=e.map((function(e){return n.includes(e[t])&&e[t]||void 0})).filter(g.a)),r}))}),[c,e,j,t]);var O=s.useMemo((function(){return o.map((function(e){return j.indexOf(e)})).filter((function(e){return e>=0}))}),[j,o]),x=s.useCallback((function(t){t(O.map((function(t){return e[t]}))),p()}),[p,e,O]);return{updateItemSelection:f,clearItemSelection:p,idArray:j,selectedItems:o,selectedItemsIndices:O,mapOverSelectedItemsWithCallback:x}}var I=function(e){return{onKeyboardEvent:function(t){(e[t.key]||function(){})(t)}}}},171:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=(n(1),n(4));function o(e){var t=e.children;return Object(r.jsx)(a.Flex,{flexDirection:"column",height:"100%",sx:{position:"relative"},children:t})}},172:function(e,t,n){"use strict";function r(e){window.open(e,"_blank","noopener,noreferrer")}function a(e){var t=/\.[0-9a-z]+$/i.exec(e);if(t)return t[0]}function o(e){var t="application/json";switch(a(e)){case".md":t="text/markdown";break;case".yml":case".yaml":t="text/yaml";break;case".json":t="application/json"}return t}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}))},174:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),a=Object(r.createAsyncAction)("FETCH VERSION","FETCH VERSION SUCCESS","FETCH VERSION FAILURE")()},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r={primary:{bg:"primary_2",color:"neutral_0"},error:{bg:"secondary_2",color:"neutral_0"},warning:{bg:"yellow_3",color:"yellow_4",borderColor:"yellow_4",border:"solid 1px"},generic:{bg:"cyan_3",color:"green_4",borderColor:"green_4",border:"solid 1px"}},a={small:{width:"28px",height:"28px"},medium:{width:"32px",height:"32px"},large:{width:"40px",height:"40px"},xl:{width:"56px",height:"56px"}},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c={bg:"primary_2",border:"none",borderRadius:"normal",boxShadow:"button",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"},"&:hover, &.hover":{bg:"primary_1"},"&:disabled, &.disabled":{color:"neutral_6",bg:"neutral_3",boxShadow:"none"}},i={borderRadius:"normal",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"5px","&.large":{fontSize:2,py:"9px"},"&:hover, &.hover":{borderColor:"primary_1",color:"primary_1"},"&:disabled, &.disabled":{borderColor:"neutral_5",color:"neutral_6"}},s=o(o({},i),{bg:"neutral_0",border:"1px solid",borderColor:"primary_2",color:"primary_2"}),l={bg:"transparent",border:"none",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"small",p:0,"&.large":{fontSize:2}},u={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"10px",lineHeight:0,p:2,"&:hover, &.hover":{color:"neutral_7"},"&.active":{color:"primary_1"}},d={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"16px",lineHeight:0,p:"12px","&.active":{bg:"transparent",color:"primary_2"},"&:hover, &.hover":{bg:"primary_2",color:"neutral_0"}},b=o(o({},d),{borderRadius:"small"}),f={primary:c,primaryDark:o(o({},c),{boxShadow:"none"}),login:o(o({},c),{letterSpacing:"1.1px !important",lineHeight:"28px"}),secondary:s,secondaryDashed:o(o({},i),{bg:"neutral_1",border:"1px dashed",borderColor:"neutral_5",color:"neutral_6"}),dark:{bg:"neutral_8",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},inverse:{bg:"transparent",border:"1px solid",borderColor:"neutral_0",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},plain:l,plainDropdown:o(o({},l),{color:"neutral_8","&:disabled, &.disabled":{color:"neutral_6"}}),icon:d,iconInverse:o(o({},d),{color:"neutral_0","&:hover, &.hover":o(o({},d["&:hover, &.hover"]),{color:"primary_1",bg:"neutral_0"})}),headerIcon:{bg:"neutral_0",border:"none",borderRadius:0,color:"neutral_6",fontSize:"16px",lineHeight:0,p:"28px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"neutral_6"}},secondaryHeaderIcon:{bg:"neutral_0",border:"none",borderRadius:0,width:"56px",height:"56px",color:"neutral_6",fontSize:"12px",lineHeight:0,"&:hover, &.hover":{color:"primary_2"},"&.active":{bg:"primary_1",color:"neutral_0"},"&:disabled, &.disabled":{borderColor:"neutral_5",color:"neutral_6","&:hover, &.hover":{color:"neutral_6"}}},plainIcon:u,squareIcon:b,plainIconDark:o(o({},u),{"&:hover, &.hover":o(o({},u["&:hover, &.hover"]),{color:"neutral_1"})}),barIcon:{bg:"transparent",border:"none",borderRadius:0,color:"primary_2",fontSize:"16px",lineHeight:0,p:"24px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"primary_1"}},onboardingIcon:o(o({},c),{bg:"neutral_0",color:"primary_2",padding:0,border:"1px solid",borderColor:"primary_4",borderRadius:50,fontSize:"20px",width:"48px",height:"48px","&:hover, &.hover":{bg:"neutral_1",color:"neutral_7"},"&.active":{color:"primary_1"}}),link:o(o({},l),{color:"primary_2",fontSize:"13px",lineHeight:"20px",fontWeight:400,"&:hover":{textDecoration:"underline"}}),smallLink:o(o({},l),{color:"primary_2",fontSize:"11px",lineHeight:"12px",fontWeight:400}),circle:o(o({},c),{width:65,height:65,borderRadius:65,lineHeight:0}),secondaryFill:o(o({},s),{"&:hover, &.hover":{"&:enabled, &.enabled":{bg:"primary_1",color:"neutral_0"}}})},p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},j={content:'""',borderRadius:"1000px",position:"absolute",top:"-4px",bottom:"-4px",left:"-4px",right:"-4px",zIndex:-1},h={h1:{fontSize:6},h2:{fontSize:4},h3:{fontSize:3},h4:{fontSize:2},h5:{fontSize:1}},O={default:{color:"neutral_8","&:hover":{bg:"neutral_1"}},primary:{color:"primary_2","&:hover":{bg:"neutral_1",color:"primary_1","&.active":{bg:"primary_1",color:"neutral_0"}}}},x={primary:{borderColor:"neutral_4"},light:{borderColor:"neutral_3"}},g={left:{"& > :first-of-type":{pr:"12px"},"&:before":{display:"none"}},center:{"& > :first-of-type":{px:"12px"}},right:{"& > :first-of-type":{pl:"12px"},"&:after":{display:"none"}}},v={default:{borderRadius:"large","& .table-row:last-of-type":{border:"none",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"}},flattened:{borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:"large",borderBottomRightRadius:"large"}},m={bodyPrimary:{fontFamily:"sansSerif",color:"neutral_8",fontSize:3,lineHeight:"normal"},bodySecondary:{fontFamily:"sansSerif",color:"neutral_8",fontSize:2,lineHeight:"normal"},faintBodySecondary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:2,lineHeight:"normal"},captionPrimary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:2,lineHeight:"small"},captionSecondary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:0,lineHeight:"tight"},metadata:{fontFamily:"sansSerif",color:"neutral_7",fontSize:0,lineHeight:"tight"},code:{color:"neutral_8",fontFamily:"mono",fontSize:1,lineHeight:"normal"},inverse:{fontFamily:"sansSerif",color:"neutral_0",fontSize:3,lineHeight:"normal"},sidenote:{fontFamily:"sansSerif",color:"neutral_6",fontSize:2,fontStyle:"italic"},error:{fontFamily:"sansSerif",color:"secondary_2",fontSize:2},text_extra_small:{fontFamily:"sansSerif",fontSize:11,lineHeight:"16px",letterSpacing:.6},text_small:{fontFamily:"sansSerif",fontSize:12,lineHeight:"18px",letterSpacing:.6},text_regular:{fontFamily:"sansSerif",fontSize:13,lineHeight:"20px",letterSpacing:.6},text_large:{fontFamily:"sansSerif",fontSize:14,lineHeight:"20px",letterSpacing:.6}},y={alert:r,avatar:a,checkbox:{default:{color:"neutral_0",borderRadius:"4px","input:checked + &":{bg:"primary_2",border:"none",borderColor:"transparent"},"input:focus + &::before":p(p({},j),{bg:"primary_4"})},primary:{color:"primary_2",borderRadius:"4px","input:checked + &":{bg:"neutral_0"},"input:focus + &::before":p(p({},j),{bg:"primary_3"})},radio:{color:"primary_2",borderRadius:"20px","input:checked + &":{bg:"neutral_0",border:"1px solid",borderColor:"primary_2"}}},modal:n(541).a,section:x,separator:g,table:v},C={button:f,option:O},S={heading:h,text:m},w=[11,12,13,14,16,20,24,32,48,64,72],E={large:"36px",big:"24px",normal:"20px",small:"16px",tight:"12px"},k=[400,700],T={primary_1:"#4A3DD4",primary_2:"#574AE2",primary_3:"#6C5EF9",primary_4:"#DDDCF6",primary_5:"#F2F2F9",neutral_0:"#FFFFFF",neutral_1:"#F6F7FB",neutral_2:"#F2F4FA",neutral_3:"#ECEFF7",neutral_4:"#DDE2EF",neutral_5:"#CED5E7",neutral_6:"#979FB4",neutral_7:"#2C3951",neutral_8:"#252D40",secondary_1:"#972422",secondary_2:"#C6423F",secondary_3:"#E85653",secondary_4:"#F8CBCA",orange_1:"#EB9015",orange_2:"#FF9F1C",orange_3:"#F8DEBB",yellow_1:"#E4B912",yellow_2:"#FFD121",yellow_3:"#FBF2D1",yellow_4:"#806908",green_1:"#48A9A6",green_2:"#4DD6D2",green_3:"#D6EBEA",green_4:"#1B7774",blue_1:"#3158D6",blue_2:"#446FF8",blue_3:"#D0E3FC",cyan_1:"#4DD6D2",cyan_2:"#87E5E2",cyan_3:"#DEFBFA",grey:"#dde2ef",black:"#333333",white:"#ffffff",active:"#e6f7ff",dark_grey_temp:"#6B7694"},A=["#bae25b","#94c6ff","#ff5a5a","#50c4ab","#ffd036","#98fdff","#f9946a","#ad96f0","#5c8eff","#fbb6ff","#546c82","#c3c3c3"].map((function(e){return e.slice(1)})),_={color:T.neutral_8,lineHeight:parseFloat(E.big),fontSize:w[2],canvasFontConfig:k[0]+" "+w[2]+"px Lato"},F={breakpoints:["0","500px","800px","1200px","1900px"],colors:T,colours:T,fontSizes:w,fontWeights:k,gradients:{primary_1:"linear-gradient(56deg, rgba(113, 22, 208, 0.95), #4e61e1)",secondary_1:"linear-gradient(90deg, rgba(236,239,247,0.2) 0%, rgba(236,239,247,1) 50%, rgba(236,239,247,0.2) 100%)"},heights:[32,40,48,56,64],letterSpacings:[.6,.7,.9,1.4],lineHeights:E,space:[0,4,8,16,24,32,40,48,56,64,72,80,128,256,512],fonts:{mono:'"IBM Plex Mono", "Courier New", Courier, monospace',sansSerif:'"Lato", -apple-system, BlinkMacSystemFont, "avenir next", avenir, "helvetica neue", helvetica, ubuntu, roboto, noto, "segoe ui", arial, sans-serif'},active:{background:T.active},radii:{tiny:2,small:4,normal:8,large:16},actions:{default:{color:"dark_grey_temp"},incorrect:{color:"dark_grey_temp",textDecoration:"line-through"},correct:{color:T.primary_2,fontWeight:k[1]}},shadows:{sm:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",md:"0 3px 6px 0 rgba(96,97,149,0.20)",lg:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",selectBox:"0 2px 8px 0 "+T.neutral_5,card:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",button:"0 2px 4px 0 rgba(207, 207, 207, 0.67)",pageTitle:"0 2px 6px 0 "+T.neutral_3},menuItem:{default:{color:T.neutral_6,backgroundColor:"transparent","&:hover":{color:T.neutral_0,backgroundColor:T.neutral_8}}},text:S,buttons:C,variants:y,sentenceEditor:_};t.b=F},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(7),a=n(27);function o(e){var t=e.response;if(!t)return Object(r.c)();if(401===t.status&&t.data.reasons){var n=t.data.reasons;if(n.includes("Signature has expired."))return Object(r.f)(Object(a.i)("Authentication token expired"));if(n.includes("Auth required."))return Object(r.f)(Object(a.i)("Authentication token invalid"))}return Object(r.c)()}},189:function(e,t,n){"use strict";var r=n(22),a=n(4),o=n(24),c=Object(r.default)(a.Flex).withConfig({displayName:"Menu",componentId:"hqn2o1-0"})([""," list-style:none;"],o.height);c.defaultProps={as:"ul",m:0,pl:0,flexDirection:"row"},t.a=c},19:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"q",(function(){return o})),n.d(t,"x",(function(){return c})),n.d(t,"w",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"z",(function(){return l})),n.d(t,"A",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"r",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"k",(function(){return j})),n.d(t,"j",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"l",(function(){return x})),n.d(t,"i",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"s",(function(){return C})),n.d(t,"B",(function(){return S})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return k})),n.d(t,"y",(function(){return T})),n.d(t,"C",(function(){return A})),n.d(t,"u",(function(){return _})),n.d(t,"t",(function(){return F})),n.d(t,"v",(function(){return R}));var r=n(3),a=Object(r.createAsyncAction)("FETCH CONVERSATION","FETCH CONVERSATION SUCCESS","FETCH CONVERSATION FAILURE")(),o=Object(r.createStandardAction)("FETCH CONVERSATION (GUEST)")(),c=Object(r.createAsyncAction)("SAVE MESSAGE","SAVE MESSAGE SUCCESS","SAVE MESSAGE FAILURE")(),i=Object(r.createStandardAction)("SAVE MESSAGE (GUEST)")(),s=Object(r.createStandardAction)("CHANGE CONVERSATION ENVIRONMENT")(),l=Object(r.createStandardAction)("START POLLING MESSAGES")(),u=Object(r.createStandardAction)("STOP POLLING MESSAGES")(),d=Object(r.createAsyncAction)("FETCH CONVERSATIONS","FETCH CONVERSATIONS SUCCESS","FETCH CONVERSATIONS FAILURE")(),b=Object(r.createAsyncAction)("FETCH STATISTICS","FETCH STATISTICS SUCCESS","FETCH STATISTICS FAILURE")(),f=Object(r.createStandardAction)("DOWNLOAD CONVERSATION")(),p=Object(r.createAsyncAction)("DELETE CONVERSATION","DELETE CONVERSATION SUCCESS","DELETE CONVERSATION FAILURE")(),j=Object(r.createAsyncAction)("FETCH CONVERSATION INTENTS","FETCH CONVERSATION INTENTS SUCCESS","FETCH CONVERSATION INTENTS FAILURE")(),h=Object(r.createAsyncAction)("FETCH CONVERSATION ENTITIES","FETCH CONVERSATION ENTITIES SUCCESS","FETCH CONVERSATION ENTITIES FAILURE")(),O=Object(r.createAsyncAction)("FETCH CONVERSATION ACTIONS","FETCH CONVERSATION ACTIONS SUCCESS","FETCH CONVERSATION ACTIONS FAILURE")(),x=Object(r.createAsyncAction)("FETCH CONVERSATION POLICIES","FETCH CONVERSATION POLICIES SUCCESS","FETCH CONVERSATION POLICIES FAILURE")(),g=Object(r.createAsyncAction)("FETCH CONVERSATION CHANNELS","FETCH CONVERSATION CHANNELS SUCCESS","FETCH CONVERSATION CHANNELS FAILURE")(),v=Object(r.createAsyncAction)("FETCH CHAT TOKEN","FETCH CHAT TOKEN SUCCESS","FETCH CHAT TOKEN FAILURE")(),m=Object(r.createAsyncAction)("FETCH BOT DETAILS","FETCH BOT DETAILS SUCCESS","FETCH BOT DETAILS FAILURE")(),y=Object(r.createStandardAction)("CHANGE FILTER")(),C=Object(r.createAsyncAction)("FLAG MESSAGE","FLAG MESSAGE SUCCESS","FLAG MESSAGE FAILURE")(),S=Object(r.createAsyncAction)("UNFLAG MESSAGE","UNFLAG MESSAGE SUCCESS","UNFLAG MESSAGE FAILURE")(),w=Object(r.createAsyncAction)("FETCH CONVERSATION SLOT NAMES","FETCH CONVERSATION SLOT NAMES SUCCESS","FETCH CONVERSATION SLOT NAMES FAILURE")(),E=Object(r.createAsyncAction)("FETCH CONVERSATION SLOT VALUES","FETCH CONVERSATION SLOT VALUES SUCCESS","FETCH CONVERSATION SLOT VALUES FAILURE")(),k=Object(r.createAsyncAction)("FETCH CONVERSATION STORY","FETCH CONVERSATION STORY SUCCESS","FETCH CONVERSATION STORY FAILURE")(),T=Object(r.createStandardAction)("SELECT INTENT")(),A=Object(r.createAsyncAction)("UPDATE REVIEW STATUS","UPDATE REVIEW STATUS SUCCESS","UPDATE REVIEW STATUS FAILURE")(),_=Object(r.createAsyncAction)("SAVE CONVERSATION TAGS","SAVE CONVERSATION TAGS SUCCESS","SAVE CONVERSATION TAGS FAILURE")(),F=Object(r.createAsyncAction)("DELETE CONVERSATION TAG","DELETE CONVERSATION TAG SUCCESS","DELETE CONVERSATION TAG FAILURE")(),R=Object(r.createAsyncAction)("SAVE E2E TEST","SAVE E2E TEST SUCCESS","SAVE E2E TEST FAILURE")()},20:function(e,t,n){"use strict";n.d(t,"k",(function(){return a})),n.d(t,"j",(function(){return o})),n.d(t,"l",(function(){return c})),n.d(t,"o",(function(){return i})),n.d(t,"p",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"r",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"s",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"q",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"v",(function(){return C})),n.d(t,"w",(function(){return S})),n.d(t,"t",(function(){return w})),n.d(t,"u",(function(){return E}));var r=n(3),a=Object(r.createAsyncAction)("FETCH EXAMPLES","FETCH EXAMPLES SUCCESS","FETCH EXAMPLES FAILURE")(),o=Object(r.createAsyncAction)("FETCH EXAMPLE","FETCH EXAMPLE SUCCESS","FETCH EXAMPLE FAILURE")(),c=Object(r.createAsyncAction)("FETCH INTENTS","FETCH INTENTS SUCCESS","FETCH INTENTS FAILURE")(),i=Object(r.createAsyncAction)("SAVE EXAMPLES","SAVE EXAMPLES SUCCESS","SAVE EXAMPLES FAILURE")(),s=Object(r.createAsyncAction)("SAVE EXAMPLES FROM SUGGESTIONS","SAVE EXAMPLES FROM SUGGESTIONS SUCCESS","SAVE EXAMPLES FROM SUGGESTIONS FAILURE")(),l=Object(r.createAsyncAction)("SAVE EXAMPLE FROM CORRECTION","SAVE EXAMPLE FROM CORRECTION SUCCESS","SAVE EXAMPLE FROM CORRECTION FAILURE")(),u=Object(r.createAsyncAction)("UPDATE EXAMPLES","UPDATE EXAMPLES SUCCESS","UPDATE EXAMPLES FAILURE")(),d=Object(r.createAsyncAction)("DELETE EXAMPLE","DELETE EXAMPLE SUCCESS","DELETE EXAMPLE FAILURE")(),b=Object(r.createAsyncAction)("UPLOAD EXAMPLES","UPLOAD EXAMPLES SUCCESS","UPLOAD EXAMPLES FAILURE")(),f=Object(r.createAsyncAction)("FETCH ENTITY DETAILS","FETCH ENTITY DETAILS SUCCESS","FETCH ENTITY DETAILS FAILURE")(),p=Object(r.createAsyncAction)("FETCH ENTITY TYPES","FETCH ENTITY TYPES SUCCESS","FETCH ENTITY TYPES FAILURE")(),j=Object(r.createAsyncAction)("FETCH ENTITY ROLES","FETCH ENTITY ROLES SUCCESS","FETCH ENTITY ROLES FAILURE")(),h=Object(r.createAsyncAction)("FETCH ENTITY GROUPS","FETCH ENTITY GROUPS SUCCESS","FETCH ENTITY GROUPS FAILURE")(),O=Object(r.createAsyncAction)("CHECK DRAFT EXAMPLE","CHECK DRAFT EXAMPLE SUCCESS","CHECK DRAFT EXAMPLE FAILURE")(),x=Object(r.createStandardAction)("DOWNLOAD EXAMPLES")(),g=Object(r.createStandardAction)("SEARCH EXAMPLES")(),v=Object(r.createStandardAction)("FILTER EXAMPLES")(),m=Object(r.createStandardAction)("CHANGE EXAMPLE")(),y=Object(r.createStandardAction)("CHANGE CORRECTION")(),C=Object(r.createStandardAction)("WEBSOCKET NEW EXAMPLES CREATED")(),S=Object(r.createStandardAction)("WEBSOCKET EXAMPLES UPDATED")(),w=Object(r.createStandardAction)("WEBSOCKET EXAMPLES DELETED")(),E=Object(r.createStandardAction)("WEBSOCKET GIT BRANCH SYNCHRONIZATION COMPLETE")()},207:function(e,t,n){"use strict";n.d(t,"b",(function(){return Jc}));var r,a=n(175),o=n.n(a),c=n(143),i=n(265),s=n(1099),l=n.n(s),u=n(1100),d=n.n(u),b=n(1101),f=n(1179),p=n(120),j=n(20),h=n(29),O=n(46),x="".concat(a.DEFAULT_PREFIX,"::").concat(a.WEBSOCKET_MESSAGE),g="".concat(a.DEFAULT_PREFIX,"::").concat(a.WEBSOCKET_ERROR);!function(e){e[e.Onboarding=0]="Onboarding",e[e.Conversations=1]="Conversations",e[e.Insights=2]="Insights",e[e.Message_Log_Updated=3]="Message_Log_Updated",e[e.Training_Example_Updated=4]="Training_Example_Updated",e[e.Training_Example_Created=5]="Training_Example_Created",e[e.Training_Example_Deleted=6]="Training_Example_Deleted",e[e.Project_Synchronization_Complete=7]="Project_Synchronization_Complete"}(r||(r={}));var v=function(e){return function(e){return function(t){if(t.type===g&&(console.warn("WebSockets Error:",t.payload),e(t)),t.type===x){var n=function(e){return JSON.parse(e.payload.message)}(t),a=function(e){switch("".concat(e.topic,"_").concat(e.name)){case p.a["IVC::CONNECTED"]:case p.a["IVC::CHANGES_PUSHED"]:case p.a["MODELS::MODEL_ADDED"]:case p.a["MODELS::MODEL_PROMOTED"]:case p.a["NLU::MESSAGE_ANNOTATED"]:return r.Onboarding;case p.a["MESSAGES::MESSAGE_SENT"]:return"rasa"!==e.data.channel?r.Onboarding:r.Conversations;case"insights_evaluation_done":return r.Insights;case"nlu_message_log_updated":return r.Message_Log_Updated;case"nlu_training_example_created":return r.Training_Example_Created;case"nlu_training_example_updated":return r.Training_Example_Updated;case"nlu_log_unmarked_as_in_training_data":return r.Training_Example_Deleted;case"ivc_project synchronization complete":return r.Project_Synchronization_Complete;default:return null}}(n),o=n.data;switch(a){case r.Onboarding:return void e(Object(O.f)(n));case r.Insights:return void e(Object(h.i)(n));case r.Training_Example_Created:if(void 0===o)return;return void e(Object(j.v)(o.examples));case r.Training_Example_Updated:if(void 0===o)return;return void e(Object(j.w)(o.examples));case r.Training_Example_Deleted:if(void 0===o)return;return void e(Object(j.t)(o.hash));case r.Project_Synchronization_Complete:return void e(Object(j.u)());default:return}}e(t)}}},m=n(15),y=n(6),C=n.n(y),S=n(14),w=n(8),E=n(3),k=n(18),T=n(12),A=n(263),_=C.a.mark(F);function F(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=t.payload,r=n.bucket,a=n.start,o=n.end,i.next=4,Object(S.d)(w.W,e,r,a,o);case 4:return c=i.sent,i.next=7,Object(S.n)(A.a.success(c));case 7:i.next=15;break;case 9:return i.prev=9,i.t0=i.catch(0),i.next=13,Object(k.a)(i.t0);case 13:return i.next=15,Object(S.n)(A.a.failure(i.t0));case 15:case"end":return i.stop()}}),_,null,[[0,9]])}var R=[Object(T.a)(Object(E.getType)(A.a.request),F,!0)],D=n(174),I=C.a.mark(L);function L(e){var t,n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=(null===(t=e.payload)||void 0===t?void 0:t.skipExternal)||!1,a.prev=1,a.next=4,Object(S.d)(w.hc,n);case 4:return r=a.sent,a.next=7,Object(S.n)(D.a.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(S.n)(D.a.failure(a.t0));case 15:case"end":return a.stop()}}),I,null,[[1,9]])}var N=[Object(T.a)(Object(E.getType)(D.a.request),L,!1)],B=n(63),U=C.a.mark(q),M=C.a.mark(H),P=C.a.mark(G);function q(e,t){var n,r,a,o,c,i,s,l;return C.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.payload,r=n.limit,a=n.offset,o=n.parentId,c=n.parentType,u.prev=1,u.next=4,Object(S.d)(w.X,e,r,a,o,c);case 4:return i=u.sent,s=i.links,l=i.total,u.next=9,Object(S.n)(B.c.success({parentId:o,parentType:c,links:s,total:l,offset:a}));case 9:u.next=17;break;case 11:return u.prev=11,u.t0=u.catch(1),u.next=15,Object(k.a)(u.t0);case 15:return u.next=17,Object(S.n)(B.c.failure(u.t0));case 17:case"end":return u.stop()}}),U,null,[[1,11]])}function H(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n=t.payload,r=n.pairs,a=n.parentId,o=n.parentType,s.next=4,Object(S.d)(w.p,e,r,a,o);case 4:return c=s.sent,i=c.links,s.next=8,Object(S.n)(B.b.success({links:i,parentId:a,parentType:o}));case 8:s.next=16;break;case 10:return s.prev=10,s.t0=s.catch(0),s.next=14,Object(k.a)(s.t0);case 14:return s.next=16,Object(S.n)(B.b.failure(s.t0));case 16:case"end":return s.stop()}}),M,null,[[0,10]])}function G(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.linkId,a=n.parentId,o=n.parentType,i.prev=1,i.next=4,Object(S.d)(w.tc,e,r);case 4:return i.next=6,Object(S.n)(B.d.success({parentId:a,parentType:o,linkId:r}));case 6:i.next=19;break;case 8:if(i.prev=8,i.t0=i.catch(1),404!==(null===i.t0||void 0===i.t0||null===(c=i.t0.response)||void 0===c?void 0:c.status)){i.next=15;break}return i.next=13,Object(S.n)(B.d.success({parentId:a,parentType:o,linkId:r}));case 13:i.next=19;break;case 15:return i.next=17,Object(k.a)(i.t0);case 17:return i.next=19,Object(S.n)(B.d.failure(i.t0));case 19:case"end":return i.stop()}}),P,null,[[1,8]])}var V=[Object(T.a)(Object(E.getType)(B.b.request),H,!0),Object(T.a)(Object(E.getType)(B.c.request),q,!0),Object(T.a)(Object(E.getType)(B.d.request),G,!0)],z=n(2),Y=n(27),W=C.a.mark(ne),K=C.a.mark(re),Q=C.a.mark(ae),X=C.a.mark(oe),$=C.a.mark(ce),Z=C.a.mark(ie),J=C.a.mark(se),ee=C.a.mark(le),te=C.a.mark(ue);function ne(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(n=t.payload.username)){o.next=7;break}return(r=new Error).message="Please enter a username",o.next=6,Object(S.n)(Y.b.failure(r));case 6:return o.abrupt("return");case 7:return o.prev=7,o.next=10,Object(S.d)(w.t,e,n);case 10:return a=o.sent,o.next=13,Object(S.n)(Y.b.success(a));case 13:o.next=20;break;case 15:return o.prev=15,o.t0=o.catch(7),o.t0.response&&404===o.t0.response.status&&(o.t0.message=o.t0.response.data.details.message),o.next=20,Object(S.n)(Y.b.failure(o.t0));case 20:case"end":return o.stop()}}),W,null,[[7,15]])}function re(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.username,a=n.oldPassword,o=n.newPassword,c=n.newPasswordConfirm,s.prev=1,s.next=4,Object(S.d)(w.l,e,r,o,c,a);case 4:return i=s.sent,s.next=7,Object(S.n)(Y.a.success(i));case 7:if(void 0!==a){s.next=10;break}return s.next=10,Object(S.n)(Y.g.request({username:r,password:o}));case 10:s.next=18;break;case 12:return s.prev=12,s.t0=s.catch(1),s.next=16,Object(k.a)(s.t0);case 16:return s.next=18,Object(S.n)(Y.a.failure(s.t0));case 18:case"end":return s.stop()}}),K,null,[[1,12]])}function ae(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.d)(w.yb,e);case 3:return t=n.sent,n.next=6,Object(S.n)(Y.d.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(k.a)(n.t0);case 12:return n.next=14,Object(S.n)(Y.d.failure(n.t0));case 14:case"end":return n.stop()}}),Q,null,[[0,8]])}function oe(){var e;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(S.d)(w.Xb);case 3:return e=t.sent,t.next=6,Object(S.n)(Y.e.success(e));case 6:window.location.assign(e.redirect_to),t.next=15;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(k.a)(t.t0);case 13:return t.next=15,Object(S.n)(Y.e.failure(t.t0));case 15:case"end":return t.stop()}}),X,null,[[0,9]])}function ce(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.singleUseToken,r.prev=1,r.next=4,Object(S.d)(w.qb,t);case 4:return n=r.sent,r.next=7,Object(S.n)(Y.c.success(n));case 7:r.next=19;break;case 9:if(r.prev=9,r.t0=r.catch(1),!r.t0.response){r.next=17;break}if(401!==r.t0.response.status){r.next=17;break}return r.t0.message="Invalid token",r.next=17,Object(S.n)(Y.g.failure(r.t0));case 17:return r.next=19,Object(S.n)(Y.c.failure(r.t0));case 19:case"end":return r.stop()}}),$,null,[[1,9]])}function ie(e){var t,n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload,n=t.chatToken,r=t.environment,o.next=4,Object(S.d)(w.ec,n);case 4:return a=o.sent,o.next=7,Object(S.n)(Y.f.success(Object(z.a)(Object(z.a)({},a),{},{environment:r})));case 7:o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(0),o.next=13,Object(k.a)(o.t0);case 13:return o.next=15,Object(S.n)(Y.f.failure(o.t0));case 15:case"end":return o.stop()}}),Z,null,[[0,9]])}function se(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.d)(w.Gc,e,t.payload);case 3:return n=r.sent,r.next=6,Object(S.n)(Y.j.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(S.n)(Y.j.failure(r.t0));case 14:case"end":return r.stop()}}),J,null,[[0,8]])}function le(e){var t,n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.payload,n=t.username,r=t.password,""!==n&&""!==r){c.next=7;break}return(a=new Error).message="Please fill all the fields",c.next=6,Object(S.n)(Y.g.failure(a));case 6:return c.abrupt("return");case 7:return c.prev=7,c.next=10,Object(S.d)(w.qc,n,r);case 10:return o=c.sent,c.next=13,Object(S.n)(Y.g.success(o));case 13:c.next=26;break;case 15:if(c.prev=15,c.t0=c.catch(7),!c.t0.response){c.next=24;break}if(401!==c.t0.response.status){c.next=24;break}return c.t0.message="Wrong credentials",c.next=23,Object(S.n)(Y.g.failure(c.t0));case 23:return c.abrupt("return");case 24:return c.next=26,Object(S.n)(Y.g.failure(c.t0));case 26:case"end":return c.stop()}}),ee,null,[[7,15]])}function ue(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(S.d)(w.rc,t);case 4:return n=r.sent,r.next=7,Object(S.n)(Y.h.success(n));case 7:r.next=20;break;case 9:if(r.prev=9,r.t0=r.catch(1),!r.t0.response){r.next=18;break}if(401!==r.t0.response.status){r.next=18;break}return r.t0.message="Invalid invitation token",r.next=17,Object(S.n)(Y.h.failure(r.t0));case 17:return r.abrupt("return");case 18:return r.next=20,Object(S.n)(Y.h.failure(r.t0));case 20:case"end":return r.stop()}}),te,null,[[1,9]])}var de=[Object(T.a)(Object(E.getType)(Y.b.request),ne,!0),Object(T.a)(Object(E.getType)(Y.a.request),re,!0),Object(T.a)(Object(E.getType)(Y.c.request),ce),Object(T.a)(Object(E.getType)(Y.d.request),ae,!0),Object(T.a)(Object(E.getType)(Y.e.request),oe),Object(T.a)(Object(E.getType)(Y.f.request),ie),Object(T.a)(Object(E.getType)(Y.g.request),le),Object(T.a)(Object(E.getType)(Y.h.request),ue),Object(T.a)(Object(E.getType)(Y.j.request),se,!0)],be=function(e,t){return{name:"Error",message:"Request failed with status code 500",response:{status:500,statusText:"INTERNAL SERVER ERROR",headers:{},data:{message:e,reason:t},config:{}},config:{},isAxiosError:!0,toJSON:function(){return{}}}},fe=n(43),pe=C.a.mark(ge),je=C.a.mark(ve),he=C.a.mark(me),Oe=C.a.mark(ye),xe=C.a.mark(Ce);function ge(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.search,a=n.limit,o=n.offset,l.prev=1,l.next=4,Object(S.d)(w.ab,e,a,o,r);case 4:return c=l.sent,i=c.flows,s=c.total,l.next=9,Object(S.n)(fe.e.success({flows:i,total:s,offset:o}));case 9:l.next=17;break;case 11:return l.prev=11,l.t0=l.catch(1),l.next=15,Object(k.a)(l.t0);case 15:return l.next=17,Object(S.n)(fe.e.failure(l.t0));case 17:case"end":return l.stop()}}),pe,null,[[1,11]])}function ve(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.flowId,a.prev=1,a.next=4,Object(S.d)(w.Z,e,n);case 4:return r=a.sent,a.next=7,Object(S.n)(fe.d.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(S.n)(fe.d.failure(a.t0));case 15:case"end":return a.stop()}}),je,null,[[1,9]])}function me(e,t){var n,r,a,o,c,i,s,l,u,d;return C.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,n=t.payload,r=n.name,a=n.description,o=n.elements,b.next=4,Object(S.d)(w.q,e,r,a,o);case 4:return c=b.sent,b.next=7,Object(S.n)(fe.b.success(c));case 7:return b.next=9,Object(S.l)("history");case 9:b.sent.push("/blueprints/flows/".concat(c.id)),b.next=32;break;case 13:return b.prev=13,b.t0=b.catch(0),b.next=17,Object(k.a)(b.t0);case 17:if(i=b.t0.response,s=i.status,l=i.data,400!==s){b.next=24;break}return u=be("Name cannot be longer than 100 characters.",""),b.next=22,Object(S.n)(fe.b.failure(u));case 22:b.next=32;break;case 24:if(422!==s||"DuplicateBusinessLogicFlowName"!==l.reason){b.next=30;break}return d=be("A Flow with the same name already exists.",""),b.next=28,Object(S.n)(fe.b.failure(d));case 28:b.next=32;break;case 30:return b.next=32,Object(S.n)(fe.b.failure(b.t0));case 32:case"end":return b.stop()}}),he,null,[[0,13]])}function ye(e,t){var n,r,a,o,c,i,s,l,u;return C.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,n=t.payload,r=n.id,a=n.flow,d.next=4,Object(S.d)(w.bd,e,r,a);case 4:return o=d.sent,d.next=7,Object(S.n)(fe.f.success(o));case 7:d.next=28;break;case 9:return d.prev=9,d.t0=d.catch(0),d.next=13,Object(k.a)(d.t0);case 13:if(c=d.t0.response,i=c.status,s=c.data,400!==i){d.next=20;break}return l=be("Name cannot be longer than 100 characters.",""),d.next=18,Object(S.n)(fe.f.failure(l));case 18:d.next=28;break;case 20:if(422!==i||"DuplicateBusinessLogicFlowName"!==s.reason){d.next=26;break}return u=be("A Flow with the same name already exists.",""),d.next=24,Object(S.n)(fe.f.failure(u));case 24:d.next=28;break;case 26:return d.next=28,Object(S.n)(fe.f.failure(d.t0));case 28:case"end":return d.stop()}}),Oe,null,[[0,9]])}function Ce(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=t.payload.id,r.next=4,Object(S.d)(w.y,e,n);case 4:return r.next=6,Object(S.n)(fe.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(S.n)(fe.c.failure(r.t0));case 14:case"end":return r.stop()}}),xe,null,[[0,8]])}var Se=[Object(T.a)(Object(E.getType)(fe.e.request),ge,!0),Object(T.a)(Object(E.getType)(fe.d.request),ve,!0),Object(T.a)(Object(E.getType)(fe.b.request),me,!0),Object(T.a)(Object(E.getType)(fe.f.request),ye,!0),Object(T.a)(Object(E.getType)(fe.c.request),Ce,!0)],we=n(188),Ee=n(424),ke=n.n(Ee),Te=n(32),Ae=n(140),_e=n(37),Fe=n(172),Re=C.a.mark(Qe),De=C.a.mark(Xe),Ie=C.a.mark($e),Le=C.a.mark(Ze),Ne=C.a.mark(Je),Be=C.a.mark(et),Ue=C.a.mark(tt),Me=C.a.mark(rt),Pe=C.a.mark(at),qe=C.a.mark(ot),He=C.a.mark(ct),Ge=C.a.mark(it),Ve=C.a.mark(st),ze=C.a.mark(lt),Ye=C.a.mark(ut),We=C.a.mark(dt),Ke=C.a.mark(bt);function Qe(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,o.prev=1,r=ke()(n),o.next=5,Object(S.d)(w.wb,e,"default",r);case 5:return a=o.sent,o.next=8,Object(S.n)(j.j.success(a));case 8:o.next=16;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(k.a)(o.t0);case 14:return o.next=16,Object(S.n)(j.j.failure(o.t0));case 16:case"end":return o.stop()}}),Re,null,[[1,10]])}function Xe(e,t){var n,r,a,o,c,i,s,l;return C.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.payload,r=n.search,a=n.filter,o=n.offset,c=n.limit,u.prev=1,u.next=4,Object(S.d)(w.xb,e,"default",r,a.intents,c,o);case 4:return i=u.sent,s=i.examples,l=i.total,u.next=9,Object(S.n)(j.k.success({examples:s,total:l,offset:o}));case 9:u.next=17;break;case 11:return u.prev=11,u.t0=u.catch(1),u.next=15,Object(k.a)(u.t0);case 15:return u.next=17,Object(S.n)(j.k.failure(u.t0));case 17:case"end":return u.stop()}}),De,null,[[1,11]])}function $e(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=ke()(n),o.prev=2,o.next=5,Object(S.d)(w.wb,e,"default",r);case 5:return o.next=7,Object(S.n)(j.c.success(!0));case 7:o.next=20;break;case 9:if(o.prev=9,o.t0=o.catch(2),404!==(null===o.t0||void 0===o.t0||null===(a=o.t0.response)||void 0===a?void 0:a.status)){o.next=16;break}return o.next=14,Object(S.n)(j.c.success(!1));case 14:o.next=20;break;case 16:return o.next=18,Object(k.a)(o.t0);case 18:return o.next=20,Object(S.n)(j.c.failure(o.t0));case 20:case"end":return o.stop()}}),Ie,null,[[2,9]])}function Ze(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.d)(w.Db,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.intent})),r.next=7,Object(S.n)(j.l.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(k.a)(r.t0);case 13:return r.next=15,Object(S.n)(j.l.failure(r.t0));case 15:case"end":return r.stop()}}),Le,null,[[0,9]])}function Je(e){var t,n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(S.d)(w.R,e,"default");case 3:t=c.sent,n=t.examples,r=t.filename,a=r.split("filename=")[1].split(";")[0],o=new Blob([n],{type:"*/*;charset=utf-8"}),Object(we.saveAs)(o,a),c.next=17;break;case 11:return c.prev=11,c.t0=c.catch(0),c.next=15,Object(k.a)(c.t0);case 15:return c.next=17,Object(S.n)(j.k.failure(c.t0));case 17:case"end":return c.stop()}}),Ne,null,[[0,11]])}function et(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)([Object(S.n)(j.g.request()),Object(S.n)(j.h.request()),Object(S.n)(j.i.request())]);case 2:case"end":return e.stop()}}),Be)}function tt(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(S.d)(w.Fc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(S.n)(j.o.success(r));case 7:return a.next=9,et();case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(k.a)(a.t0);case 15:return a.next=17,Object(S.n)(j.o.failure(a.t0));case 17:case"end":return a.stop()}}),Ue,null,[[1,11]])}var nt=function(e){var t=e.user_input.intent&&e.user_input.intent.name;if(!t)throw new Error("Cannot save suggestion with null intent");return{entities:e.user_input.entities.map((function(e){return Object(z.a)(Object(z.a)({},e),{},{start:e.start,end:e.end})})),text:e.user_input.text,intent:t,project_id:e.project_id,team:e.team}};function rt(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.map((function(e){return nt(e)})),o.prev=2,o.next=5,Object(S.d)(w.Fc,e,"default",r);case 5:return a=o.sent,o.next=8,Object(S.n)(j.p.success(a));case 8:return o.next=10,et();case 10:o.next=18;break;case 12:return o.prev=12,o.t0=o.catch(2),o.next=16,Object(k.a)(o.t0);case 16:return o.next=18,Object(S.n)(j.p.failure(o.t0));case 18:case"end":return o.stop()}}),Me,null,[[2,12]])}function at(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r={entities:(c=n).entities,text:c.text,intent:c.intent,project_id:"default",team:"default"},o.prev=2,o.next=5,Object(S.d)(w.Fc,e,"default",[r]);case 5:return a=o.sent,o.next=8,Object(S.n)(j.n.success(a));case 8:return o.next=10,et();case 10:o.next=18;break;case 12:return o.prev=12,o.t0=o.catch(2),o.next=16,Object(k.a)(o.t0);case 16:return o.next=18,Object(S.n)(j.n.failure(o.t0));case 18:case"end":return o.stop()}var c}),Pe,null,[[2,12]])}function ot(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(S.d)(w.cd,e,"default",n);case 4:return r=a.sent,a.next=7,Object(S.n)(j.r.success(r));case 7:return a.next=9,et();case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(k.a)(a.t0);case 15:return a.next=17,Object(S.n)(j.r.failure(a.t0));case 17:case"end":return a.stop()}}),qe,null,[[1,11]])}function ct(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(S.d)(w.C,e,"default",n);case 4:return r.next=6,Object(S.n)(j.d.success(n));case 6:return r.next=8,et();case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,Object(k.a)(r.t0);case 14:return r.next=16,Object(S.n)(j.d.failure(r.t0));case 16:case"end":return r.stop()}}),He,null,[[1,10]])}function it(){var e,t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(S.r)((function(e){var t=e.examples;return{search:t.searchQuery,filter:t.filter}}));case 2:return e=r.sent,t=e.filter,n=e.search,r.next=7,Object(S.n)(j.k.request({search:n,filter:t,offset:0,limit:20}));case 7:case"end":return r.stop()}}),Ge)}function st(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.examples,a=n.fileName,o=Object(Fe.a)(a),i.prev=2,i.next=5,Object(S.d)(w.qd,e,"default",r,o);case 5:return c=i.sent,i.next=8,Object(S.n)(j.s.success(c));case 8:return i.next=10,Object(S.n)(j.l.request());case 10:return i.next=12,et();case 12:return i.delegateYield(it(),"t0",13);case 13:return i.next=15,Object(S.n)(_e.h.request({offset:0,limit:20}));case 15:return i.next=17,Object(S.n)(_e.f.request());case 17:i.next=25;break;case 19:return i.prev=19,i.t1=i.catch(2),i.next=23,Object(k.a)(i.t1);case 23:return i.next=25,Object(S.n)(j.s.failure(i.t1));case 25:case"end":return i.stop()}}),Ve,null,[[2,19]])}function lt(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.d)(w.rb,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.group})),r.next=7,Object(S.n)(j.g.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(k.a)(r.t0);case 13:return r.next=15,Object(S.n)(j.g.failure(r.t0));case 15:case"end":return r.stop()}}),ze,null,[[0,9]])}function ut(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.d)(w.sb,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.role})),r.next=7,Object(S.n)(j.h.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(k.a)(r.t0);case 13:return r.next=15,Object(S.n)(j.h.failure(r.t0));case 15:case"end":return r.stop()}}),Ye,null,[[0,9]])}function dt(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.d)(w.tb,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.entity})),r.next=7,Object(S.n)(j.i.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(k.a)(r.t0);case 13:return r.next=15,Object(S.n)(j.i.failure(r.t0));case 15:case"end":return r.stop()}}),We,null,[[0,9]])}function bt(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.r)((function(e){return e.gitRepositories.loading.gitBranchSyncing}));case 2:if(!e.sent){e.next=11;break}return e.next=6,Object(S.n)(j.l.request());case 6:return e.next=8,et();case 8:return e.delegateYield(it(),"t0",9);case 9:return e.next=11,Object(S.n)(Te.j());case 11:case"end":return e.stop()}}),Ke)}var ft=[Object(T.a)(Object(E.getType)(j.j.request),Qe,!0),Object(T.a)(Object(E.getType)(j.k.request),Xe,!0,!0),Object(T.a)(Object(E.getType)(j.c.request),$e,!0),Object(T.a)(Object(E.getType)(j.l.request),Ze,!0),Object(T.a)(Object(E.getType)(j.e),Je,!0),Object(T.a)(Object(E.getType)(j.o.request),tt,!0),Object(T.a)(Object(E.getType)(j.p.request),rt,!0),Object(T.a)(Object(E.getType)(j.n.request),at,!0),Object(T.a)(Object(E.getType)(j.r.request),ot,!0),Object(T.a)(Object(E.getType)(j.d.request),ct,!0),Object(T.a)(Object(E.getType)(j.s.request),st,!0),Object(T.a)(Object(E.getType)(j.f.request),et,!0),Object(T.a)(Object(E.getType)(j.g.request),lt,!0),Object(T.a)(Object(E.getType)(j.h.request),ut,!0),Object(T.a)(Object(E.getType)(j.i.request),dt,!0),Object(T.a)(Object(E.getType)(j.u),bt,!0),Object(T.a)([Object(E.getType)(j.o.success),Object(E.getType)(j.p.success),Object(E.getType)(j.n.success),Object(E.getType)(j.r.success),Object(E.getType)(j.d.success),Object(E.getType)(j.s.success)],Ae.b)],pt=n(113),jt=n.n(pt),ht=n(7),Ot=C.a.mark(Tt),xt=C.a.mark(At),gt=C.a.mark(_t),vt=C.a.mark(Ft),mt=C.a.mark(Rt),yt=C.a.mark(Dt),Ct=C.a.mark(It),St=C.a.mark(Lt),wt=C.a.mark(Nt),Et=C.a.mark(Bt),kt=C.a.mark(Ut);function Tt(e,t){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(Object(ht.b)(w.kc,e),"t0",2);case 2:return n=t.t0,t.next=5,Object(ht.f)(h.h.success(n));case 5:t.next=13;break;case 7:return t.prev=7,t.t1=t.catch(0),t.next=11,Object(k.a)(t.t1);case 11:return t.next=13,Object(ht.f)(h.h.failure(t.t1));case 13:case"end":return t.stop()}}),Ot,null,[[0,7]])}function At(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ht.b)(w.sc,e,t.payload),"t0",2);case 2:return n=r.t0,r.next=5,Object(ht.f)(h.j.success(n));case 5:r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(0),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ht.f)(h.j.failure(r.t1));case 13:case"end":return r.stop()}}),xt,null,[[0,7]])}function _t(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ht.b)(w.yc,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ht.f)(h.k.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ht.f)(h.k.failure(n.t1));case 13:case"end":return n.stop()}}),gt,null,[[0,7]])}function Ft(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload.status,o.prev=1,o.delegateYield(Object(ht.b)(w.Jb,e,1,0,n,"desc"),"t0",3);case 3:return r=o.t0,a=r.reports,o.next=7,Object(ht.f)(h.d.success({reports:a,status:n}));case 7:o.next=15;break;case 9:return o.prev=9,o.t1=o.catch(1),o.next=13,Object(k.a)(o.t1);case 13:return o.next=15,Object(ht.f)(h.d.failure({error:o.t1,status:n}));case 15:case"end":return o.stop()}}),vt,null,[[1,9]])}function Rt(e,t){var n,r,a,o,c,i,s,l,u;return C.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.reportId,a=n.offset,o=n.search,c=n.limit,i=n.sortBy,d.prev=1,d.delegateYield(Object(ht.b)(w.Ib,e,r,o,c,a,i),"t0",3);case 3:return s=d.t0,l=s.report,u=s.total,d.next=8,Object(ht.f)(h.e.success({report:l,total:u,offset:a}));case 8:d.next=16;break;case 10:return d.prev=10,d.t1=d.catch(1),d.next=14,Object(k.a)(d.t1);case 14:return d.next=16,Object(ht.f)(h.e.failure(d.t1));case 16:case"end":return d.stop()}}),mt,null,[[1,10]])}function Dt(e){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.f)(h.d.request({status:w.e.IN_PROGRESS}));case 2:return e.next=4,Object(ht.f)(h.d.request({status:w.e.SUCCESS}));case 4:return e.next=6,Object(ht.f)(h.d.request({status:w.e.FAILURE}));case 6:case"end":return e.stop()}}),yt)}function It(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,o.prev=1,o.delegateYield(Object(ht.b)(w.S,e,n),"t0",3);case 3:r=o.t0,a=new Blob([r],{type:"application/json;charset=utf-8"}),Object(we.saveAs)(a,"cross-validation-report.json"),o.next=10;break;case 8:o.prev=8,o.t1=o.catch(1);case 10:case"end":return o.stop()}}),Ct,null,[[1,8]])}function Lt(e,t){var n,r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(Object(ht.b)(w.Tb,e),"t0",2);case 2:n=t.t0,r=jt.a.dump(n),a=new Blob([r],{type:"text/x-yaml"}),Object(we.saveAs)(a,"scorecard.yml"),t.next=10;break;case 8:t.prev=8,t.t1=t.catch(0);case 10:case"end":return t.stop()}}),St,null,[[0,8]])}function Nt(e,t){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(Object(ht.b)(w.Tb,e),"t0",2);case 2:return n=t.t0,t.next=5,Object(ht.f)(h.f.success(n));case 5:t.next=13;break;case 7:return t.prev=7,t.t1=t.catch(0),t.next=11,Object(k.a)(t.t1);case 11:return t.next=13,Object(ht.f)(h.f.failure(t.t1));case 13:case"end":return t.stop()}}),wt,null,[[0,7]])}function Bt(e,t){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(Object(ht.b)(w.Ub,e),"t0",2);case 2:return n=t.t0,t.next=5,Object(ht.f)(h.g.success(n));case 5:t.next=13;break;case 7:return t.prev=7,t.t1=t.catch(0),t.next=11,Object(k.a)(t.t1);case 11:return t.next=13,Object(ht.f)(h.g.failure(t.t1));case 13:case"end":return t.stop()}}),Et,null,[[0,7]])}function Ut(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ht.b)(w.Nc,e,t.payload),"t0",2);case 2:return n=r.t0,r.next=5,Object(ht.f)(h.f.request());case 5:return r.next=7,Object(ht.f)(h.l.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t1=r.catch(0),r.next=13,Object(k.a)(r.t1);case 13:return r.next=15,Object(ht.f)(h.l.failure(r.t1));case 15:case"end":return r.stop()}}),kt,null,[[0,9]])}var Mt=[Object(T.a)(Object(E.getType)(h.b),It,!0),Object(T.a)(Object(E.getType)(h.c),Lt,!0),Object(T.a)(Object(E.getType)(h.d.request),Ft,!0),Object(T.a)(Object(E.getType)(h.e.request),Rt,!0),Object(T.a)(Object(E.getType)(h.f.request),Nt,!0),Object(T.a)(Object(E.getType)(h.g.request),Bt,!0),Object(T.a)(Object(E.getType)(h.l.request),Ut,!0),Object(T.a)(Object(E.getType)(h.h.request),Tt,!0),Object(T.a)(Object(E.getType)(h.i),Dt),Object(T.a)(Object(E.getType)(h.j.request),At,!0),Object(T.a)(Object(E.getType)(h.k.request),_t,!0)],Pt=n(19),qt=n(38),Ht=C.a.mark($t),Gt=C.a.mark(Zt),Vt=C.a.mark(en),zt=C.a.mark(tn),Yt=C.a.mark(nn),Wt=C.a.mark(rn),Kt=C.a.mark(an),Qt=C.a.mark(on),Xt=["action_listen","action_restart","action_session_started"];function $t(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.Qc,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(qt.j.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(qt.j.failure(a.t1));case 14:case"end":return a.stop()}}),Ht,null,[[1,8]])}function Zt(e,t){var n,r,a,o,c,i,s,l,u,d;return C.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return b.delegateYield(Object(ht.e)("history"),"t0",1);case 1:return n=b.t0,r=t.payload,a=r.data,o=r.storyName,c=r.strictMode,i=r.undoingEvent,b.prev=3,b.delegateYield(Object(ht.b)(w.r,e,a),"t1",5);case 5:return s=b.t1,b.next=8,Object(ht.f)(qt.h.success(s));case 8:return b.next=10,Object(ht.f)(Pt.g.success({conversation:s}));case 10:if(l=s.events,u=s.sender_id,d=l[l.length-1],"/interactive"===n.location.pathname||!a.conversation_id_to_copy_from){b.next=16;break}return n.push("/interactive?strict=".concat(!!c)),b.next=16,Object(ht.f)(qt.e({conversationId:u,storyName:o,strictMode:c}));case 16:if(!i||!Jt(i)){b.next=21;break}return b.next=19,Object(ht.f)(qt.j.request(i.text));case 19:b.next=24;break;case 21:if(!a.conversation_id_to_copy_from||"action"===d.event&&Xt.includes(d.name)){b.next=24;break}return b.next=24,Object(ht.f)(qt.i.request(u));case 24:b.next=32;break;case 26:return b.prev=26,b.t2=b.catch(3),b.next=30,Object(k.a)(b.t2);case 30:return b.next=32,Object(ht.f)(qt.h.failure(b.t2));case 32:case"end":return b.stop()}}),Gt,null,[[3,26]])}function Jt(e){return"user"===e.event}function en(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.events,a=n.createPayload,o=a.data.until,c=r.findIndex((function(e){return e.timestamp===o}))){e.next=5;break}return e.abrupt("return");case 5:if(i=r[c],s=r.slice(0,c).reverse(),!Jt(i))for(;s.length>0&&!Jt(s[0])&&"bot"!==s[0].event;)s=s.slice(1);if(0!==s.length){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(ht.f)(qt.h.request(Object(z.a)(Object(z.a)({},a),{},{data:Object(z.a)(Object(z.a)({},a.data),{},{until:s[0].timestamp}),undoingEvent:i})));case 12:case"end":return e.stop()}}),Vt)}function tn(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.conversationId,a=n.event,c.prev=1,c.delegateYield(Object(ht.b)(w.Ec,e,r,a),"t0",3);case 3:if("user"!==(o=c.t0).event){c.next=7;break}return c.next=7,Object(ht.f)(Pt.x.success({message:o,senderId:r}));case 7:return c.next=9,Object(ht.f)(qt.k.success(o));case 9:return c.next=11,Object(ht.f)(qt.i.request(r));case 11:c.next=19;break;case 13:return c.prev=13,c.t1=c.catch(1),c.next=17,Object(k.a)(c.t1);case 17:return c.next=19,Object(ht.f)(Pt.x.failure(c.t1));case 19:case"end":return c.stop()}}),zt,null,[[1,13]])}function nn(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.delegateYield(Object(ht.a)({prediction:Object(ht.b)(w.Eb,e,t),domainActions:Object(ht.b)(w.V,e,"default")}),"t0",1);case 1:return n=o.t0,r=n.prediction,a=n.domainActions,o.next=6,Object(ht.f)(qt.i.success({prediction:r,actions:a}));case 6:case"end":return o.stop()}}),Yt)}function rn(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,nn(e,n);case 4:r.next=12;break;case 6:return r.prev=6,r.t0=r.catch(1),r.next=10,Object(k.a)(r.t0);case 10:return r.next=12,Object(ht.f)(qt.i.failure(r.t0));case 12:case"end":return r.stop()}}),Wt,null,[[1,6]])}function an(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.conversationId,a=n.confirmedAction,o=a.action,i.prev=2,i.delegateYield(Object(ht.b)(w.n,e,r,o),"t0",4);case 4:return c=i.t0,i.next=7,Object(ht.f)(qt.f.success(c));case 7:if(!Xt.includes(o)){i.next=9;break}return i.abrupt("return");case 9:return i.next=11,nn(e,r);case 11:i.next=19;break;case 13:return i.prev=13,i.t1=i.catch(2),i.next=17,Object(k.a)(i.t1);case 17:return i.next=19,Object(ht.f)(qt.f.failure(i.t1));case 19:case"end":return i.stop()}}),Kt,null,[[2,13]])}function on(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.action,a=n.responses,o=n.conversationId,s.prev=1,s.delegateYield(Object(ht.b)(w.zc,e,"default",r),"t0",3);case 3:return c=s.t0,s.next=6,Object(ht.a)(a.map((function(t){return Object(ht.b)(w.Jc,e,Object(z.a)(Object(z.a)({},t),{},{response_name:c.name}))})));case 6:return s.next=8,Object(ht.f)(qt.g.success(c.name));case 8:return i={event:"action",name:c.name},s.next=11,Object(ht.f)(qt.k.request({conversationId:o,event:i}));case 11:s.next=19;break;case 13:return s.prev=13,s.t1=s.catch(1),s.next=17,Object(k.a)(s.t1);case 17:return s.next=19,Object(ht.f)(qt.g.failure(s.t1));case 19:case"end":return s.stop()}}),Qt,null,[[1,13]])}var cn=[Object(T.a)(Object(E.getType)(qt.h.request),Zt,!0),Object(T.a)(Object(E.getType)(qt.l),en,!0),Object(T.a)(Object(E.getType)(qt.k.request),tn,!0),Object(T.a)(Object(E.getType)(qt.j.request),$t,!0),Object(T.a)(Object(E.getType)(qt.i.request),rn,!0),Object(T.a)(Object(E.getType)(qt.f.request),an,!0),Object(T.a)(Object(E.getType)(qt.g.request),on,!0)],sn=n(550),ln=n(5),un=n(26),dn=C.a.mark(kn),bn=C.a.mark(Tn),fn=C.a.mark(An),pn=C.a.mark(_n),jn=C.a.mark(Fn),hn=C.a.mark(Rn),On=C.a.mark(Dn),xn=C.a.mark(In),gn=C.a.mark(Ln),vn=C.a.mark(Nn),mn=C.a.mark(Bn),yn=C.a.mark(Un),Cn=C.a.mark(Mn),Sn=C.a.mark(Pn),wn=C.a.mark(qn),En=C.a.mark(Hn);function kn(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ht.b)(w.ub,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ht.f)(un.d.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ht.f)(un.d.failure(n.t1));case 13:case"end":return n.stop()}}),dn,null,[[0,7]])}function Tn(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.environment,a=n.newEnvironment,c.prev=1,c.delegateYield(Object(ht.b)(w.Dc,e,r.name,a||r),"t0",3);case 3:return o=c.t0,c.next=6,Object(ht.f)(un.k.success({environment:o,oldEnvironment:r}));case 6:c.next=14;break;case 8:return c.prev=8,c.t1=c.catch(1),c.next=12,Object(k.a)(c.t1);case 12:return c.next=14,Object(ht.f)(un.k.failure(c.t1));case 14:case"end":return c.stop()}}),bn,null,[[1,8]])}function An(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.delegateYield(Object(ht.b)(w.B,e,n),"t0",3);case 3:return r.next=5,Object(ht.f)(un.b.success(n));case 5:r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(1),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ht.f)(un.b.failure(r.t1));case 13:case"end":return r.stop()}}),fn,null,[[1,7]])}function _n(e,t){var n,r,a,o,c,i,s,l,u,d,b,f;return C.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return n=t.payload,r=n.search,a=n.offset,o=n.limit,c=n.tag,i=0===o?[1,0]:[o,a],s=Object(ln.a)(i,2),l=s[0],u=s[1],p.prev=2,p.delegateYield(Object(ht.b)(w.Hb,e,"default",l,u,c),"t0",4);case 4:return d=p.t0,b=d.models,f=d.total,p.next=9,Object(ht.f)(un.g.success({search:r,models:b,total:f,offset:a}));case 9:p.next=17;break;case 11:return p.prev=11,p.t1=p.catch(2),p.next=15,Object(k.a)(p.t1);case 15:return p.next=17,Object(ht.f)(un.g.failure(p.t1));case 17:case"end":return p.stop()}}),pn,null,[[2,11]])}function Fn(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(ht.b)(w.F,e,"default",t.model)})),a.next=5,Object(ht.a)(r);case 5:return a.next=7,Object(ht.f)(un.c.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(ht.f)(un.c.failure(a.t0));case 15:case"end":return a.stop()}}),jn,null,[[1,9]])}function Rn(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.model,a=n.environment,o=Array.isArray(a)?a:[a],i.prev=2,c=o.map((function(t){return Object(ht.b)(w.Xc,e,"default",r.model,t)})),i.next=6,Object(ht.a)(c);case 6:return i.next=8,Object(ht.f)(un.a.success({model:r,environment:a}));case 8:i.next=16;break;case 10:return i.prev=10,i.t0=i.catch(2),i.next=14,Object(k.a)(i.t0);case 14:return i.next=16,Object(ht.f)(un.a.failure(i.t0));case 16:case"end":return i.stop()}}),hn,null,[[2,10]])}function Dn(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.model,a=n.environment,o.prev=1,o.delegateYield(Object(ht.b)(w.G,e,"default",r.model,a),"t0",3);case 3:return o.next=5,Object(ht.f)(un.j.success());case 5:return o.next=7,Object(ht.f)(un.f.request());case 7:o.next=15;break;case 9:return o.prev=9,o.t1=o.catch(1),o.next=13,Object(k.a)(o.t1);case 13:return o.next=15,Object(ht.f)(un.j.failure(o.t1));case 15:case"end":return o.stop()}}),On,null,[[1,9]])}function In(e){var t,n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t="default",a.delegateYield(Object(ht.b)(w.Zc,e,t),"t0",3);case 3:return n=a.t0,r=n.job,a.next=7,Object(ht.f)(un.i.request({projectId:t,jobId:r}));case 7:a.next=15;break;case 9:return a.prev=9,a.t1=a.catch(0),a.next=13,Object(k.a)(a.t1);case 13:return a.next=15,Object(ht.f)(un.n.failure(a.t1));case 15:case"end":return a.stop()}}),xn,null,[[0,9]])}function Ln(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n=t.payload,r=n.projectId,a=n.jobId,s.delegateYield(Object(ht.b)(w.lc,e,r,a),"t0",3);case 3:if(o=s.t0,c=o.status,i=o.details,"failure"!==c){s.next=11;break}return s.next=9,Object(ht.f)(un.n.failure(i));case 9:s.next=20;break;case 11:if("success"!==c){s.next=16;break}return s.next=14,Object(ht.f)(un.n.success({job:a,info:i.info}));case 14:s.next=20;break;case 16:return s.next=18,Object(ht.d)(1e4);case 18:return s.next=20,Object(ht.f)(un.i.request(t.payload));case 20:s.next=28;break;case 22:return s.prev=22,s.t1=s.catch(0),s.next=26,Object(k.a)(s.t1);case 26:return s.next=28,Object(ht.f)(un.n.failure(s.t1));case 28:case"end":return s.stop()}}),gn,null,[[0,22]])}function Nn(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ht.b)(w.Cb,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ht.f)(un.f.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ht.f)(un.f.failure(n.t1));case 13:case"end":return n.stop()}}),vn,null,[[0,7]])}function Bn(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=t.payload,a.delegateYield(Object(ht.b)(w.rd,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(un.o.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(0),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(un.o.failure(a.t1));case 14:case"end":return a.stop()}}),mn,null,[[0,8]])}function Un(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(ht.f)(un.f.request());case 3:return e.next=5,Object(ht.i)([Object(E.getType)(un.f.success),Object(E.getType)(un.f.failure)]);case 5:return e.next=7,Object(ht.d)(3e4);case 7:e.next=0;break;case 9:case"end":return e.stop()}}),yn)}function Mn(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.g)({poll:Object(ht.b)(Un),cancel:Object(ht.i)(Object(E.getType)(Y.i))});case 2:case"end":return e.stop()}}),Cn)}function Pn(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.vb,e,"default",n.model),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(un.e.success(r));case 6:a.next=18;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:if(!a.t1.response||404!==a.t1.response.status){a.next=16;break}return a.next=15,Object(ht.f)(un.l(n));case 15:return a.abrupt("return");case 16:return a.next=18,Object(ht.f)(un.e.failure(a.t1));case 18:case"end":return a.stop()}}),Sn,null,[[1,8]])}function qn(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.Yc,e,"default",n.model),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(un.e.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(un.e.failure(a.t1));case 14:case"end":return a.stop()}}),wn,null,[[1,8]])}function Hn(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.f)(un.g.request({search:"",limit:0,offset:0}));case 2:case"end":return e.stop()}}),En)}var Gn=[Object(T.a)(Object(E.getType)(un.d.request),kn,!0),Object(T.a)(Object(E.getType)(un.k.request),Tn,!0),Object(T.a)(Object(E.getType)(un.b.request),An,!0),Object(T.a)(Object(E.getType)(un.g.request),_n,!0,!0),Object(T.a)(Object(E.getType)(un.a.request),Rn,!0),Object(T.a)(Object(E.getType)(un.j.request),Dn,!0),Object(T.a)(Object(E.getType)(un.n.request),In,!0),Object(T.a)(Object(E.getType)(un.c.request),Fn,!0),Object(T.a)(Object(E.getType)(un.f.request),Nn,!0),Object(T.a)(Object(E.getType)(un.m),Mn,!0),Object(T.a)(Object(E.getType)(un.e.request),Pn,!0),Object(T.a)(Object(E.getType)(un.l),qn,!0),Object(T.a)(Object(E.getType)(un.o.request),Bn,!0),Object(T.a)([Object(E.getType)(un.o.success),Object(E.getType)(un.n.success)],Hn),Object(T.a)(Object(E.getType)(un.i.request),Ln,!0)],Vn=n(40),zn=n(31),Yn=C.a.mark(er),Wn=C.a.mark(tr),Kn=C.a.mark(rr),Qn=C.a.mark(ar),Xn=C.a.mark(or),$n=C.a.mark(cr),Zn=C.a.mark(ir),Jn=C.a.mark(sr);function er(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,i.prev=1,i.delegateYield(Object(ht.b)(w.Oc,e,"default",n),"t0",3);case 3:return i.next=5,Object(ht.f)(zn.i.success(n));case 5:i.next=12;break;case 7:return i.prev=7,i.t1=i.catch(1),i.t1.response&&(r=i.t1.response,a=r.status,o=r.data,400===a&&(c=["Invalid YAML file","It looks like something is wrong with your YAML file. Please update it and try saving again."],i.t1.name=c[0],i.t1.message=c[1]),422===a&&"ConfigMissingKeys"===o.reason&&(i.t1.name="Missing config keys",i.t1.message=o.message)),i.next=12,Object(ht.f)(zn.i.failure(i.t1));case 12:case"end":return i.stop()}}),Yn,null,[[1,7]])}function tr(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ht.b)(w.Vb,e,"default"),"t0",2);case 2:return t=n.t0,n.next=5,Object(ht.f)(zn.d.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ht.f)(zn.d.failure(n.t1));case 13:case"end":return n.stop()}}),Wn,null,[[0,7]])}var nr=Object(Vn.a)(w.mb,zn.e);function rr(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ht.b)(w.pb,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ht.f)(zn.h.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ht.f)(zn.h.failure(n.t1));case 13:case"end":return n.stop()}}),Kn,null,[[0,7]])}function ar(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ht.b)(w.ob,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ht.f)(zn.g.success(t));case 5:return n.next=7,Object(ht.f)(zn.h.request());case 7:n.next=15;break;case 9:return n.prev=9,n.t1=n.catch(0),n.next=13,Object(k.a)(n.t1);case 13:return n.next=15,Object(ht.f)(zn.g.failure(n.t1));case 15:case"end":return n.stop()}}),Qn,null,[[0,9]])}function or(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ht.b)(w.nb,e,t),"t0",2);case 2:return n=r.t0,r.next=5,Object(ht.f)(zn.f.success(n));case 5:return r.next=7,Object(ht.f)(zn.h.request());case 7:r.next=15;break;case 9:return r.prev=9,r.t1=r.catch(0),r.next=13,Object(k.a)(r.t1);case 13:return r.next=15,Object(ht.f)(zn.f.failure(r.t1));case 15:case"end":return r.stop()}}),Xn,null,[[0,9]])}function cr(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.delegateYield(Object(ht.b)(w.s,e,t.payload),"t0",2);case 2:return n=o.t0,o.next=5,Object(ht.f)(zn.b.success(n));case 5:return o.next=7,Object(ht.f)(zn.h.request());case 7:o.next=14;break;case 9:return o.prev=9,o.t1=o.catch(0),o.t1.response&&(r=o.t1.response.data,a=["Failed to create domain",r.message],o.t1.name=a[0],o.t1.message=a[1]),o.next=14,Object(ht.f)(zn.b.failure(o.t1));case 14:case"end":return o.stop()}}),$n,null,[[0,9]])}function ir(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ht.b)(w.Bc,e,t.payload.id,t.payload),"t0",2);case 2:return n=r.t0,r.next=5,Object(ht.f)(zn.j.success(n));case 5:return r.next=7,Object(ht.f)(zn.h.request());case 7:r.next=13;break;case 9:return r.prev=9,r.t1=r.catch(0),r.next=13,Object(ht.f)(zn.j.failure(r.t1));case 13:case"end":return r.stop()}}),Zn,null,[[0,9]])}function sr(e,t){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ht.b)(w.A,e,t.payload.id),"t0",2);case 2:return n.next=4,Object(ht.f)(zn.c.success(t.payload));case 4:return n.next=6,Object(ht.f)(zn.h.request());case 6:n.next=12;break;case 8:return n.prev=8,n.t1=n.catch(0),n.next=12,Object(ht.f)(zn.c.failure(n.t1));case 12:case"end":return n.stop()}}),Jn,null,[[0,8]])}var lr=[Object(T.a)(Object(E.getType)(zn.i.request),er,!0),Object(T.a)(Object(E.getType)(zn.d.request),tr,!0),Object(T.b)(zn.e.request,nr),Object(T.a)(Object(E.getType)(zn.f.request),or,!0),Object(T.a)(Object(E.getType)(zn.g.request),ar,!0),Object(T.a)(Object(E.getType)(zn.b.request),cr,!0),Object(T.a)(Object(E.getType)(zn.j.request),ir,!0),Object(T.a)(Object(E.getType)(zn.c.request),sr,!0),Object(T.a)(Object(E.getType)(zn.h.request),rr,!0),Object(T.a)([Object(E.getType)(zn.j.success),Object(E.getType)(zn.i.success)],Ae.b)],ur=C.a.mark(gr),dr=C.a.mark(vr),br=C.a.mark(mr),fr=C.a.mark(yr),pr=C.a.mark(Cr),jr=C.a.mark(Sr),hr=C.a.mark(wr),Or=C.a.mark(Er),xr=C.a.mark(kr);function gr(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ht.b)(w.Kb,e,"default",t),"t0",2);case 2:return n=r.t0,r.next=5,Object(ht.f)(_e.g.success(n));case 5:r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(0),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ht.f)(_e.g.failure(r.t1));case 13:case"end":return r.stop()}}),ur,null,[[0,7]])}function vr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.v,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(_e.b.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(_e.b.failure(a.t1));case 14:case"end":return a.stop()}}),dr,null,[[1,8]])}function mr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.ed,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(_e.i.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(_e.i.failure(a.t1));case 14:case"end":return a.stop()}}),br,null,[[1,8]])}function yr(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.offset,a=n.limit,o=0===a?[1,0]:[a,r],l.prev=2,l.delegateYield(ht.b.apply(void 0,[w.Lb,e,"default"].concat(o)),"t0",4);case 4:return c=l.t0,i=c.regexes,s=c.total,l.next=9,Object(ht.f)(_e.h.success({regexes:i,total:s,offset:r}));case 9:l.next=17;break;case 11:return l.prev=11,l.t1=l.catch(2),l.next=15,Object(k.a)(l.t1);case 15:return l.next=17,Object(ht.f)(_e.h.failure(l.t1));case 17:case"end":return l.stop()}}),fr,null,[[2,11]])}function Cr(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(ht.a)(n.map((function(t){return Object(ht.b)(w.H,e,"default",t)})));case 4:return r.next=6,Object(ht.f)(_e.d.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(ht.f)(_e.d.failure(r.t0));case 14:case"end":return r.stop()}}),pr,null,[[1,8]])}function Sr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.u,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(_e.a.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(_e.a.failure(a.t1));case 14:case"end":return a.stop()}}),jr,null,[[1,8]])}function wr(e){var t,n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.delegateYield(Object(ht.b)(w.Gb,e,"default"),"t0",2);case 2:return t=a.t0,n=t.lookupTables,r=t.total,a.next=7,Object(ht.f)(_e.f.success({lookupTables:n,total:r}));case 7:a.next=15;break;case 9:return a.prev=9,a.t1=a.catch(0),a.next=13,Object(k.a)(a.t1);case 13:return a.next=15,Object(ht.f)(_e.f.failure(a.t1));case 15:case"end":return a.stop()}}),hr,null,[[0,9]])}function Er(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=t.payload,r=n.filename,a=n.lookupTableId,i.delegateYield(Object(ht.b)(w.Fb,e,"default",a),"t0",3);case 3:o=i.t0,c=new Blob([o],{type:"text/*;charset=utf-8"}),Object(we.saveAs)(c,r),i.next=14;break;case 8:return i.prev=8,i.t1=i.catch(0),i.next=12,Object(k.a)(i.t1);case 12:return i.next=14,Object(ht.f)(_e.e.failure(i.t1));case 14:case"end":return i.stop()}}),Or,null,[[0,8]])}function kr(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(ht.a)(n.map((function(t){return Object(ht.b)(w.E,e,"default",t)})));case 4:return r.next=6,Object(ht.f)(_e.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(ht.f)(_e.c.failure(r.t0));case 14:case"end":return r.stop()}}),xr,null,[[1,8]])}var Tr=[Object(T.a)(Object(E.getType)(_e.a.request),Sr,!0,!0),Object(T.a)(Object(E.getType)(_e.b.request),vr,!0),Object(T.a)(Object(E.getType)(_e.c.request),kr,!0,!0),Object(T.a)(Object(E.getType)(_e.d.request),Cr,!0),Object(T.a)(Object(E.getType)(_e.e.request),Er,!0,!0),Object(T.a)(Object(E.getType)(_e.f.request),wr,!0,!0),Object(T.a)(Object(E.getType)(_e.g.request),gr,!0),Object(T.a)(Object(E.getType)(_e.h.request),yr,!0,!0),Object(T.a)(Object(E.getType)(_e.i.request),mr,!0),Object(T.a)([Object(E.getType)(_e.a.success),Object(E.getType)(_e.b.success),Object(E.getType)(_e.c.success),Object(E.getType)(_e.d.success),Object(E.getType)(_e.i.success)],Ae.b)],Ar=n(49),_r=C.a.mark(Nr),Fr=C.a.mark(Br),Rr=C.a.mark(Ur),Dr=C.a.mark(Mr),Ir=C.a.mark(Pr),Lr=C.a.mark(qr);function Nr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.search,a.prev=1,a.delegateYield(Object(ht.b)(w.Bb,e,"",n,!0,!1),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(Ar.b.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(Ar.b.failure(a.t1));case 14:case"end":return a.stop()}}),_r,null,[[1,8]])}function Br(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((n=t.payload.search)&&""!==n){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.delegateYield(Object(ht.b)(w.Bb,e,n,n,!1,!1,50,0),"t0",5);case 5:return r=a.t0,a.next=8,Object(ht.f)(Ar.c.success(Object(z.a)(Object(z.a)({},r),{},{search:n})));case 8:a.next=16;break;case 10:return a.prev=10,a.t1=a.catch(3),a.next=14,Object(k.a)(a.t1);case 14:return a.next=16,Object(ht.f)(Ar.c.failure(a.t1));case 16:case"end":return a.stop()}}),Fr,null,[[3,10]])}function Ur(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(z.a)(Object(z.a)({},t.payload),{},{isDirty:void 0}),a.prev=1,a.delegateYield(Object(ht.b)(w.fd,e,n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(Ar.f.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(Ar.f.failure(a.t1));case 14:case"end":return a.stop()}}),Rr,null,[[1,8]])}function Mr(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.name,a=n.newName,o.prev=1,o.delegateYield(Object(ht.b)(w.gd,e,r,a),"t0",3);case 3:return o.next=5,Object(ht.f)(Ar.g.success({name:r,newName:a}));case 5:o.next=13;break;case 7:return o.prev=7,o.t1=o.catch(1),o.next=11,Object(k.a)(o.t1);case 11:return o.next=13,Object(ht.f)(Ar.g.failure(o.t1));case 13:case"end":return o.stop()}}),Dr,null,[[1,7]])}function Pr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.Jc,e,n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(Ar.d.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(Ar.d.failure(a.t1));case 14:case"end":return a.stop()}}),Ir,null,[[1,8]])}function qr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(ht.b)(w.I,e,t)})),a.next=5,Object(ht.a)(r);case 5:return a.next=7,Object(ht.f)(Ar.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(ht.f)(Ar.a.failure(a.t0));case 15:case"end":return a.stop()}}),Lr,null,[[1,9]])}var Hr=[Object(T.a)(Object(E.getType)(Ar.b.request),Nr,!0,!0),Object(T.a)(Object(E.getType)(Ar.c.request),Br,!0,!0),Object(T.a)(Object(E.getType)(Ar.d.request),Pr,!0),Object(T.a)(Object(E.getType)(Ar.f.request),Ur,!0),Object(T.a)(Object(E.getType)(Ar.g.request),Mr,!0),Object(T.a)(Object(E.getType)(Ar.a.request),qr,!0),Object(T.a)([Object(E.getType)(Ar.d.success),Object(E.getType)(Ar.f.success),Object(E.getType)(Ar.g.success),Object(E.getType)(Ar.a.success)],Ae.b)],Gr=n(77),Vr=C.a.mark(Xr),zr=C.a.mark($r),Yr=C.a.mark(Zr),Wr=C.a.mark(Jr),Kr=Object(Vn.a)(w.Ob,Gr.d,(function(e,t){return{roles:e.roles,total:e.total,offset:t.offset}}),(function(e){var t=e.search,n=e.limit,r=e.offset;return Object(Vn.b)(t,n,r)})),Qr=Object(Vn.a)(w.Mb,Gr.b);function Xr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.Nb,e,n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(Gr.c.success({role:n,users:r}));case 6:return a.next=8,Object(ht.f)(O.h(r));case 8:a.next=16;break;case 10:return a.prev=10,a.t1=a.catch(1),a.next=14,Object(k.a)(a.t1);case 14:return a.next=16,Object(ht.f)(Gr.c.failure(a.t1));case 16:case"end":return a.stop()}}),Vr,null,[[1,10]])}function $r(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.role,a=n.users,o=n.onSaved,s.prev=1,s.delegateYield(Object(ht.b)(w.Kc,e,r),"t0",3);case 3:if(c=s.t0,!a){s.next=9;break}return s.delegateYield(Object(ht.b)(w.Lc,e,r,a),"t2",6);case 6:s.t1=s.t2,s.next=10;break;case 9:s.t1=void 0;case 10:return i=s.t1,s.next=13,Object(ht.f)(Gr.f.success({role:c,users:i}));case 13:if(!i){s.next=16;break}return s.next=16,Object(ht.f)(O.h(i));case 16:null===o||void 0===o||o(),s.next=25;break;case 19:return s.prev=19,s.t3=s.catch(1),s.next=23,Object(k.a)(s.t3);case 23:return s.next=25,Object(ht.f)(Gr.f.failure(s.t3));case 25:case"end":return s.stop()}}),zr,null,[[1,19]])}function Zr(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.currentId,a=n.role,o=n.users,c=n.onSaved,l.prev=1,l.delegateYield(Object(ht.b)(w.id,e,a,r),"t0",3);case 3:if(i=l.t0,!o){l.next=9;break}return l.delegateYield(Object(ht.b)(w.Lc,e,a,o),"t2",6);case 6:l.t1=l.t2,l.next=10;break;case 9:l.t1=void 0;case 10:return s=l.t1,l.next=13,Object(ht.f)(Gr.g.success({currentId:r,role:i,users:[]}));case 13:if(!s){l.next=16;break}return l.next=16,Object(ht.f)(O.h(s));case 16:null===c||void 0===c||c(),l.next=25;break;case 19:return l.prev=19,l.t3=l.catch(1),l.next=23,Object(k.a)(l.t3);case 23:return l.next=25,Object(ht.f)(Gr.g.failure(l.t3));case 25:case"end":return l.stop()}}),Yr,null,[[1,19]])}function Jr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(ht.b)(w.J,e,t)})),a.next=5,Object(ht.a)(r);case 5:return a.next=7,Object(ht.f)(Gr.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(ht.f)(Gr.a.failure(a.t0));case 15:case"end":return a.stop()}}),Wr,null,[[1,9]])}var ea=[Object(T.a)(Object(E.getType)(Gr.b.request),Qr,!0),Object(T.a)(Object(E.getType)(Gr.d.request),Kr,!0),Object(T.a)(Object(E.getType)(Gr.c.request),Xr,!0),Object(T.a)(Object(E.getType)(Gr.f.request),$r,!0),Object(T.a)(Object(E.getType)(Gr.g.request),Zr,!0),Object(T.a)(Object(E.getType)(Gr.a.request),Jr,!0)],ta=n(51),na=C.a.mark(sa),ra=C.a.mark(ba),aa=C.a.mark(fa),oa=C.a.mark(pa),ca=Object(Vn.a)(w.Pb,ta.f,(function(e,t){var n=e.total;return{rules:e.rules,total:n,offset:t.offset}}),(function(e){var t=e.search,n=e.limit,r=e.offset;return Object(Vn.b)(t,n,r)})),ia=Object(Vn.a)(w.Qb,ta.g);function sa(e,t){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(Array.isArray(t.payload)?t.payload:[t.payload]).length){n.next=5;break}return n.next=4,Object(ht.f)(ta.g.success(""));case 4:return n.abrupt("return");case 5:return n.next=7,ia(e,t);case 7:case"end":return n.stop()}}),na)}var la=Object(Vn.a)(w.jd,ta.j,void 0,(function(e){var t=e.story,n=e.isMarkdown;return Object(Vn.b)(t,n)})),ua=Object(Vn.a)(w.Mc,ta.i,void 0,(function(e){var t=e.story;return Object(Vn.b)(t,!1)})),da=Object(Vn.a)(w.K,ta.d,(function(e,t){return t}));function ba(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ht.b)(w.T,e),"t0",2);case 2:t=r.t0,n=new Blob([t],{type:"text/yaml;charset=utf-8"}),saveAs(n,"rules.yml"),r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(0),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ht.f)(ta.f.failure(r.t1));case 13:case"end":return r.stop()}}),ra,null,[[0,7]])}function fa(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.stories,"text/yaml",a.prev=2,a.delegateYield(Object(ht.b)(w.wc,e,n,"text/yaml"),"t0",4);case 4:return r=a.t0,a.next=7,Object(ht.f)(ta.h.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t1=a.catch(2),a.next=13,Object(k.a)(a.t1);case 13:return a.next=15,Object(ht.f)(ta.h.failure(a.t1));case 15:case"end":return a.stop()}}),aa,null,[[2,9]])}function pa(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,"text/yaml",o.prev=2,o.delegateYield(Object(ht.b)(w.g,e,n,"text/yaml"),"t0",4);case 4:return r=o.t0,o.next=7,Object(ht.f)(ta.a.success(r));case 7:return o.delegateYield(Object(ht.h)((function(e){return e.rules.searchQuery})),"t1",8);case 8:return a=o.t1,o.next=11,Object(ht.f)(ta.f.request({search:a,limit:0,offset:0}));case 11:o.next=19;break;case 13:return o.prev=13,o.t2=o.catch(2),o.next=17,Object(k.a)(o.t2);case 17:return o.next=19,Object(ht.f)(ta.a.failure(o.t2));case 19:case"end":return o.stop()}}),oa,null,[[2,13]])}var ja=[Object(T.b)(ta.f.request,ca),Object(T.b)(ta.g.request,sa),Object(T.b)(ta.i.request,ua),Object(T.b)(ta.j.request,la),Object(T.b)(ta.d.request,da),Object(T.b)(ta.a.request,pa),Object(T.b)(ta.h.request,fa),Object(T.b)(ta.e,ba)],ha=n(154),Oa=n.n(ha),xa=n(34),ga=C.a.mark(ka),va=C.a.mark(Ta),ma=C.a.mark(Aa),ya=C.a.mark(_a),Ca=C.a.mark(Fa),Sa=C.a.mark(Ra),wa=C.a.mark(Da),Ea=C.a.mark(Ia);function ka(e,t){var n,r,a,o,c,i,s,l;return C.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.payload,r=n.search,a=n.offset,o=n.limit,c=r?Oa.a.parse(r).getAllText():"",u.prev=2,u.next=5,Object(S.d)(w.Sb,e,o,a,c);case 5:return i=u.sent,s=i.conversations,l=i.total,u.next=10,Object(S.n)(xa.g.success({conversations:s,total:l,offset:a}));case 10:u.next=18;break;case 12:return u.prev=12,u.t0=u.catch(2),u.next=16,Object(k.a)(u.t0);case 16:return u.next=18,Object(S.n)(xa.g.failure(u.t0));case 18:case"end":return u.stop()}}),ga,null,[[2,12]])}function Ta(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload.id,o.prev=1,o.next=4,Object(S.d)(w.Rb,e,n);case 4:return r=o.sent,a=r.conversation,o.next=8,Object(S.n)(xa.f.success({conversation:a}));case 8:o.next=16;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(k.a)(o.t0);case 14:return o.next=16,Object(S.n)(xa.f.failure(o.t0));case 16:case"end":return o.stop()}}),va,null,[[1,10]])}function Aa(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n=t.payload,r=n.name,a=n.description,c.next=4,Object(S.d)(w.w,e,r,a);case 4:return o=c.sent,c.next=7,Object(S.n)(xa.c.success(o));case 7:return c.next=9,Object(S.l)("history");case 9:c.sent.push("/blueprints/dialogues/".concat(o.id)),c.next=19;break;case 13:return c.prev=13,c.t0=c.catch(0),c.next=17,Object(k.a)(c.t0);case 17:return c.next=19,Object(S.n)(xa.c.failure(c.t0));case 19:case"end":return c.stop()}}),ma,null,[[0,13]])}function _a(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=t.payload,r=n.id,a=n.name,o=n.description,i.next=4,Object(S.d)(w.kd,e,r,a,o);case 4:return c=i.sent,i.next=7,Object(S.n)(xa.h.success(c));case 7:return i.next=9,Object(S.l)("history");case 9:i.sent.push("/blueprints/dialogues/".concat(r)),i.next=19;break;case 13:return i.prev=13,i.t0=i.catch(0),i.next=17,Object(k.a)(i.t0);case 17:return i.next=19,Object(S.n)(xa.h.failure(i.t0));case 19:case"end":return i.stop()}}),ya,null,[[0,13]])}function Fa(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.id,a.prev=1,a.next=4,Object(S.d)(w.L,e,n);case 4:return a.next=6,Object(S.n)(xa.d.success({id:n}));case 6:a.next=19;break;case 8:if(a.prev=8,a.t0=a.catch(1),404!==(null===(r=a.t0.response)||void 0===r?void 0:r.status)){a.next=15;break}return a.next=13,Object(S.n)(xa.d.success({id:n}));case 13:a.next=19;break;case 15:return a.next=17,Object(k.a)(a.t0);case 17:return a.next=19,Object(S.n)(xa.d.failure(a.t0));case 19:case"end":return a.stop()}}),Ca,null,[[1,8]])}function Ra(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.id,a=n.type,o=n.text,i.prev=1,i.next=4,Object(S.d)(w.h,e,r,a,o);case 4:return c=i.sent,i.next=7,Object(S.n)(xa.a.success(c));case 7:i.next=15;break;case 9:return i.prev=9,i.t0=i.catch(1),i.next=13,Object(k.a)(i.t0);case 13:return i.next=15,Object(S.n)(xa.a.failure(i.t0));case 15:case"end":return i.stop()}}),Sa,null,[[1,9]])}function Da(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.id,a=n.type,o=n.text,c=n.parentConversationId,s.prev=1,s.next=4,Object(S.d)(w.ld,e,r,a,o,c);case 4:return i=s.sent,s.next=7,Object(S.n)(xa.i.success(i));case 7:s.next=15;break;case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,Object(k.a)(s.t0);case 13:return s.next=15,Object(S.n)(xa.i.failure(s.t0));case 15:case"end":return s.stop()}}),wa,null,[[1,9]])}function Ia(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.parentConversationId,a=n.messageId,c.prev=1,c.next=4,Object(S.d)(w.M,e,r,a);case 4:return c.next=6,Object(S.n)(xa.e.success({parentConversationId:r,messageId:a}));case 6:c.next=19;break;case 8:if(c.prev=8,c.t0=c.catch(1),404!==(null===(o=c.t0.response)||void 0===o?void 0:o.status)){c.next=15;break}return c.next=13,Object(S.n)(xa.e.success({parentConversationId:r,messageId:a}));case 13:c.next=19;break;case 15:return c.next=17,Object(k.a)(c.t0);case 17:return c.next=19,Object(S.n)(xa.e.failure(c.t0));case 19:case"end":return c.stop()}}),Ea,null,[[1,8]])}var La=[Object(T.a)(Object(E.getType)(xa.g.request),ka,!0,!0),Object(T.a)(Object(E.getType)(xa.f.request),Ta,!0,!0),Object(T.a)(Object(E.getType)(xa.c.request),Aa,!0),Object(T.a)(Object(E.getType)(xa.h.request),_a,!0),Object(T.a)(Object(E.getType)(xa.a.request),Ra,!0,!0),Object(T.a)(Object(E.getType)(xa.i.request),Da,!0,!0),Object(T.a)(Object(E.getType)(xa.d.request),Fa,!0,!0),Object(T.a)(Object(E.getType)(xa.e.request),Ia,!0,!0)],Na=n(41),Ba=C.a.mark(Ga),Ua=C.a.mark(Wa),Ma=C.a.mark(Ka),Pa=C.a.mark(Qa),qa=Object(Vn.a)(w.Zb,Na.f,(function(e,t){var n=e.total;return{stories:e.stories,total:n,offset:t.offset}}),(function(e){var t=e.search,n=e.limit,r=e.offset;return Object(Vn.b)(t,n,r)})),Ha=Object(Vn.a)(w.ic,Na.g);function Ga(e,t){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(Array.isArray(t.payload)?t.payload:[t.payload]).length){n.next=5;break}return n.next=4,Object(ht.f)(Na.g.success(""));case 4:return n.abrupt("return");case 5:return n.next=7,Ha(e,t);case 7:case"end":return n.stop()}}),Ba)}var Va=Object(Vn.a)(w.md,Na.m,void 0,(function(e){var t=e.story,n=e.isMarkdown;return Object(Vn.b)(t,n)})),za=Object(Vn.a)(w.Pc,Na.i,void 0,(function(e){var t=e.story,n=e.isMarkdown;return Object(Vn.b)(t,n)})),Ya=Object(Vn.a)(w.N,Na.d,(function(e,t){return t}));function Wa(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ht.b)(w.U,e),"t0",2);case 2:t=r.t0,n=new Blob([t],{type:"text/yaml;charset=utf-8"}),Object(we.saveAs)(n,"stories.yml"),r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(0),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ht.f)(Na.f.failure(r.t1));case 13:case"end":return r.stop()}}),Ua,null,[[0,7]])}function Ka(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=t.payload,r="application/json";try{JSON.parse(n)}catch(i){r="text/yaml"}return c.prev=3,c.delegateYield(Object(ht.b)(w.i,e,n,r),"t0",5);case 5:return a=c.t0,c.next=8,Object(ht.f)(Na.a.success(a));case 8:return c.delegateYield(Object(ht.h)((function(e){return e.stories.searchQuery})),"t1",9);case 9:return o=c.t1,c.next=12,Object(ht.f)(Na.f.request({search:o,limit:0,offset:0}));case 12:c.next=20;break;case 14:return c.prev=14,c.t2=c.catch(3),c.next=18,Object(k.a)(c.t2);case 18:return c.next=20,Object(ht.f)(Na.a.failure(c.t2));case 20:case"end":return c.stop()}}),Ma,null,[[3,14]])}function Qa(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.stories,a=n.fileName,o=Object(Fe.a)(a),i.prev=2,i.delegateYield(Object(ht.b)(w.xc,e,r,o),"t0",4);case 4:return c=i.t0,i.next=7,Object(ht.f)(Na.h.success(c));case 7:i.next=15;break;case 9:return i.prev=9,i.t1=i.catch(2),i.next=13,Object(k.a)(i.t1);case 13:return i.next=15,Object(ht.f)(Na.h.failure(i.t1));case 15:case"end":return i.stop()}}),Pa,null,[[2,9]])}var Xa=[Object(T.b)(Na.f.request,qa),Object(T.b)(Na.g.request,Ga),Object(T.b)(Na.i.request,za),Object(T.b)(Na.m.request,Va),Object(T.b)(Na.d.request,Ya),Object(T.b)(Na.a.request,Ka),Object(T.b)(Na.h.request,Qa),Object(T.b)(Na.e,Wa)],$a=n(88),Za=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){var t=function(e){return e};return e.apply(void 0,n).then(t,t)}},Ja=n(36),eo=C.a.mark(so),to=C.a.mark(lo),no=C.a.mark(fo),ro=C.a.mark(po),ao=C.a.mark(jo),oo=C.a.mark(ho),co=C.a.mark(Oo),io=C.a.mark(xo);function so(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.Qc,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(Ja.k.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(Ja.k.failure(a.t1));case 14:case"end":return a.stop()}}),eo,null,[[1,8]])}function lo(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=ke()(n),s.prev=2,s.next=5,Object(ht.a)({suggestion:Object(ht.b)(Za(w.ac,e,"default",r)),example:Object(ht.b)(Za(w.wb,e,"default",r))});case 5:return a=s.sent,o=a.suggestion,c=a.example,i=[o,c].reduce((function(e,t){if("response"in t&&t.response){if(404!==t.response.status)throw t;return e}return!0}),!1),s.next=11,Object(ht.f)(Ja.b.success(i));case 11:s.next=19;break;case 13:return s.prev=13,s.t0=s.catch(2),s.next=17,Object(k.a)(s.t0);case 17:return s.next=19,Object(ht.f)(Ja.b.failure(s.t0));case 19:case"end":return s.stop()}}),to,null,[[2,13]])}function uo(e,t){var n=e.payload,r=n.offset,a=n.limit;return 0===r||t<r+a}function bo(e,t){var n=e.payload,r=n.offset,a=r+n.limit,o=0===r,c=o?a:a-t;return{offset:o?0:t,limit:50*Math.ceil(c/50)}}function fo(e,t){var n,r,a,o,c,i,s,l,u,d,b,f,p,j,h,O,x,g;return C.a.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return n=t.payload,r=n.offset,a=n.filter,o=n.search,c=n.sortBy,i=n.sortOrder,v.delegateYield(Object(ht.h)((function(e){return e.suggestions})),"t0",2);case 2:if(s=v.t0,l=s.totalFetched,!s.noMoreSuggestions||0===r){v.next=7;break}return v.abrupt("return");case 7:if(uo(t,l)){v.next=9;break}return v.abrupt("return");case 9:return u=bo(t,l),d=u.offset,b=u.limit,v.prev=10,f=Oa.a.parse(o),p=f.getAllText(),v.delegateYield(Object(ht.b)(w.bc,e,"default",p,a.intents,a.entities,a.tags.map((function(e){return e.id})),b,d,a.date.from&&Object($a.f)(a.date.from),a.date.to&&Object($a.f)(a.date.to,$a.a),c,i),"t1",14);case 14:return j=v.t1,h=j.suggestions,O=j.total,x=0===r?O:void 0,g=d+h.length,v.next=21,Object(ht.f)(Ja.n(g));case 21:return v.next=23,Object(ht.f)(Ja.e.success({suggestions:h,total:x,limit:b,offset:d}));case 23:v.next=31;break;case 25:return v.prev=25,v.t2=v.catch(10),v.next=29,Object(k.a)(v.t2);case 29:return v.next=31,Object(ht.f)(Ja.e.failure(v.t2));case 31:case"end":return v.stop()}}),no,null,[[10,25]])}function po(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.filter,a=n.search,l.prev=1,o=Oa.a.parse(a),c=o.getAllText(),l.delegateYield(Object(ht.b)(w.bc,e,"default",c,r.intents,r.entities,r.tags.map((function(e){return e.id})),1,0),"t0",5);case 5:return i=l.t0,s=i.total,l.next=9,Object(ht.f)(Ja.f.success(s));case 9:l.next=17;break;case 11:return l.prev=11,l.t1=l.catch(1),l.next=15,Object(k.a)(l.t1);case 15:return l.next=17,Object(ht.f)(Ja.f.failure(l.t1));case 17:case"end":return l.stop()}}),ro,null,[[1,11]])}function jo(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(ht.a)(n.map((function(t){return Object(ht.b)(w.O,e,"default",t)})));case 4:return r.next=6,Object(ht.f)(Ja.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(ht.f)(Ja.c.failure(r.t0));case 14:case"end":return r.stop()}}),ao,null,[[1,8]])}function ho(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.suggestionId,a=n.entities,i.prev=1,i.next=4,Object(ht.a)(a.map((function(t){return Object(ht.b)(w.cc,e,"default","","",t.value)})));case 4:return o=i.sent,c=o.map((function(e){return e.synonyms[0]})),i.next=8,Object(ht.f)(Ja.g.success({suggestionId:r,entities:a,synonyms:c}));case 8:i.next=16;break;case 10:return i.prev=10,i.t0=i.catch(1),i.next=14,Object(k.a)(i.t0);case 14:return i.next=16,Object(ht.f)(Ja.g.failure(i.t0));case 16:case"end":return i.stop()}}),oo,null,[[1,10]])}function Oo(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.suggestionId,a=n.tags,c.prev=1,c.delegateYield(Object(ht.b)(w.Rc,e,"default",a,r),"t0",3);case 3:return o=c.t0,c.next=6,Object(ht.f)(Ja.l.success({suggestionId:r,tags:o}));case 6:c.next=14;break;case 8:return c.prev=8,c.t1=c.catch(1),c.next=12,Object(k.a)(c.t1);case 12:return c.next=14,Object(ht.f)(Ja.l.failure(c.t1));case 14:case"end":return c.stop()}}),co,null,[[1,8]])}function xo(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.suggestionId,a=n.tag,o.prev=1,o.delegateYield(Object(ht.b)(w.vc,e,"default",a,r),"t0",3);case 3:return o.next=5,Object(ht.f)(Ja.j.success({suggestionId:r,tag:a}));case 5:o.next=13;break;case 7:return o.prev=7,o.t1=o.catch(1),o.next=11,Object(k.a)(o.t1);case 11:return o.next=13,Object(ht.f)(Ja.l.failure(o.t1));case 13:case"end":return o.stop()}}),io,null,[[1,7]])}var go=[Object(T.a)(Object(E.getType)(Ja.k.request),so,!0),Object(T.a)(Object(E.getType)(Ja.l.request),Oo,!0),Object(T.a)(Object(E.getType)(Ja.j.request),xo,!0),Object(T.a)(Object(E.getType)(Ja.b.request),lo,!0),Object(T.a)(Object(E.getType)(Ja.g.request),ho,!0,!0),Object(T.a)(Object(E.getType)(Ja.e.request),fo,!0,!1),Object(T.a)(Object(E.getType)(Ja.f.request),po,!0,!1),Object(T.a)(Object(E.getType)(Ja.c.request),jo,!0),Object(T.a)([Object(E.getType)(Ja.k.success),Object(E.getType)(Ja.c.success)],Ae.b)],vo=n(54),mo=C.a.mark(ko),yo=C.a.mark(To),Co=C.a.mark(Ao),So=C.a.mark(_o),wo=C.a.mark(Fo),Eo=C.a.mark(Ro);function ko(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.search,a=n.mappedValue,l.prev=1,o=Oa.a.parse(r),c=o.getAllText(),i=o.getConditionArray().filter((function(e){return"reference"===e.keyword})).map((function(e){return e.value})).join(","),l.delegateYield(Object(ht.b)(w.cc,e,"default",c,i,a||""),"t0",6);case 6:return s=l.t0,l.next=9,Object(ht.f)(vo.b.success(s));case 9:l.next=17;break;case 11:return l.prev=11,l.t1=l.catch(1),l.next=15,Object(k.a)(l.t1);case 15:return l.next=17,Object(ht.f)(vo.b.failure(l.t1));case 17:case"end":return l.stop()}}),mo,null,[[1,11]])}function To(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ht.b)(w.Sc,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ht.f)(vo.c.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ht.f)(vo.c.failure(a.t1));case 14:case"end":return a.stop()}}),yo,null,[[1,8]])}function Ao(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.synonymId,a=n.valueId,o=n.newValue,c.prev=1,c.delegateYield(Object(ht.b)(w.od,e,"default",r,a,o),"t0",3);case 3:return c.next=5,Object(ht.f)(vo.f.success(n));case 5:c.next=13;break;case 7:return c.prev=7,c.t1=c.catch(1),c.next=11,Object(k.a)(c.t1);case 11:return c.next=13,Object(ht.f)(vo.f.failure(c.t1));case 13:case"end":return c.stop()}}),Co,null,[[1,7]])}function _o(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.synonymId,a=n.value,o.prev=1,o.delegateYield(Object(ht.b)(w.nd,e,"default",r,a),"t0",3);case 3:return o.next=5,Object(ht.f)(vo.e.success(n));case 5:o.next=13;break;case 7:return o.prev=7,o.t1=o.catch(1),o.next=11,Object(k.a)(o.t1);case 11:return o.next=13,Object(ht.f)(vo.e.failure(o.t1));case 13:case"end":return o.stop()}}),So,null,[[1,7]])}function Fo(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.id,a=n.mapped_values,c.prev=1,c.delegateYield(Object(ht.b)(w.Tc,e,"default",r,{mapped_values:a}),"t0",3);case 3:return o=c.t0,c.next=6,Object(ht.f)(vo.d.success({id:r,mapped_values:o}));case 6:c.next=14;break;case 8:return c.prev=8,c.t1=c.catch(1),c.next=12,Object(k.a)(c.t1);case 12:return c.next=14,Object(ht.f)(vo.d.failure(c.t1));case 14:case"end":return c.stop()}}),wo,null,[[1,8]])}function Ro(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(ht.a)(n.map((function(t){var n=t.synonymId,r=t.valueId;return Object(ht.b)(w.P,e,"default",n,r)})));case 4:return r.next=6,Object(ht.a)(n.map((function(e){return Object(ht.f)(vo.a.success(e))})));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(ht.f)(vo.a.failure(r.t0));case 14:case"end":return r.stop()}}),Eo,null,[[1,8]])}var Do=[Object(T.a)(Object(E.getType)(vo.a.request),Ro,!0),Object(T.a)(Object(E.getType)(vo.b.request),ko,!0,!0),Object(T.a)(Object(E.getType)(vo.c.request),To,!0),Object(T.a)(Object(E.getType)(vo.d.request),Fo,!0),Object(T.a)(Object(E.getType)(vo.e.request),_o,!0),Object(T.a)(Object(E.getType)(vo.f.request),Ao,!0)],Io=n(116),Lo=C.a.mark(Uo),No=C.a.mark(Mo),Bo=C.a.mark(Po);function Uo(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ht.b)(w.dc,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ht.f)(Io.a.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ht.f)(Io.a.failure(n.t1));case 13:case"end":return n.stop()}}),Lo,null,[[0,7]])}function Mo(e,t){var n,r,a,o,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.payload,r=n.userId,a=n.name,o=n.email,c=n.checkboxChecked,e.delegateYield(Object(ht.b)(w.Ic,r,a,o,c),"t0",3);case 3:return e.next=5,Object(ht.f)(Io.b.success({}));case 5:e.next=11;break;case 7:return e.prev=7,e.t1=e.catch(0),e.next=11,Object(ht.f)(Io.b.failure(e.t1));case 11:case"end":return e.stop()}}),No,null,[[0,7]])}function Po(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=t.payload,r=n.event,a=n.payload,o.delegateYield(Object(ht.b)(w.pc,e,r,a),"t0",3);case 3:return o.next=5,Object(ht.f)(Io.c.success({}));case 5:o.next=13;break;case 7:return o.prev=7,o.t1=o.catch(0),o.next=11,Object(k.a)(o.t1);case 11:return o.next=13,Object(ht.f)(Io.c.failure(o.t1));case 13:case"end":return o.stop()}}),Bo,null,[[0,7]])}var qo=[Object(T.a)(Object(E.getType)(Io.a.request),Uo,!0),Object(T.a)(Object(E.getType)(Io.b.request),Mo,!0),Object(T.a)(Object(E.getType)(Io.c.request),Po,!0)],Ho=n(148),Go=C.a.mark($o),Vo=C.a.mark(Zo),zo=C.a.mark(Jo),Yo=C.a.mark(ec),Wo=C.a.mark(tc),Ko=C.a.mark(nc),Qo=Object(Vn.a)(w.x,O.b),Xo=Object(Vn.a)(w.fc,O.d);function $o(e){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,Object(ht.f)(Object(a.send)(w.j(e)));case 3:case"end":return t.stop()}}),Go)}function Zo(e,t){var n,r,a,o,c,i,s,l,u,d;return C.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return n=t.payload,r=n.search,a=n.limit,o=n.offset,b.prev=1,c=Oa.a.parse(r),i=c.getAllText(),s=c.getConditionArray().filter((function(e){return"role"===e.keyword})).map((function(e){return e.value})).join(","),b.delegateYield(Object(ht.b)(w.gc,e,i,s,a,o),"t0",6);case 6:return l=b.t0,u=l.users,d=l.total,b.next=11,Object(ht.f)(O.e.success({users:u,total:d,limit:a,offset:o,search:r}));case 11:b.next=23;break;case 13:return b.prev=13,b.t1=b.catch(1),b.next=17,Object(k.a)(b.t1);case 17:if(404!==b.t1.response.status){b.next=21;break}return b.next=20,Object(ht.f)(O.e.success({users:[],total:0,limit:a,offset:o,search:r}));case 20:return b.abrupt("return");case 21:return b.next=23,Object(ht.f)(O.e.failure(b.t1));case 23:case"end":return b.stop()}}),Vo,null,[[1,13]])}function Jo(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.delegateYield(Object(ht.b)(w.pd,e,n),"t0",3);case 3:return r.next=5,Object(ht.f)(O.j.success(n));case 5:r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(1),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ht.f)(O.j.failure(r.t1));case 13:case"end":return r.stop()}}),zo,null,[[1,7]])}function ec(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.userIndex,a=n.user,o=n.roles,c.prev=1,c.delegateYield(C.a.mark((function t(){var n,c,i,s,l,u,d;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(Object(ht.b)(w.Uc,e,a,o),"t0",1);case 1:return n=t.t0,t.next=4,Object(ht.f)(O.g.success({userIndex:r,user:n}));case 4:c=Object(Ho.a)(a.roles.filter((function(e){return!n.roles.includes(e)}))),t.prev=5,c.s();case 7:if((i=c.n()).done){t.next=13;break}return s=i.value,t.next=11,Object(ht.f)(Gr.e({role:s,updateFn:function(e){return e.users_count=(e.users_count||1)-1,e}}));case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(5),c.e(t.t1);case 18:return t.prev=18,c.f(),t.finish(18);case 21:l=Object(Ho.a)(n.roles.filter((function(e){return!a.roles.includes(e)}))),t.prev=22,l.s();case 24:if((u=l.n()).done){t.next=30;break}return d=u.value,t.next=28,Object(ht.f)(Gr.e({role:d,updateFn:function(e){return e.users_count=(e.users_count||0)+1,e}}));case 28:t.next=24;break;case 30:t.next=35;break;case 32:t.prev=32,t.t2=t.catch(22),l.e(t.t2);case 35:return t.prev=35,l.f(),t.finish(35);case 38:case"end":return t.stop()}}),t,null,[[5,15,18,21],[22,32,35,38]])}))(),"t0",3);case 3:c.next=11;break;case 5:return c.prev=5,c.t1=c.catch(1),c.next=9,Object(k.a)(c.t1);case 9:return c.next=11,Object(ht.f)(O.g.failure(c.t1));case 11:case"end":return c.stop()}}),Yo,null,[[1,5]])}function tc(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(ht.b)(w.Q,e,t)})),a.next=5,Object(ht.a)(r);case 5:return a.next=7,Object(ht.f)(O.c.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(ht.f)(O.c.failure(a.t0));case 15:case"end":return a.stop()}}),Wo,null,[[1,9]])}function nc(e){var t,n,r,a,o,c,i,s,l;return C.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=function(e){return e.users.currentUser},u.delegateYield(Object(ht.h)(n),"t0",2);case 2:if(r=u.t0){u.next=5;break}return u.abrupt("return");case 5:if(a=(null===(t=r.data)||void 0===t?void 0:t.viewed_hints)||[],o=e.payload,c=o.topic,i=o.name,s="".concat(c,"_").concat(i),!a.includes(s)){u.next=10;break}return u.abrupt("return");case 10:return l=Object(z.a)(Object(z.a)({},r),{},{data:Object(z.a)(Object(z.a)({},r.data),{},{viewed_hints:[].concat(Object(m.a)(a),[s])})}),u.next=13,Object(ht.f)(O.j.request(l));case 13:case"end":return u.stop()}}),Ko)}var rc=[Object(T.a)(Object(E.getType)(O.b.request),Qo,!0),Object(T.a)(Object(E.getType)(O.d.request),Xo,!0),Object(T.a)(Object(E.getType)(O.e.request),Zo,!0),Object(T.a)(Object(E.getType)(O.j.request),Jo,!0),Object(T.a)(Object(E.getType)(O.g.request),ec,!0),Object(T.a)(Object(E.getType)(O.c.request),tc,!0),Object(T.a)(Object(E.getType)(O.d.success),$o,!0),Object(T.a)(Object(E.getType)(O.f),nc)],ac=[].concat(Object(m.a)(R),Object(m.a)(N),Object(m.a)(V),Object(m.a)(de),Object(m.a)(Se),Object(m.a)(ft),Object(m.a)(Ae.a),Object(m.a)(cn),Object(m.a)(sn.b),Object(m.a)(Gn),Object(m.a)(lr),Object(m.a)(Tr),Object(m.a)(Hr),Object(m.a)(ea),Object(m.a)(ja),Object(m.a)(Xa),Object(m.a)(go),Object(m.a)(Do),Object(m.a)(qo),Object(m.a)(rc),Object(m.a)(Mt),Object(m.a)(La)),oc=n(1103),cc=n.n(oc),ic="/data/training-data",sc="/nlu-inbox",lc=function(e,t){return e.length>0?"".concat(t,":")+e.join(","):""},uc=function(e,t){return t.map((function(t){return"date"===t&&"date"in e?function(e){var t="";return e.from&&e.from.length>0&&(t="from:"+e.from+(e.to?"&to:"+e.to:"")),t}(e.date):"tags"===t&&"tags"in e?lc(e.tags.map((function(e){return e.id})),t):"intents"===t&&"intents"in e||"entities"===t&&"entities"in e?lc(e[t]||[],t):""})).filter((function(e){return e.length>0})).join(" ")},dc=function(e,t){var n=new RegExp("".concat(t,":([^& ]*)"),"i"),r=e.match(n);return r&&r[1]||null},bc=function(e,t){var n=dc(e,t);return n?n.split(","):[]},fc=function(e){return cc.a.enhancer({params:{q:{selector:function(t){if(!e.location)return"";switch(e.location.pathname){case sc:return t.suggestions.searchQuery;case ic:return t.examples.searchQuery;case"/responses":return t.responses.searchQuery;case"/users":return t.users.searchQuery;default:return""}},action:function(t){switch(e.location.pathname){case sc:return Object(Ja.m)(t);case ic:return Object(j.q)(t);case"/responses":return Object(Ar.e)(t);case"/users":return Object(O.i)(t);default:return null}},defaultValue:""},filter:{selector:function(t){if(!e.location)return"";switch(e.location.pathname){case sc:return uc(t.suggestions.filter,["intents","entities","tags","date"]);case ic:return uc(t.examples.filter,["intents","date"]);default:return""}},action:function(t){switch(e.location.pathname){case sc:var n={from:dc(t,"from"),to:dc(t,"to")},r=bc(t,"intents")||[],a=bc(t,"entities")||[],o=bc(t,"tags")||[];return Object(Ja.h)({intents:r,tagIds:o,date:n,entities:a});case ic:var c={from:dc(t,"from"),to:dc(t,"to")},i=bc(t,"intents")||[];return Object(j.m)({intents:i,date:c});default:return null}},defaultValue:""}},initialTruth:"location",replaceState:!0,history:e})},pc=n(731),jc={version:null};var hc={error:{createAssistantLinks:null,fetchAssistantLinks:null,removeAssistantLink:null},loading:{createAssistantLinks:!1,fetchAssistantLinks:!1,removeAssistantLink:!1},sampleConversations:{},businessLogicFlows:{}};var Oc=n(11),xc={flows:[],error:{fetchBusinessLogicFlows:null,fetchBusinessLogicFlow:null,createBusinessLogicFlow:null,updateBusinessLogicFlow:null,deleteBusinessLogicFlow:null},loading:{fetchBusinessLogicFlows:!1,fetchBusinessLogicFlow:!1,createBusinessLogicFlow:!1,updateBusinessLogicFlow:!1,deleteBusinessLogicFlow:!1},total:0};var gc=n(295),vc=n(141),mc={total:0,error:{},loading:{},gitRepositories:[],activeGitRepository:null,activeRepositoryStatus:null,generatedSshKey:null},yc=Object(vc.a)((function(e,t){switch(t.type){case Object(E.getType)(Te.g.request):e.loading.fetchGitRepositories=!0,e.error.fetchGitRepositories=null;break;case Object(E.getType)(Te.g.success):var n=t.payload,r=n.gitRepositories,a=n.total;e.gitRepositories=r,e.activeGitRepository=r.slice(-1)[0],e.total=a,e.loading.fetchGitRepositories=!1;break;case Object(E.getType)(Te.g.failure):e.loading.fetchGitRepositories=!1,e.error.fetchGitRepositories=t.payload;break;case Object(E.getType)(Te.i.request):e.loading.fetchSshKey=!0,e.error.fetchSshKey=null;break;case Object(E.getType)(Te.i.success):var o=t.payload.public_ssh_key;e.generatedSshKey=o,e.loading.fetchSshKey=!1;break;case Object(E.getType)(Te.i.failure):e.loading.fetchSshKey=!1,e.error.fetchSshKey=t.payload;break;case Object(E.getType)(Te.f.request):e.loading.deleteGitRepository=!0,e.error.deleteGitRepository=null;break;case Object(E.getType)(Te.f.success):var c=t.payload.repositoryId;e.gitRepositories=e.gitRepositories.filter((function(e){return e.id!==c})),e.activeGitRepository=null,e.loading.deleteGitRepository=!1,e.error={};break;case Object(E.getType)(Te.f.failure):e.loading.deleteGitRepository=!1,e.error.deleteGitRepository=t.payload;break;case Object(E.getType)(Te.e.request):e.loading.connectGitRepository=!0,e.error.connectGitRepository=null,e.error.connectGitRepositoryUnauthorized=null,e.error.connectGitRepositoryBranchNotFound=null;break;case Object(E.getType)(Te.e.success):e.activeGitRepository=t.payload,e.loading.connectGitRepository=!1;break;case Object(E.getType)(Te.e.failure):e.loading.connectGitRepository=!1;var i=t.payload.response;i&&401===i.status?e.error.connectGitRepositoryUnauthorized=t.payload:i&&422===i.status&&"string"===typeof i.data.message&&i.data.message.includes("Branch does not exist")?e.error.connectGitRepositoryBranchNotFound=t.payload:e.error.connectGitRepository=t.payload;break;case Object(E.getType)(Te.m.request):var s;t.payload.targetBranch!==(null===(s=e.activeGitRepository)||void 0===s?void 0:s.target_branch)&&(e.loading.gitBranchSyncing=!0),e.loading.updateGitRepository=!0,e.error.updateGitRepository=null,e.error.updateGitRepositoryBranchNotFound=null;break;case Object(E.getType)(Te.m.success):e.loading.updateGitRepository=!1,e.activeGitRepository=t.payload;var l=e.gitRepositories.findIndex((function(e){return e.id===t.payload.id}));e.gitRepositories[l]=t.payload;break;case Object(E.getType)(Te.m.failure):e.loading.updateGitRepository=!1;var u=t.payload.response;u&&"string"===typeof u.data.reason&&"GitRemoteBranchNotFoundError"===u.data.reason?e.error.updateGitRepositoryBranchNotFound=t.payload:e.error.updateGitRepository=t.payload;break;case Object(E.getType)(Te.h.request):e.loading.fetchGitRepositoryStatus=!0,e.error.fetchGitRepositoryStatus=null;break;case Object(E.getType)(Te.h.success):e.activeRepositoryStatus=t.payload,e.loading.fetchGitRepositoryStatus=!1;break;case Object(E.getType)(Te.h.failure):e.loading.fetchGitRepositoryStatus=!1,e.error.fetchGitRepositoryStatus=t.payload;break;case Object(E.getType)(Te.d.request):e.loading.commitGitChanges=!0,e.error.commitGitChanges=null;break;case Object(E.getType)(Te.d.success):e.loading.commitGitChanges=!1;break;case Object(E.getType)(Te.d.failure):e.loading.commitGitChanges=!1,e.error.commitGitChanges=t.payload;break;case Object(E.getType)(Te.j):e.loading.gitBranchSyncing=!1;break;case Object(E.getType)(Te.a):e.error.connectGitRepositoryUnauthorized=null,e.error.connectGitRepositoryBranchNotFound=null;break;case Object(E.getType)(Te.b):e.error.updateGitRepository=null,e.error.updateGitRepositoryBranchNotFound=null}}),mc),Cc=n(145),Sc={error:{},loading:{},reports:{latestSuccessful:void 0,latestNonSuccessful:void 0,active:void 0},results:void 0,config:void 0,total:0,searchQuery:"",sortBy:"recall",scorecard:null,scorecardConfig:null},wc=Object(vc.a)((function(e,t){switch(t.type){case Object(E.getType)(h.h.request):e.loading.getInsightCalculationConfig=!0,e.error.getInsightCalculationConfig=null;break;case Object(E.getType)(h.h.success):e.config=t.payload,e.loading.getInsightCalculationConfig=!1;break;case Object(E.getType)(h.h.failure):e.loading.getInsightCalculationConfig=!1,e.error.getInsightCalculationConfig=t.payload;break;case Object(E.getType)(h.j.request):e.loading.putInsightCalculationConfig=!0,e.error.putInsightCalculationConfig=null;break;case Object(E.getType)(h.j.success):e.config=t.payload,e.loading.putInsightCalculationConfig=!1;break;case Object(E.getType)(h.j.failure):e.loading.putInsightCalculationConfig=!1,e.error.putInsightCalculationConfig=t.payload;break;case Object(E.getType)(h.k.request):e.loading.runInsightCalculation=!0,e.error.runInsightCalculation=null,e.reports.active={started_at:Date.now()/1e3,finished_at:null};break;case Object(E.getType)(h.k.success):e.loading.runInsightCalculation=!1;break;case Object(E.getType)(h.k.failure):e.loading.runInsightCalculation=!1,e.error.runInsightCalculation=t.payload,e.reports.active=void 0;break;case Object(E.getType)(h.d.request):var n=t.payload.status;switch(e.loading["fetchLatestNLUInsightReports_"+n]=!0,e.error["fetchLatestNLUInsightReports_"+n]=null,n){case w.e.IN_PROGRESS:e.reports.active=void 0;break;case w.e.SUCCESS:e.reports.latestSuccessful=void 0;break;case w.e.FAILURE:e.reports.latestNonSuccessful=void 0}break;case Object(E.getType)(h.d.success):var r=t.payload,a=r.reports,o=r.status;if(e.loading["fetchLatestNLUInsightReports_"+o]=!1,!a||1!==a.length)break;switch(o){case w.e.IN_PROGRESS:e.reports.active=a[0];break;case w.e.SUCCESS:e.reports.latestSuccessful=a[0];break;case w.e.FAILURE:e.reports.latestNonSuccessful=a[0]}break;case Object(E.getType)(h.d.failure):var c=t.payload,i=c.status,s=c.error;e.loading["fetchLatestNLUInsightReports_"+i]=!1,e.error["fetchLatestNLUInsightReports_"+i]=s;break;case Object(E.getType)(h.e.request):e.loading.fetchNLUEvaluationResults=!0,e.error.fetchNLUEvaluationResults=null;break;case Object(E.getType)(h.e.success):var l=t.payload,u=l.report,d=l.total;0===l.offset?e.results=u.intent_evaluation_results:u.intent_evaluation_results&&(e.results=[].concat(Object(m.a)(e.results||[]),Object(m.a)(u.intent_evaluation_results))),e.total=d,e.loading.fetchNLUEvaluationResults=!1;break;case Object(E.getType)(h.e.failure):e.loading.fetchNLUEvaluationResults=!1,e.error.fetchNLUEvaluationResults=t.payload;break;case Object(E.getType)(h.m):e.searchQuery=t.payload;break;case Object(E.getType)(h.n):e.sortBy=t.payload;break;case Object(E.getType)(h.i):e.loading.runInsightCalculation=!1,e.error.runInsightCalculation=null;break;case Object(E.getType)(h.a):e.error=Object(Cc.omit)(e.error,t.payload);break;case Object(E.getType)(h.f.request):e.loading.fetchScorecard=!0;break;case Object(E.getType)(h.f.success):e.scorecard=t.payload,e.loading.fetchScorecard=!1;break;case Object(E.getType)(h.f.failure):e.scorecard=null,e.loading.fetchScorecard=!1;break;case Object(E.getType)(h.g.request):e.loading.fetchScorecardConfig=!0;break;case Object(E.getType)(h.g.success):e.scorecardConfig=t.payload,e.loading.fetchScorecardConfig=!1;break;case Object(E.getType)(h.g.failure):e.scorecardConfig=null,e.loading.fetchScorecardConfig=!1;break;case Object(E.getType)(h.l.request):e.loading.saveScorecardConfig=!0;break;case Object(E.getType)(h.l.success):e.scorecardConfig=t.payload,e.loading.saveScorecardConfig=!1;break;case Object(E.getType)(h.l.failure):e.scorecardConfig=null,e.loading.saveScorecardConfig=!1}}),Sc),Ec=n(146),kc=n(108),Tc=n(84),Ac=n.n(Tc),_c=n(300),Fc=n.n(_c),Rc=n(119),Dc={error:{evaluation:null,uploadModel:null,training:null},currentTrainingProcesses:0,models:{},latestModelIsNew:!1,modelIsTraining:!1,modelExists:!1,total:0,confusionValues:[],cleanState:{training:!0,uploading:!0},evaluation:null,evaluationFilter:null,environments:[],environmentsHealth:{},loading:{evaluation:!1,models:!1,uploadModel:!1},f1Score:0,accuracy:0,filter:"all"};var Ic=n(23),Lc={config:"",domain:"",domainWarnings:[],domainFiles:[],error:{},loading:{fetchDomainFiles:!1,saveDomainFile:!1},tags:[]};var Nc={error:{},loading:{},lookupTables:{},lookupTablesTotal:0,regexes:{},regexesTotal:0,selectedRegex:null};var Bc,Uc={error:{},loading:{},responseNames:[],groupedResponses:[],searchQuery:"",suggestionsQuery:"",suggestions:[],total:0},Mc=Object(vc.a)((function(e,t){switch(t.type){case Object(E.getType)(Ar.b.request):e.loading.fetchGroupedResponses=!0,e.error.fetchGroupedResponses=null,e.searchQuery=t.payload.search;break;case Object(E.getType)(Ar.b.success):var n=t.payload,r=n.responses,a=n.total;e.responseNames=r.map((function(e){return e.response_name})),e.groupedResponses=r,e.total=a,e.loading.fetchGroupedResponses=!1;break;case Object(E.getType)(Ar.b.failure):e.loading.fetchGroupedResponses=!1,e.error.fetchGroupedResponses=t.payload;break;case Object(E.getType)(Ar.c.request):var o=t.payload.search;e.loading.fetchResponsesSuggestions=!0,e.error.fetchResponsesSuggestions=null,""===o&&(e.suggestions=[]),e.suggestionsQuery=t.payload.search;break;case Object(E.getType)(Ar.c.success):var c=t.payload,i=c.search,s=c.responses,l=function(e,t){var n=e.toLowerCase().indexOf(t.toLowerCase()),r=t.length;return n>-1?[e.substr(0,n),e.substr(n,r),e.substr(n+r)]:[e]};e.suggestions=s.flatMap((function(e){e.response_name;return e.responses.map((function(e){var t=e.response_name,n=e.text;return{key:t,text:l(t,i),description:l(n,i)}}))})),e.loading.fetchResponsesSuggestions=!1;break;case Object(E.getType)(Ar.c.failure):e.loading.fetchResponsesSuggestions=!1,e.error.fetchResponsesSuggestions=t.payload;break;case Object(E.getType)(Ar.f.success):var u=t.payload,d=u.response_name,b=e.groupedResponses.findIndex((function(e){return e.response_name===d})),f=e.groupedResponses[b].responses.findIndex((function(e){return e.id===u.id}));e.groupedResponses[b].responses[f]=u;break;case Object(E.getType)(Ar.g.success):var p=t.payload,j=p.name,h=p.newName,O=e.groupedResponses.findIndex((function(e){return e.response_name===j}));e.groupedResponses[O].response_name=h,e.responseNames.splice(O,1,h);break;case Object(E.getType)(Ar.a.success):var x=Array.isArray(t.payload)?t.payload[0]:t.payload,g=e.groupedResponses.findIndex((function(e){return e.response_name===x.response_name})),v=e.groupedResponses[g].responses.findIndex((function(e){return e.id===x.id}));1===e.groupedResponses[g].responses.length?(e.groupedResponses.splice(g,1),e.responseNames=e.responseNames.filter((function(e){return e!==x.response_name}))):e.groupedResponses[g].responses.splice(v,1),e.total--;break;case Object(E.getType)(Ar.d.success):var y=t.payload,C=y.response_name,S=e.groupedResponses.findIndex((function(e){return e.response_name===C}));S>=0?e.groupedResponses[S].responses.unshift(y):(e.responseNames=[C].concat(Object(m.a)(e.responseNames)),e.groupedResponses.unshift({response_name:C,responses:[y]})),e.total++;break;case Object(E.getType)(Ar.e):e.searchQuery=t.payload}}),Uc);!function(e){e.Analytics="analytics_dashboard",e.Conversation="conversations",e.DeploymentEnvironment="deployment_environment",e.Model="models",e.Response="responses",e.Rule="rules",e.Story="stories",e.TestConversation="test_conversation",e.TrainingData="nlu_training_data",e.Git="git",e.Domain="domain",e.Blueprints="blueprints"}(Bc||(Bc={}));var Pc={total:0,roles:{},roleUsers:{},permissions:[{label:"Talk to your bot",resource:Bc.TestConversation,cannotModify:!0},{label:"Conversations",resource:Bc.Conversation},{label:"NLU Training Data",resource:Bc.TrainingData},{label:"Rules",resource:Bc.Rule},{label:"Stories",resource:Bc.Story},{label:"Responses",resource:Bc.Response},{label:"Models",resource:Bc.Model},{label:"Analytics",resource:Bc.Analytics,cannotModify:!0},{label:"Deployment",resource:Bc.DeploymentEnvironment,cannotView:!0},{label:"Git status & commands",resource:Bc.Git},{label:"Domain",resource:Bc.Domain},{label:"Blueprints",resource:Bc.Blueprints}]};var qc={rules:{},loading:!1,error:null,searchQuery:"",selectedRules:[],total:0,visualization:""};var Hc={conversations:{},error:{},loading:{},searchQuery:"",total:0},Gc=Object(vc.a)((function(e,t){switch(t.type){case Object(E.getType)(xa.g.request):e.loading.fetchSampleConversations=!0,e.error.fetchSampleConversations=null,e.searchQuery=t.payload.search?t.payload.search:"";break;case Object(E.getType)(xa.g.success):var n=t.payload,r=n.conversations,a=n.total,o=n.offset,c=a>=e.total?e.conversations:{},i=Object(Rc.a)(c,r,o||0,(function(e,t){return e.id===t.id}),{merger:function(e,t){return Object(z.a)(Object(z.a)(Object(z.a)({},e),t),{},{items:[].concat(Object(m.a)(e.items),Object(m.a)(t.items))})}});e.conversations=i,e.total=a,e.loading.fetchSampleConversations=!1;break;case Object(E.getType)(xa.g.failure):e.loading.fetchSampleConversations=!1,e.error.fetchSampleConversations=t.payload;break;case Object(E.getType)(xa.f.request):e.loading.fetchSampleConversation=!0,e.error.fetchSampleConversation=null;break;case Object(E.getType)(xa.f.success):var s=t.payload.conversation;e.conversations=Object(Cc.mapValues)(e.conversations,(function(e){return e.id===s.id?s:e})),e.loading.fetchSampleConversation=!1;break;case Object(E.getType)(xa.f.failure):e.loading.fetchSampleConversation=!1,e.error.fetchSampleConversation=t.payload;break;case Object(E.getType)(xa.c.request):e.loading.createSampleConversation=!0,e.error.createSampleConversation=null;break;case Object(E.getType)(xa.c.success):var l=t.payload,u=Object.fromEntries(Object.entries(e.conversations).map((function(e){var t=Object(ln.a)(e,2),n=t[0],r=t[1];return[parseInt(n)+1,r]})));u[0]=l,e.conversations=u,e.total=e.total+1,e.loading.createSampleConversation=!1,e.error.createSampleConversation=null;break;case Object(E.getType)(xa.c.failure):e.loading.createSampleConversation=!1,e.error.createSampleConversation=t.payload;break;case Object(E.getType)(xa.h.request):e.loading.updateSampleConversation=!0,e.error.updateSampleConversation=null;break;case Object(E.getType)(xa.h.success):var d=t.payload,b=Object.values(e.conversations).filter((function(e){return e.id!==d.id})),f=[d].concat(Object(m.a)(b));e.conversations=Object.fromEntries(f.map((function(e,t){return[t,e]}))),e.loading.updateSampleConversation=!1;break;case Object(E.getType)(xa.h.failure):e.loading.updateSampleConversation=!1,e.error.updateSampleConversation=t.payload;break;case Object(E.getType)(xa.a.request):e.loading.addSampleConversationItem=!0,e.error.addSampleConversationItem=null;break;case Object(E.getType)(xa.a.success):var p=t.payload,j=p.item,h=p.parentConversationId,O=Object.values(e.conversations).find((function(e){return e.id===h}));if(!O)return;var x=Object(z.a)(Object(z.a)({},O),{},{items:[].concat(Object(m.a)(O.items),[j])});e.conversations=Object(Cc.mapValues)(e.conversations,(function(e){return e.id===O.id?x:e})),e.loading.addSampleConversationItem=!1;break;case Object(E.getType)(xa.a.failure):e.loading.addSampleConversationItem=!1,e.error.addSampleConversationItem=t.payload;break;case Object(E.getType)(xa.i.request):e.loading.updateSampleConversationItem=!0,e.error.updateSampleConversationItem=null;break;case Object(E.getType)(xa.i.success):var g=t.payload,v=g.parentConversationId,y=g.item,C=Object.values(e.conversations).find((function(e){return e.id===v}));if(!C)return;var S=C.items.map((function(e){return e.id===y.id?y:e})),w=Object(z.a)(Object(z.a)({},C),{},{items:S});e.conversations=Object(Cc.mapValues)(e.conversations,(function(e){return e.id===C.id?w:e})),e.loading.updateSampleConversationItem=!1;break;case Object(E.getType)(xa.i.failure):e.loading.updateSampleConversationItem=!1,e.error.updateSampleConversationItem=t.payload;break;case Object(E.getType)(xa.d.request):e.loading.deleteSampleConversation=!0,e.error.deleteSampleConversation=null;break;case Object(E.getType)(xa.d.success):var k=t.payload.id,T=e.conversations,A=!1;Object.values(T).forEach((function(e){e.id===k&&(A=!0)})),e.conversations=Object(Cc.mapValues)(Object.values(T).filter((function(e){return e.id!==k}))),e.loading.deleteSampleConversation=!1,e.total=A?e.total-1:e.total;break;case Object(E.getType)(xa.d.failure):e.loading.deleteSampleConversation=!1,e.error.deleteSampleConversation=t.payload;break;case Object(E.getType)(xa.e.request):e.loading.deleteSampleConversationItem=!0,e.error.deleteSampleConversationItem=null;break;case Object(E.getType)(xa.e.success):var _=t.payload,F=_.parentConversationId,R=_.messageId,D=Object.values(e.conversations).find((function(e){return e.id===F}));if(!D)return;var I=D.items.filter((function(e){return e.id!==R})),L=Object(z.a)(Object(z.a)({},D),{},{items:I});e.conversations=Object(Cc.mapValues)(e.conversations,(function(e){return e.id===D.id?L:e})),e.loading.addSampleConversationItem=!1;break;case Object(E.getType)(xa.e.failure):e.loading.deleteSampleConversationItem=!1,e.error.deleteSampleConversationItem=t.payload;break;case Object(E.getType)(xa.b):e.error=Object(Cc.omit)(e.error,t.payload)}}),Hc),Vc={stories:{},loading:!1,error:null,searchQuery:"",selectedStories:[],shouldReplaceStories:!1,storiesToConfirm:"",total:0,visualization:""};var zc=n(232),Yc={error:{},loading:{},references:[],searchQuery:"",synonyms:[],total:0},Wc=Object(vc.a)((function(e,t){switch(t.type){case Object(E.getType)(vo.b.request):e.loading.fetchSynonyms=!0,e.error.fetchSynonyms=null,e.searchQuery=t.payload.search;break;case Object(E.getType)(vo.b.success):var n=t.payload,r=n.synonyms,a=n.total;e.synonyms=r,e.references=r.map((function(e){return{id:e.id,synonym_reference:e.synonym_reference}})),e.total=a,e.loading.fetchSynonyms=!1;break;case Object(E.getType)(vo.b.failure):e.loading.fetchSynonyms=!1,e.error.fetchSynonyms=t.payload;break;case Object(E.getType)(vo.f.success):var o=t.payload,c=o.synonymId,i=o.valueId,s=o.newValue,l=e.synonyms.findIndex((function(e){return e.id===c})),u=e.synonyms[l].mapped_values.findIndex((function(e){return e.id===i}));e.synonyms[l].mapped_values[u].value=s;break;case Object(E.getType)(vo.e.success):var d=t.payload,b=d.synonymId,f=d.value,p=e.synonyms.findIndex((function(e){return e.id===b})),j=e.references.findIndex((function(e){return e.id===b}));e.synonyms[p].synonym_reference=f,e.references[j].synonym_reference=f;break;case Object(E.getType)(vo.a.success):var h=t.payload,O=e.synonyms.findIndex((function(e){return e.id===h.synonymId})),x=e.synonyms[O].mapped_values.findIndex((function(e){return e.id===h.valueId}));1===e.synonyms[O].mapped_values.length?(e.synonyms.splice(O,1),e.references=e.references.filter((function(e){return e.id!==h.synonymId})),e.total--):e.synonyms[O].mapped_values.splice(x,1);break;case Object(E.getType)(vo.d.success):var g,v=t.payload,y=v.id,C=v.mapped_values,S=e.synonyms.findIndex((function(e){return e.id===y}));(g=e.synonyms[S].mapped_values).push.apply(g,Object(m.a)(C)),e.total=e.synonyms.length;break;case Object(E.getType)(vo.c.success):var w=t.payload,k=w.id,T=w.synonym_reference;e.references=[].concat(Object(m.a)(e.references),[{id:k,synonym_reference:T}]),e.synonyms.push(w),e.total++}}),Yc),Kc={telemetry_enabled:!1,user_groups:[],user_id:""};var Qc={error:null,loading:{},searchQuery:"",total:0,unfilteredTotal:0,users:{},currentUser:void 0,newUser:null};var Xc={analytics:pc.b,application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(D.a.success):return{version:t.payload};default:return e}},assistantLinks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(B.c.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchAssistantLinks:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchAssistantLinks:!0})});case Object(E.getType)(B.c.success):var n,r,a=t.payload,o=a.links,c=a.parentId,i=a.parentType,s=a.total,l=a.offset,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===l)return Object(m.a)(o);var t=Object(m.a)(e);return t.splice.apply(t,[l,o.length].concat(Object(m.a)(o))),t},d={BusinessLogicFlow:{businessLogicFlows:Object(z.a)(Object(z.a)({},e.businessLogicFlows),{},{[c]:{total:s,links:u(null===(n=e.businessLogicFlows[c])||void 0===n?void 0:n.links)}})},SampleConversation:{sampleConversations:Object(z.a)(Object(z.a)({},e.sampleConversations),{},{[c]:{total:s,links:u(null===(r=e.sampleConversations[c])||void 0===r?void 0:r.links)}})}};return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchAssistantLinks:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchAssistantLinks:!1})},d[i]);case Object(E.getType)(B.c.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchAssistantLinks:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchAssistantLinks:!1})});case Object(E.getType)(B.b.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{createAssistantLinks:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{createAssistantLinks:!0})});case Object(E.getType)(B.b.success):var b,f,p,j,h=t.payload,O=h.links,x=h.parentId,g=h.parentType,v=O.length,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat(Object(m.a)(O),Object(m.a)(e))},C={BusinessLogicFlow:{businessLogicFlows:Object(z.a)(Object(z.a)({},e.businessLogicFlows),{},{[x]:{total:(null===(b=e.businessLogicFlows[x])||void 0===b?void 0:b.total)?e.businessLogicFlows[x].total+v:v,links:y(null===(f=e.businessLogicFlows[x])||void 0===f?void 0:f.links)}})},SampleConversation:{sampleConversations:Object(z.a)(Object(z.a)({},e.sampleConversations),{},{[x]:{total:(null===(p=e.sampleConversations[x])||void 0===p?void 0:p.total)?e.sampleConversations[x].total+v:v,links:y(null===(j=e.sampleConversations[x])||void 0===j?void 0:j.links)}})}};return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{createAssistantLinks:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{createAssistantLinks:!1})},C[g]);case Object(E.getType)(B.d.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{removeAssistantLink:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{removeAssistantLink:!0})});case Object(E.getType)(B.d.success):var S,w,k,T,A=t.payload,_=A.linkId,F=A.parentId,R=A.parentType,D=function(e){return e.id!==_},I={BusinessLogicFlow:{businessLogicFlows:Object(z.a)(Object(z.a)({},e.businessLogicFlows),{},{[F]:{total:(null===(S=e.businessLogicFlows[F])||void 0===S?void 0:S.total)-1||0,links:null===(w=e.businessLogicFlows[F])||void 0===w?void 0:w.links.filter(D)}})},SampleConversation:{sampleConversations:Object(z.a)(Object(z.a)({},e.sampleConversations),{},{[F]:{total:(null===(k=e.sampleConversations[F])||void 0===k?void 0:k.total)-1||0,links:null===(T=e.sampleConversations[F])||void 0===T?void 0:T.links.filter(D)}})}};return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{removeAssistantLink:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchAssistantLinks:!1})},I[R]);case Object(E.getType)(B.b.failure):return console.error("Something went wrong when creating the assistant link"),Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{createAssistantLinks:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{createAssistantLinks:!1})});case Object(E.getType)(B.d.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{removeAssistantLink:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchAssistantLinks:!1})});default:return e}},auth:Oc.e,businessLogicFlow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(fe.e.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchBusinessLogicFlows:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchBusinessLogicFlows:!0})});case Object(E.getType)(fe.e.success):var n,r=t.payload,a=r.flows,o=r.total,c=r.offset,i=Object(m.a)(e.flows);if(0===c)i=a;else(n=i).splice.apply(n,[c||0,a.length].concat(Object(m.a)(a)));return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchBusinessLogicFlows:null}),flows:i,loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchBusinessLogicFlows:!1}),total:o});case Object(E.getType)(fe.e.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchBusinessLogicFlows:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchBusinessLogicFlows:!1})});case Object(E.getType)(fe.d.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchBusinessLogicFlow:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchBusinessLogicFlow:!0})});case Object(E.getType)(fe.d.success):var s=t.payload,l=Object(m.a)(e.flows),u=e.flows.findIndex((function(e){return e.id===s.id}));return u>-1?l[u]=s:l.unshift(s),Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchBusinessLogicFlow:null}),flows:l,loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchBusinessLogicFlow:!1})});case Object(E.getType)(fe.d.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchBusinessLogicFlow:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchBusinessLogicFlow:!1})});case Object(E.getType)(fe.b.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{createBusinessLogicFlow:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{createBusinessLogicFlow:!0})});case Object(E.getType)(fe.b.success):var d=t.payload,b=Object(m.a)(e.flows);return b.splice(0,0,d),Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{createBusinessLogicFlow:null}),flows:b,loading:Object(z.a)(Object(z.a)({},e.loading),{},{createBusinessLogicFlow:!1}),total:e.total+1});case Object(E.getType)(fe.b.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{createBusinessLogicFlow:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{createBusinessLogicFlow:!1})});case Object(E.getType)(fe.f.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{updateBusinessLogicFlow:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{updateBusinessLogicFlow:!0})});case Object(E.getType)(fe.f.success):var f=t.payload,p=Object(m.a)(e.flows),j=e.flows.findIndex((function(e){return e.id===f.id}));return j>-1&&(p[j]=f),Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{updateBusinessLogicFlow:null}),flows:p,loading:Object(z.a)(Object(z.a)({},e.loading),{},{updateBusinessLogicFlow:!1})});case Object(E.getType)(fe.f.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{updateBusinessLogicFlow:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{updateBusinessLogicFlow:!1})});case Object(E.getType)(fe.c.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{deleteBusinessLogicFlow:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{deleteBusinessLogicFlow:!0})});case Object(E.getType)(fe.c.success):var h=t.payload;return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{deleteBusinessLogicFlow:null}),flows:e.flows.filter((function(e){return e.id!==h})),loading:Object(z.a)(Object(z.a)({},e.loading),{},{deleteBusinessLogicFlow:!1}),total:e.total-1});case Object(E.getType)(fe.c.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{deleteBusinessLogicFlow:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{deleteBusinessLogicFlow:!1})});case Object(E.getType)(fe.a):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{[t.payload]:null})});default:return e}},examples:gc.b,gitRepositories:yc,interactiveLearning:Ec.c,insights:wc,login:Oc.e,messages:kc.d,models:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(un.d.success):return Object(z.a)(Object(z.a)({},e),{},{environments:t.payload});case Object(E.getType)(un.k.success):var n=t.payload,r=n.environment,a=n.oldEnvironment,o=e.environments.findIndex((function(e){return e.name===a.name}));return Object(z.a)(Object(z.a)({},e),{},{environments:o<0?[].concat(Object(m.a)(e.environments),[r]):[].concat(Object(m.a)(e.environments.slice(0,o)),[r],Object(m.a)(e.environments.slice(o+1)))});case Object(E.getType)(un.b.success):var c=t.payload;return Object(z.a)(Object(z.a)({},e),{},{environments:e.environments.filter((function(e){return e.name!==c.name}))});case Object(E.getType)(un.f.success):return Object(z.a)(Object(z.a)({},e),{},{environmentsHealth:t.payload});case Object(E.getType)(un.n.request):return Object(z.a)(Object(z.a)({},e),{},{modelIsTraining:!0,cleanState:Object(z.a)(Object(z.a)({},e.cleanState),{},{training:!1}),error:Object(z.a)(Object(z.a)({},e.error),{},{training:null})});case Object(E.getType)(un.n.success):var i="Model already exists."!==t.payload.info;return Object(z.a)(Object(z.a)({},e),{},{modelIsTraining:!1,latestModelIsNew:i,error:Object(z.a)(Object(z.a)({},e.error),{},{training:null})});case Object(E.getType)(un.n.failure):return Object(z.a)(Object(z.a)({},e),{},{modelIsTraining:!1,error:Object(z.a)(Object(z.a)({},e.error),{},{training:t.payload})});case Object(E.getType)(un.o.request):return Object(z.a)(Object(z.a)({},e),{},{cleanState:Object(z.a)(Object(z.a)({},e.cleanState),{},{uploading:!1}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{uploadModel:!0}),error:Object(z.a)(Object(z.a)({},e.error),{},{uploadModel:null})});case Object(E.getType)(un.o.success):return Object(z.a)(Object(z.a)({},e),{},{loading:Object(z.a)(Object(z.a)({},e.loading),{},{uploadModel:!1})});case Object(E.getType)(un.o.failure):var s=!!t.payload.response&&409===t.payload.response.status;return Object(z.a)(Object(z.a)({},e),{},{modelExists:s,loading:Object(z.a)(Object(z.a)({},e.loading),{},{uploadModel:!1}),error:Object(z.a)(Object(z.a)({},e.error),{},{uploadModel:t.payload})});case Object(E.getType)(un.g.request):return Object(z.a)(Object(z.a)({},e),{},{loading:Object(z.a)(Object(z.a)({},e.loading),{},{models:!0})});case Object(E.getType)(un.g.success):var l=t.payload,u=l.models,d=l.total,b=l.offset,f=Object(Rc.a)(e.models,u,b||0,(function(e,t){return e.model===t.model}),{transformer:function(e){return Object(z.a)(Object(z.a)({},e),{},{tags:e.tags.sort()})}});return Object(z.a)(Object(z.a)({},e),{},{models:f,total:d,loading:Object(z.a)(Object(z.a)({},e.loading),{},{models:!1})});case Object(E.getType)(un.c.success):var p=t.payload,j=function(e,t){return t.some((function(t){return t.model===e.model}))},h=Object.entries(e.models).reduce((function(e,t){var n=Object(ln.a)(e,2),r=n[0],a=n[1],o=Object(ln.a)(t,2),c=o[0],i=o[1];if(a<p.length&&j(i,p))return[Object(z.a)({},r),a+1];var s=String(Number(c)-a);return[Object(z.a)(Object(z.a)({},r),{},{[s]:i}),a]}),[{},0]),O=Object(ln.a)(h,2),x=O[0],g=O[1];return Object(z.a)(Object(z.a)({},e),{},{models:x,total:e.total-g});case Object(E.getType)(un.e.request):return Object(z.a)(Object(z.a)({},e),{},{loading:Object(z.a)(Object(z.a)({},e.loading),{},{evaluation:!0}),error:Object(z.a)(Object(z.a)({},e.error),{},{evaluation:null})});case Object(E.getType)(un.e.failure):return Object(z.a)(Object(z.a)({},e),{},{loading:Object(z.a)(Object(z.a)({},e.loading),{},{evaluation:!1}),error:Object(z.a)(Object(z.a)({},e.error),{},{evaluation:t.payload})});case Object(E.getType)(un.a.success):var v=t.payload,y=v.model,C=v.environment,S=Array.isArray(C)?C[0]:C;if(!S)return Object(z.a)({},e);var w=Fc()(e.models,(function(e){var t=e.tags.indexOf(S);return t>-1&&e.tags.splice(t,1),Ac()(e,y)&&!e.tags.includes(S)&&Object.assign(e,y.tags.push(S)),e}));return Object(z.a)(Object(z.a)({},e),{},{models:w});case Object(E.getType)(un.h):return Object(z.a)(Object(z.a)({},e),{},{evaluationFilter:t.payload});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(zn.d.success):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{fetchConfig:null}),config:jt.a.dump(jt.a.load(t.payload))});case Object(E.getType)(zn.i.success):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{saveConfig:null}),config:jt.a.dump(jt.a.load(t.payload))});case Object(E.getType)(zn.e.success):return Object(z.a)(Object(z.a)({},e),{},{tags:t.payload});case Object(E.getType)(Pt.u.success):var n=t.payload.tags;return Object(z.a)(Object(z.a)({},e),{},{tags:[].concat(Object(m.a)(e.tags.filter((function(e){return void 0===n.find((function(t){return t.id===e.id}))}))),Object(m.a)(n))});case Object(E.getType)(zn.i.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{saveConfig:t.payload})});case Object(E.getType)(zn.b.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{createDomainFile:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{saveDomainFile:!0})});case Object(E.getType)(zn.b.success):var r=t.payload;return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{createDomainFile:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{saveDomainFile:!1}),domainFiles:[].concat(Object(m.a)(e.domainFiles),[r])});case Object(E.getType)(zn.b.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{createDomainFile:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{saveDomainFile:!1})});case Object(E.getType)(zn.c.success):var a=t.payload.id,o=e.domainFiles.filter((function(e){return e.id!==a}));return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{deleteDomainFile:null}),domainFiles:o});case Object(E.getType)(zn.j.request):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{saveDomainFile:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{saveDomainFile:!0})});case Object(E.getType)(zn.j.success):var c=t.payload.id,i=e.domainFiles.map((function(e){return e.id===c?t.payload:e}));return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{saveDomainFile:null}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{saveDomainFile:!1}),domainFiles:i});case Object(E.getType)(zn.j.failure):return Object(z.a)(Object(z.a)({},e),{},{error:Object(z.a)(Object(z.a)({},e.error),{},{saveDomainFile:t.payload}),loading:Object(z.a)(Object(z.a)({},e.loading),{},{saveDomainFile:!1})});case Object(E.getType)(zn.g.request):return Object(z.a)(Object(z.a)({},e),{},{loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchDomainFiles:!0})});case Object(E.getType)(zn.g.success):return Object(z.a)(Object(z.a)({},e),{},{loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchDomainFiles:!1}),error:Object(z.a)(Object(z.a)({},e.error),{},{fetchDomainFiles:null}),domainFiles:t.payload});case Object(E.getType)(zn.g.failure):return Object(z.a)(Object(z.a)({},e),{},{loading:Object(z.a)(Object(z.a)({},e.loading),{},{fetchDomainFiles:!1}),error:Object(z.a)(Object(z.a)({},e.error),{},{fetchDomainFiles:t.payload})});case Object(E.getType)(zn.h.success):var s=t.payload,l=s.total,u=Object(Ic.a)(s,["total"]),d=Object.entries(u).flatMap((function(e){var t=Object(ln.a)(e,2),n=t[0],r=t[1];return Object.entries(r).flatMap((function(e){var t=Object(ln.a)(e,2),r=t[0];return t[1].map((function(e){return{element:n.replace("_warnings",""),location:r,value:e}}))}))}));return d.length!==l&&console.error("Something went wrong with flattening warnings"),Object(z.a)(Object(z.a)({},e),{},{domainWarnings:d});case Object(E.getType)(zn.a):return Object(z.a)(Object(z.a)({},e),{},{error:Object(Cc.omit)(e.error,t.payload)});default:return e}},regexes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(_e.h.success):var n=t.payload,r=n.regexes,a=n.total,o=n.offset,c=Object(Rc.a)(e.regexes,r,o||0,(function(e,t){return e.id===t.id}));return Object(z.a)(Object(z.a)({},e),{},{regexes:c,regexesTotal:a});case Object(E.getType)(_e.b.success):var i=t.payload,s=Object(z.a)({0:i},Object.entries(e.regexes).reduce((function(e,t){var n=Object(ln.a)(t,2),r=n[0],a=n[1];return Object(z.a)(Object(z.a)({},e),{},{[(Number(r)+1).toString()]:a})}),{}));return Object(z.a)(Object(z.a)({},e),{},{regexes:s,regexesTotal:e.regexesTotal+1});case Object(E.getType)(_e.d.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=function(e,t){return t.some((function(t){return e.id===t.id}))},d=Object.entries(e.regexes).reduce((function(e,t){var n=Object(ln.a)(e,2),r=n[0],a=n[1],o=Object(ln.a)(t,2),c=o[0],i=o[1];if(a<l.length&&u(i,l))return[Object(z.a)({},r),a+1];var s=String(Number(c)-a);return[Object(z.a)(Object(z.a)({},r),{},{[s]:i}),a]}),[{},0]),b=Object(ln.a)(d,2),f=b[0],p=b[1];return Object(z.a)(Object(z.a)({},e),{},{regexes:f,regexesTotal:e.regexesTotal-p});case Object(E.getType)(_e.i.success):var j,h=t.payload,O=null===(j=Object.entries(e.regexes).find((function(e){var t=Object(ln.a)(e,2);t[0];return t[1].id===h.id})))||void 0===j?void 0:j[0];return Object(z.a)(Object(z.a)({},e),{},{regexes:O?Object(z.a)(Object(z.a)({},e.regexes),{},{[O]:h}):e.regexes});case Object(E.getType)(_e.f.success):var x=t.payload,g=x.lookupTables,v=x.total,m=g.reduce((function(e,t,n){return Object(z.a)(Object(z.a)({},e),{},{[n]:Object(z.a)({},t)})}),e.lookupTables);return Object(z.a)(Object(z.a)({},e),{},{lookupTables:m,lookupTablesTotal:v});case Object(E.getType)(_e.a.request):return Object(z.a)(Object(z.a)({},e),{},{loading:Object(z.a)(Object(z.a)({},e.loading),{},{createLookupTable:!0}),error:Object(z.a)(Object(z.a)({},e.error),{},{createLookupTable:null})});case Object(E.getType)(_e.a.success):var y=t.payload,C=Object(z.a)({0:y},Object.entries(e.lookupTables).reduce((function(e,t){var n=Object(ln.a)(t,2),r=n[0],a=n[1];return Object(z.a)(Object(z.a)({},e),{},{[(Number(r)+1).toString()]:a})}),{}));return Object(z.a)(Object(z.a)({},e),{},{lookupTables:C,loading:Object(z.a)(Object(z.a)({},e.loading),{},{createLookupTable:!1}),lookupTablesTotal:e.lookupTablesTotal+1});case Object(E.getType)(_e.a.failure):return Object(z.a)(Object(z.a)({},e),{},{loading:Object(z.a)(Object(z.a)({},e.loading),{},{createLookupTable:!1}),error:Object(z.a)(Object(z.a)({},e.error),{},{createLookupTable:t.payload})});case Object(E.getType)(_e.c.success):var S=Array.isArray(t.payload)?t.payload:[t.payload],w=function(e,t){return t.some((function(t){return e.id===t.id}))},k=Object.entries(e.lookupTables).reduce((function(e,t){var n=Object(ln.a)(e,2),r=n[0],a=n[1],o=Object(ln.a)(t,2),c=o[0],i=o[1];if(a<S.length&&w(i,S))return[Object(z.a)({},r),a+1];var s=String(Number(c)-a);return[Object(z.a)(Object(z.a)({},r),{},{[s]:i}),a]}),[{},0]),T=Object(ln.a)(k,2),A=T[0],_=T[1];return Object(z.a)(Object(z.a)({},e),{},{lookupTables:A,lookupTablesTotal:e.lookupTablesTotal-_});case Object(E.getType)(_e.g.success):return Object(z.a)(Object(z.a)({},e),{},{selectedRegex:t.payload});default:return e}},responses:Mc,roles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(Gr.d.success):var n=t.payload,r=n.total,a=n.roles;return Object(z.a)(Object(z.a)({},e),{},{roles:a.reduce((function(e,t,n){return Object(z.a)(Object(z.a)({},e),{},{[n.toString()]:t})}),{}),total:r});case Object(E.getType)(Gr.c.success):var o=t.payload,c=o.role,i=o.users;return Object(z.a)(Object(z.a)({},e),{},{roles:Object(z.a)(Object(z.a)({},e.roles),{},{[c]:Object(z.a)(Object(z.a)({},e.roles[c]),{},{users_count:i.length})})});case Object(E.getType)(Gr.b.success):var s=t.payload;return Object(z.a)(Object(z.a)({},e),{},{roles:Object(z.a)(Object(z.a)({},e.roles),{},{[s.role]:s})});case Object(E.getType)(Gr.f.success):return e;case Object(E.getType)(Gr.g.success):var l=t.payload,u=l.currentId,d=l.role,b=Object.entries(e.roles).find((function(e){var t=Object(ln.a)(e,2);t[0];return t[1].role===u})),f=b?Object(z.a)(Object(z.a)({},e.roles),{},{[b[0]]:d}):Object.entries(e.roles).reduce((function(e,t){var n=Object(ln.a)(t,2),r=n[0],a=n[1];return Object(z.a)(Object(z.a)({},e),{},{[Number(r)+1]:a})}),{0:d});return Object(z.a)(Object(z.a)({},e),{},{roles:f,total:b?e.total:e.total+1});case Object(E.getType)(Gr.a.success):var p=t.payload,j=function(e,t){return t.some((function(t){return t.role===e.role}))},h=Object.entries(e.roles).reduce((function(e,t){var n=Object(ln.a)(e,2),r=n[0],a=n[1],o=Object(ln.a)(t,2),c=o[0],i=o[1];if(a<p.length&&j(i,p))return[Object(z.a)({},r),a+1];var s=String(Number(c)-a);return[Object(z.a)(Object(z.a)({},r),{},{[s]:i}),a]}),[{},0]),O=Object(ln.a)(h,2),x=O[0],g=O[1];return Object(z.a)(Object(z.a)({},e),{},{roles:x,total:e.total-g});case Object(E.getType)(Gr.e):var v=t.payload,m=v.role,y=v.updateFn,C=Object.values(e.roles).findIndex((function(e){return e.role===m}));return-1!==C?Object(z.a)(Object(z.a)({},e),{},{roles:Object(z.a)(Object(z.a)({},e.roles),{},{[C]:y(e.roles[C])})}):e;default:return e}},rules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(ta.f.request):return Object(z.a)(Object(z.a)({},e),{},{loading:!0,searchQuery:t.payload.search});case Object(E.getType)(ta.f.success):var n=t.payload,r=n.rules,a=n.total,o=n.offset,c=a>=e.total?e.rules:{},i=Object(Rc.a)(c,r,o||0,(function(e,t){return e.id===t.id}));return Object(z.a)(Object(z.a)({},e),{},{rules:i,total:a,loading:!1});case Object(E.getType)(ta.f.failure):return Object(z.a)(Object(z.a)({},e),{},{loading:!1,error:t.payload});case Object(E.getType)(ta.g.success):return Object(z.a)(Object(z.a)({},e),{},{visualization:t.payload});case Object(E.getType)(ta.j.success):var s=t.payload;return Object(z.a)(Object(z.a)({},e),{},{rules:Object.entries(e.rules).map((function(e){var t=Object(ln.a)(e,2),n=t[0],r=t[1];return[n,r.id!==s.id?r:s]})).reduce((function(e,t){var n=Object(ln.a)(t,2),r=n[0],a=n[1];return Object(z.a)(Object(z.a)({},e),{},{[r]:a})}),{})});case Object(E.getType)(ta.i.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=Object(z.a)(Object(z.a)({},l.reduce((function(e,t,n){return Object(z.a)(Object(z.a)({},e),{},{[n.toString()]:t})}),{})),Object.entries(e.rules).reduce((function(e,t){var n=Object(ln.a)(t,2),r=n[0],a=n[1];return Object(z.a)(Object(z.a)({},e),{},{[(Number(r)+l.length).toString()]:a})}),{}));return Object(z.a)(Object(z.a)({},e),{},{rules:u,total:Object.keys(u).length});case Object(E.getType)(ta.d.success):var d=t.payload,b=Object.entries(e.rules).reduce((function(e,t){var n=Object(ln.a)(e,2),r=n[0],a=n[1],o=Object(ln.a)(t,2),c=o[0],i=o[1];if(i.id===d.id)return[Object(z.a)({},r),!0];var s=String(a?Number(c)-1:c);return[Object(z.a)(Object(z.a)({},r),{},{[s]:i}),a]}),[{},!1]),f=Object(ln.a)(b,1),p=f[0];return Object(z.a)(Object(z.a)({},e),{},{rules:p,total:e.total-1});case Object(E.getType)(ta.h.success):var j=Object(Rc.a)({},t.payload,0,(function(e,t){return e.id===t.id}));return Object(z.a)(Object(z.a)({},e),{},{rules:j,total:t.payload.length,searchQuery:"",selectedRules:[]});case Object(E.getType)(ta.c):return Object(z.a)(Object(z.a)({},e),{},{selectedRules:t.payload});default:return e}},stories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(Na.f.request):return Object(z.a)(Object(z.a)({},e),{},{loading:!0,searchQuery:t.payload.search});case Object(E.getType)(Na.f.success):var n=t.payload,r=n.stories,a=n.total,o=n.offset,c=a>=e.total?e.stories:{},i=Object(Rc.a)(c,r,o||0,(function(e,t){return e.id===t.id}));return Object(z.a)(Object(z.a)({},e),{},{stories:i,total:a,loading:!1});case Object(E.getType)(Na.f.failure):return Object(z.a)(Object(z.a)({},e),{},{loading:!1,error:t.payload});case Object(E.getType)(Na.g.success):return Object(z.a)(Object(z.a)({},e),{},{visualization:t.payload});case Object(E.getType)(Na.m.success):var s=t.payload;return Object(z.a)(Object(z.a)({},e),{},{stories:Object.entries(e.stories).map((function(e){var t=Object(ln.a)(e,2),n=t[0],r=t[1];return[n,r.id!==s.id?r:s]})).reduce((function(e,t){var n=Object(ln.a)(t,2),r=n[0],a=n[1];return Object(z.a)(Object(z.a)({},e),{},{[r]:a})}),{})});case Object(E.getType)(Na.i.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=Object.entries(e.stories),d=Object.fromEntries([].concat(Object(m.a)(l.map((function(e,t){return[t.toString(),e]}))),Object(m.a)(u.map((function(e){var t=Object(ln.a)(e,2),n=t[0],r=t[1];return[(Number(n)+l.length).toString(),r]})))));return Object(z.a)(Object(z.a)({},e),{},{stories:d,total:Object.keys(d).length});case Object(E.getType)(Na.d.success):var b=t.payload,f=Object.fromEntries(Object.entries(e.stories).filter((function(e){var t=Object(ln.a)(e,2);t[0];return t[1].id!==b.id})).map((function(e,t){var n=Object(ln.a)(e,2),r=(n[0],n[1]);return[String(t),r]})));return Object(z.a)(Object(z.a)({},e),{},{stories:f,total:e.total-1});case Object(E.getType)(Na.h.success):var p=Object(Rc.a)({},t.payload,0,(function(e,t){return e.id===t.id}));return Object(z.a)(Object(z.a)({},e),{},{stories:p,total:t.payload.length,searchQuery:"",selectedStories:[]});case Object(E.getType)(Na.c):return Object(z.a)(Object(z.a)({},e),{},{selectedStories:t.payload});case Object(E.getType)(Na.j):return Object(z.a)(Object(z.a)({},e),{},{searchQuery:t.payload});case Object(E.getType)(Na.k):return Object(z.a)(Object(z.a)({},e),{},{shouldReplaceStories:t.payload});case Object(E.getType)(Na.l):return Object(z.a)(Object(z.a)({},e),{},{storiesToConfirm:t.payload});default:return e}},suggestions:zc.b,synonyms:Wc,telemetry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(Io.a.success):return t.payload;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(Y.i):return Qc;case Object(E.getType)(O.e.request):return Object(z.a)(Object(z.a)({},e),{},{loading:{fetchUsers:!0},searchQuery:t.payload.search});case Object(E.getType)(O.d.success):return Object(z.a)(Object(z.a)({},e),{},{loading:{fetchUser:!1},currentUser:t.payload});case Object(E.getType)(O.e.success):var n=t.payload,r=n.users,a=n.total,o=n.offset,c=n.search,i=e.total<Object.values(e.users).length,s=a>=e.total&&!i?e.users:{},l=Object(Rc.a)(s,r.filter((function(e){return null!==e})),o||0,(function(e,t){return e.username===t.username}));return Object(z.a)(Object(z.a)({},e),{},{users:l,unfilteredTotal:""===c?a:e.unfilteredTotal,total:r.length,loading:{fetchUsers:!1}});case Object(E.getType)(O.j.success):var u,d,b,f=t.payload,p=null!==(u=null===(d=Object.entries(e.users).find((function(e){return Object(ln.a)(e,2)[1].username===f.username})))||void 0===d?void 0:d[0])&&void 0!==u?u:Object.keys(e.users).length.toString();return Object(z.a)(Object(z.a)({},e),{},{currentUser:f.username===(null===(b=e.currentUser)||void 0===b?void 0:b.username)?f:e.currentUser,users:Object(z.a)(Object(z.a)({},e.users),{},{[p]:f})});case Object(E.getType)(O.g.success):var j=t.payload,h=j.user,x=j.userIndex;return Object(z.a)(Object(z.a)({},e),{},{users:Object(z.a)(Object(z.a)({},e.users),{},{[x]:h})});case Object(E.getType)(O.c.success):var g=t.payload,v=function(e,t){return t.some((function(t){return t.username===e.username}))},m=Object.entries(e.users).reduce((function(e,t){var n=Object(ln.a)(e,2),r=n[0],a=n[1],o=Object(ln.a)(t,2),c=o[0],i=o[1];if(a<g.length&&v(i,g))return[Object(z.a)({},r),a+1];var s=String(Number(c)-a);return[Object(z.a)(Object(z.a)({},r),{},{[s]:i}),a]}),[{},0]),y=Object(ln.a)(m,2),C=y[0],S=y[1];return Object(z.a)(Object(z.a)({},e),{},{users:C,unfilteredTotal:e.unfilteredTotal-S,total:e.total-S});case Object(E.getType)(O.h):var w=t.payload,k=e.users,T=w.reduce((function(e,t){var n=Object.values(e),r=n.findIndex((function(e){return e.username===t.username}));return-1!==r?e[r]=t:e[n.length]=t,e}),k);return Object(z.a)(Object(z.a)({},e),{},{users:T});case Object(E.getType)(O.i):return Object(z.a)(Object(z.a)({},e),{},{searchQuery:t.payload});case Object(E.getType)(O.b.request):return Object(z.a)(Object(z.a)({},e),{},{newUser:null,loading:{createUser:!0},error:null});case Object(E.getType)(O.b.success):var A,_,F=t.payload,R=null!==(A=null===(_=Object.entries(e.users).find((function(e){return Object(ln.a)(e,2)[1].username===F.username})))||void 0===_?void 0:_[0])&&void 0!==A?A:Object.keys(e.users).length.toString();return Object(z.a)(Object(z.a)({},e),{},{newUser:F,users:Object(z.a)(Object(z.a)({},e.users),{},{[R]:F}),error:null,loading:{createUser:!1}});case Object(E.getType)(O.b.failure):return Object(z.a)(Object(z.a)({},e),{},{error:t.payload,newUser:null,loading:{createUser:!1}});case Object(E.getType)(O.a):return Object(z.a)(Object(z.a)({},e),{},{newUser:null,error:null});default:return e}},sampleConversations:Gc},$c=Object(c.c)(Xc),Zc=(pc.a,Oc.b,gc.a,Ec.b,kc.c,zc.a,window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d),Jc=Object(b.a)();t.a=function(e){var t=Object(f.a)({context:{history:e}}),n=o()(),r=[v,Jc.middleware,t,n],a=Zc(fc(e),c.a.apply(void 0,r)),s=Object(i.b)({key:"root",storage:d.a,stateReconciler:l.a,whitelist:["auth","application"]},$c),u=Object(c.e)(s,a);return ac.forEach((function(e){return t.run(e)})),{persistor:Object(i.c)(u),store:u}}},210:function(e,t,n){"use strict";var r=n(47),a=n(2),o=n(0),c=n(22),i=n(1184),s=n(1),l=n(115);function u(){var e=Object(r.a)(["\n            transform: scaleX(0);\n            opacity: 0;\n          "]);return u=function(){return e},e}function d(){var e=Object(r.a)(["\n            transform: scaleX(1);\n            opacity: 1;\n          "]);return d=function(){return e},e}var b=Object(c.default)((function(e){return Object(o.jsx)(i.a,Object(a.a)({as:"li"},e))})).withConfig({displayName:"Tab",componentId:"sc-15w7qyw-0"})(["position:relative;cursor:pointer;text-align:center;"," "," &:after{content:'';border-radius:2px;width:100%;height:2px;position:absolute;left:0;float:left;bottom:0;"," transition:transform cubic-bezier(0.51,0.92,0.24,1.15) 0.2s;}&:hover:after{display:block;}"],(function(e){return!e.active&&"font-weight: 400;"}),l.a,(function(e){return e.active?Object(c.css)(d()):Object(c.css)(u())}));b.defaultProps={p:3,variant:"h4",afterBg:"primary_2"},t.a=s.memo(b)},217:function(e,t,n){"use strict";var r=n(0),a=n(1),o=n(21),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},s=a.forwardRef((function(e,t){var n=e.sx,a=e.loading,s=e.inheritColor,l=e.variant,u=void 0===l?"bodyPrimary":l,d=i(e,["sx","loading","inheritColor","variant"]);return Object(r.jsx)(o.g,c({as:"code"===u?"code":"p",variant:"text."+u},d,{ref:t,sx:c(c(c({display:"block",fontWeight:400,letterSpacing:a?"0px important":0,m:0,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},s?{color:"inherit !important"}:{}),a?{color:function(e){return e.colours.neutral_1+" !important"}}:{}),n||{})}),void 0)}));t.a=s},2243:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(1),o=n.n(a),c=(n(1376),n(61)),i=n.n(c),s=n(0),l=n(22),u=n(366),d=n(361),b=n(559),f=n.n(b),p=n(578),j=n(1180),h=n(176),O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},x=function(){return Object(d.b)()},g=function(e){var t=e.children,n=e.theme,r=void 0===n?{}:n,o=a.useMemo((function(){return f()(h.b,r)}),[r]);return Object(s.jsx)(d.a,O({theme:o},{children:Object(s.jsx)(p.a,{children:Object(s.jsx)(j.a,{children:t},void 0)},void 0)}),void 0)},v=n(123),m=n(9),y=n(96),C=n(1095),S=n(291),w=n.n(S),E=n(47);n(1534);function k(){var e=Object(E.a)(["    \n  *, *:hover, *:focus {\n    outline: none;\n  }\n  \n  *::-moz-focus-inner {\n    border: none;\n  }\n  \n  html, body, #root {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    background-color: #fff !important;\n  }\n\n  .defaultEditorStyles {\n    color: ",";\n    font-size: ","px;\n    line-height: ","px;\n  }\n\n  .DraftEditor-root {\n    width: 100%;\n  }\n"]);return k=function(){return e},e}var T=Object(l.createGlobalStyle)(k(),h.b.sentenceEditor.color,h.b.sentenceEditor.fontSize,h.b.sentenceEditor.lineHeight),A=n(15),_=n(2),F=n(5),R=n(16),D=o.a.createContext({});function I(e){var t=o.a.useState(!1),n=Object(F.a)(t,2),r=n[0],a=n[1],c=o.a.useState(null),i=Object(F.a)(c,2),l=i[0],u=i[1],d=o.a.useState(null),b=Object(F.a)(d,2),f=b[0],p=b[1],j=o.a.useState({}),h=Object(F.a)(j,2),O=h[0],x=h[1],g=o.a.useCallback((function(e){x((function(t){return Object(_.a)(Object(_.a)({},t),{},{[e.source]:e})}))}),[]),v=o.a.useCallback((function(e){return function e(t,n){if(!t)return n;var r=O[t];return r?e(r.nextSource,r.canBeShown?[].concat(Object(A.a)(n),[t]):n):n}(e,[])}),[O]),m=o.a.useCallback((function(e){var t=v(f);!e&&t.length>0?p(t[0]):t.length>=2?p(t[1]):p(null)}),[f,p,v]),y=Object(R.k)();o.a.useEffect((function(){r&&y("conversation:hints:enable")}),[y,r]);var C=o.a.useMemo((function(){return v(l)}),[l,v]),S=o.a.useMemo((function(){return v(f)}),[f,v]);return Object(s.jsx)(D.Provider,{value:{hintsEnabled:r,initialHint:l,currentHint:f,allHints:C,nextHints:S,getNextHints:v,setHintsEnabled:a,setInitialHint:u,setCurrentHint:p,addHint:g,updateCurrentHint:m},children:e.children})}var L=function(){return o.a.useContext(D)},N=n(120),B=n(1183),U=n(21),M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function q(e){var t=e.sx,n=P(e,["sx"]);return Object(s.jsx)(U.g,M({as:"span"},n,{sx:M({display:"flex",justifyContent:"center",alignItems:"center",width:"16px",height:"16px",borderRadius:"8px",fontSize:"11px",lineHeight:"normal",textAlign:"center",bg:"primary_1",color:"neutral_0"},t||{})}),void 0)}var H=n(4);function G(e){var t=e.currentUser,n=te(),r=n.onboardingShown,a=n.currentDetachedStep,o=n.setOnboardingShown,c=n.nextSteps;if(t&&(null!=a||c.length>0)){var i=a||c[0];return Object(s.jsxs)(H.Flex,{as:"div",p:0,m:0,sx:{position:"fixed",right:5,bottom:5,zIndex:130},children:[Object(s.jsx)(B.a,{variant:"onboardingIcon","data-qa":"onboarding-button_btn",onClick:function(){o((function(e){return!e}))},children:i.icon||"?"}),Object(s.jsx)(q,{sx:{position:"absolute",right:"-4px",top:"2px",width:"16px",height:"16px",border:"2px solid",borderColor:"neutral_0",transition:"transform 0.2s cubic-bezier(0.51, 0.92, 0.24, 1.15)",transform:"scale(".concat(i.showBadge&&!r?1:0,")")}})]})}return null}var V=n(23),z=n(1184),Y=n(217),W=n(111);function K(e){var t=e.link;return Object(s.jsx)(Y.a,{variant:"bodySecondary",fontWeight:400,as:"a",target:"_blank",href:t.href,color:"neutral_0",onClick:function(){var e;null===(e=t.action)||void 0===e||e.call(t)},children:t.title})}var Q=Object(l.default)(S.BaseModalBackground).attrs((function(){return{"data-e2e":"ModalBackground"}})).withConfig({displayName:"OnboardingStep__StyledDimmable",componentId:"mj904u-0"})(["z-index:110;opacity:1;transition:all cubic-bezier(0.46,0.1,0.52,0.98) 250ms;"]);function X(e){var t=e.setActiveStepInstance,n=Object(V.a)(e,["setActiveStepInstance"]),r=te(),a=r.currentDetachedStep,o=r.currentOnboardingHint,c=r.nextSteps,i=r.onboardingShown,l=r.setCurrentDetachedStep,u=r.setOnboardingShown,d=a||c[0];return d?Object(s.jsxs)(H.Flex,{flexDirection:"column-reverse","data-qa":"onboarding-step-box_div",as:"div",p:0,mr:32,mb:92,sx:{position:"fixed",right:0,bottom:0,zIndex:99991},children:[i&&d.showDarkBackground&&!o&&Object(s.jsx)(Q,{}),Object(s.jsx)(W.a,Object(_.a)({borderRadius:"large",animation:"shift-away",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",arrow:!1,p:4,offset:[-40,-20],mx:0,onCreate:function(e){return t(e)},textAlign:"left",heading:Object(s.jsx)(z.a,{flex:1,variant:"h2",inheritColor:!0,mb:"12px","data-qa":"onboarding-step-title_h2",children:d.title}),visible:!o&&i&&(null!=a||c.length>0),sticky:!0,disabled:!1,interactive:!0,placement:"bottom-end",onCloseClick:function(){var e;u(!1),l(null),null===(e=d.onClose)||void 0===e||e.call(d)},content:Object(s.jsxs)(H.Box,{sx:{width:"352px"},children:[Object(s.jsxs)(H.Box,{sx:{width:"320px"},children:[Object(s.jsx)(Y.a,{color:"neutral_0",as:"div",variant:"bodySecondary","data-qa":"onboarding-step-content_div",children:d.content}),d.links&&Object(s.jsx)(H.Flex,{flexDirection:"column",mt:2,"data-qa":"onboarding-step-link_div",children:d.links.map((function(e,t){return Object(s.jsx)(K,{link:e},d.name+"_"+e.title)}))})]}),(d.action||d.customActions)&&Object(s.jsx)(H.Flex,{mt:4,children:Object(s.jsxs)(H.Flex,{sx:{marginLeft:"auto"},children:[d.action&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{ml:3,variant:"plain","data-qa":"onboarding-step-dismiss_btn",onClick:function(){var e;u(!1),l(null),null===(e=d.onClose)||void 0===e||e.call(d)},children:"Not right now"}),Object(s.jsx)(B.a,{ml:3,variant:"inverse","data-qa":"onboarding-step-proceed_btn",onClick:function(){var e;null===(e=d.action)||void 0===e||e.call(d)},children:"Let's do it"})]}),d.customActions&&d.customActions.map((function(e){var t=e.variant,n=e.content,r=e.action;return Object(s.jsx)(B.a,{ml:3,"data-qa":"onboarding-step-end_btn",variant:t||"inverse",onClick:r,children:n},n)}))]})})]})},n))]}):null}var $=n(46),Z=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.users.currentUser}));return o.a.useCallback((function(n){var r;if(t){var a=(null===(r=t.data)||void 0===r?void 0:r.viewed_hints)?t.data.viewed_hints:[];if(!a.includes(n)){var o=Object(_.a)(Object(_.a)({},t),{},{data:{viewed_hints:[].concat(Object(A.a)(a),[n])}});return e($.j.request(o))}}}),[e,t])},J=o.a.createContext({});function ee(e){var t=Object(m.c)(),n=Object(m.d)((function(e){return e.users.currentUser})),r=Object(m.d)((function(e){return e.gitRepositories.activeGitRepository})),a=Object(R.b)(),c=Object(R.c)(),i=o.a.useMemo((function(){var e,t;return null!==(e=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.viewed_hints)&&void 0!==e?e:[]}),[n]),l=o.a.useState(null),u=Object(F.a)(l,2),d=u[0],b=u[1],f=o.a.useState(!1),p=Object(F.a)(f,2),j=p[0],h=p[1],O=o.a.useState(null),x=Object(F.a)(O,2),g=x[0],v=x[1],C=o.a.useState(null),S=Object(F.a)(C,2),w=S[0],E=S[1],k=o.a.useState(null),T=Object(F.a)(k,2),A=T[0],_=T[1],D=Z(),I=Object(y.h)().push,L=Object(R.k)(),B=o.a.useMemo((function(){return Object(N.b)(v,E,h,I,L,D)}),[v,E,I,L,D]),U=o.a.useMemo((function(){if(!i)return B;return B.filter((function(e){return!i.includes(e.name)}))}),[B,i]);return o.a.useEffect((function(){r&&A===N.a["IVC::CONNECTED"]&&t(Object($.f)({topic:"ivc",name:"connected"}))}),[r,A,t]),o.a.useEffect((function(){U.length>0&&(_(U[0].name),E(null),h(!0))}),[U]),Object(s.jsxs)(J.Provider,{value:{activeStepInstance:d,currentDetachedStep:w,currentOnboardingHint:g,currentOnboardingStep:A,nextSteps:U,onboardingShown:j,onboardingSteps:B,setCurrentDetachedStep:E,setCurrentOnboardingHint:v,setCurrentOnboardingStep:_,setOnboardingShown:h},children:[e.children,!!n&&!a&&c&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(X,{setActiveStepInstance:b,children:Object(s.jsx)(G,{currentUser:n})})})]})}var te=function(){return o.a.useContext(J)},ne=n(2267),re=n(2280),ae=n(346),oe=n.n(ae),ce=n(59),ie=n(266),se=n(24),le=Object(l.default)(H.Flex).attrs((function(e){switch(e.variant){case"primary":return Object(_.a)({bg:"primary_2",color:"neutral_0"},e);case"error":return Object(_.a)({bg:"secondary_2",color:"neutral_0"},e)}})).withConfig({displayName:"Toast__Container",componentId:"q5tpyn-0"})([""," "," "," "," box-shadow:-3px 5px 20px 0 rgba(43,58,172,0.22);width:400px;text-align:left;transition:all ease 0.5s;"],se.maxWidth,se.letterSpacing,se.lineHeight,se.borderRadius);function ue(e){var t=e.actions,n=e.head,r=e.children,o=(e.ref,e.onUnmount),c=e.icon,i=e.timeout,l=void 0===i?5e3:i,u=Object(V.a)(e,["actions","head","children","ref","onUnmount","icon","timeout"]);a.useEffect((function(){if(-1!==l){var e=setTimeout((function(){null===o||void 0===o||o()}),l);return function(){clearInterval(e)}}}),[o,l]);var d=Object(s.jsx)(s.Fragment,{children:n&&(c?Object(s.jsxs)(H.Flex,{flexDirection:"row",alignItems:"center",children:[c,Object(s.jsx)(z.a,{variant:"h2",inheritColor:!0,children:n})]}):Object(s.jsx)(z.a,{variant:"h2",inheritColor:!0,children:n}))}),b=r&&Object(s.jsx)(Y.a,{inheritColor:!0,variant:"bodySecondary",children:r});return Object(s.jsxs)(le,Object(_.a)(Object(_.a)({},u),{},{children:[Object(s.jsxs)(H.Flex,{justifyContent:"space-between",mb:r?"12px":0,children:[n?d:b,o&&Object(s.jsx)(B.a,{onClick:o,variant:"plainIconDark",p:0,pt:"2px",alignSelf:"flex-start",color:"inherit",children:Object(s.jsx)(ie.a,{icon:ce.faTimes,fontSize:"16px"})})]}),n&&b,t&&Object(s.jsx)(H.Flex,{flexDirection:"row-reverse",mt:4,children:t})]}))}le.defaultProps={variant:"primary",m:4,mt:-2,px:5,py:4,fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:"16px",flexDirection:"column"};var de=n(2275);function be(){var e=Object(E.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(-100%, 0, 0);\n  }\n"]);return be=function(){return e},e}function fe(){var e=Object(E.a)(["\n  from {\n    transform: translate3d(-100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return fe=function(){return e},e}function pe(){var e=Object(E.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(100%, 0, 0);\n  }\n"]);return pe=function(){return e},e}function je(){var e=Object(E.a)(["\n  from {\n    transform: translate3d(100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return je=function(){return e},e}var he=Object(l.keyframes)(je()),Oe=Object(l.keyframes)(pe()),xe=(Object(l.keyframes)(fe()),Object(l.keyframes)(be()),Object(l.default)(de.a).attrs({classNames:"slide-right"}).withConfig({displayName:"Transition__SlideRight",componentId:"sc-1f1b9kx-0"})(["&.slide-right-enter{animation:"," ","ms linear both;}&.slide-right-exit{animation:"," ","ms linear both;}"],he,(function(e){return e.duration}),Oe,(function(e){return e.duration}))),ge=o.a.createContext({});function ve(e){var t=o.a.useState({right:0,bottom:0}),n=Object(F.a)(t,2),r=n[0],a=n[1],c=te().activeStepInstance,i=o.a.useState([]),l=Object(F.a)(i,2),u=l[0],d=l[1],b=o.a.useCallback((function(e){d((function(t){return[].concat(Object(A.a)(t),[Object(_.a)(Object(_.a)({},e),{},{key:e.key||oe()()})])}))}),[]),f=o.a.useCallback((function(e){d((function(t){return t.filter((function(t){return t.key!==e}))}))}),[]),p=o.a.useCallback((function(e){return e.forEach((function(e){var t=e.target.getBoundingClientRect();a(t.height>0?{right:"48px",bottom:"".concat(window.innerHeight-t.top,"px"),marginBottom:"-8px"}:{right:0,bottom:0})}))}),[a]);return Object(ne.a)(p,(null===c||void 0===c?void 0:c.popper)||null),Object(s.jsxs)(ge.Provider,{value:{toasts:u,addToast:b,removeToast:f},children:[e.children,Object(s.jsx)(H.Flex,{flexDirection:"column-reverse",as:"ul",p:0,sx:Object(_.a)({position:"fixed",zIndex:99992},r),children:Object(s.jsx)(re.a,{component:null,children:u.map((function(e){var t=e.content,n=e.key,r=e.onUnmount,a=Object(V.a)(e,["content","key","onUnmount"]);return Object(s.jsx)(xe,{timeout:500,duration:200,children:Object(s.jsx)(ue,Object(_.a)(Object(_.a)({as:"li",onUnmount:function(){n&&f(n),r&&r()}},a),{},{children:t}),n)},n)}))})})]})}var me=function(){return o.a.useContext(ge)},ye=n(175),Ce=n(104);function Se(e){var t=e.children,n=Object(m.c)(),o=a.useMemo((function(){return Object(r.mc)(Ce.a)}),[]);return a.useEffect((function(){return n(Object(ye.connect)(o)),function(){n(Object(ye.disconnect)())}}),[n,o]),Object(s.jsx)(s.Fragment,{children:t})}var we=n(1130),Ee=n(2281),ke=n(76),Te=n(11),Ae=n(43),_e=n(742),Fe=n(63),Re=n(34),De=n(2268),Ie=n(256),Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Be(e){var t=e.loading,n=void 0===t||t,r=e.onClick,a=e.children,o=Ne(e,["loading","onClick","children"]);return Object(s.jsxs)(B.a,Le({onClick:n?void 0:r},o,{children:[Object(s.jsx)(U.a,Le({sx:{visibility:n?"hidden":"visible"}},{children:a}),void 0),n&&Object(s.jsx)(U.d,Le({alignItems:"center",justifyContent:"center",sx:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}},{children:Object(s.jsx)(ie.a,{icon:Ie.faSpinnerThird,spin:!0,ml:1,fontSize:"16px"},void 0)}),void 0)]}),void 0)}var Ue=function(){return(Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Me=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Pe(e){e.ref;var t=e.src,n=e.placeholder,r=Me(e,["ref","src","placeholder"]),o=a.useState(!1),c=o[0],i=o[1];return a.useEffect((function(){var e,n=new Image;t&&(e=[t,function(){return i(!0)},function(){return i(!1)}],n.src=e[0],n.onerror=e[1],n.onload=e[2])}),[t]),Object(s.jsx)(s.Fragment,{children:c&&n?n:Object(s.jsx)(U.f,Ue({src:t},r),void 0)},void 0)}function qe(e){var t=e.actions,n=e.body,r=e.heading,a=e.image,o=e.imageAlt,c=e.imageWidth,i=void 0===c?220:c,l=e.sx,u=Object(V.a)(e,["actions","body","heading","image","imageAlt","imageWidth","sx"]);return Object(s.jsxs)(H.Flex,Object(_.a)(Object(_.a)({sx:Object(_.a)({height:"100%",backgroundColor:"neutral_0",flex:"1 1 auto",color:"neutral_6",flexDirection:"column",justifyContent:"center",alignItems:"center"},l)},u),{},{children:[Object(s.jsx)(Pe,{width:i,src:a,alt:o,mb:4}),Object(s.jsx)(z.a,{variant:"h4",children:r}),Object(s.jsx)(Y.a,{as:"div",inheritColor:!0,textAlign:"center",variant:"captionSecondary",lineHeight:"normal",style:{maxWidth:"250px"},p:2,fontSize:13,children:n}),t&&Object(s.jsx)(H.Box,{mt:3,children:t})]}))}var He=n.p+"static/media/SaraWithMagnifyingGlassWhiteBackground.841cdfaf.svg",Ge=n.p+"static/media/SaraWizard.23524ae2.svg",Ve=n(118),ze=n(58),Ye=n(554),We=n(553);var Ke={primary:{bg:"primary_2",color:"neutral_0"},error:{bg:"secondary_2",color:"neutral_0"},warning:{bg:"yellow_3",color:"yellow_4",borderColor:"yellow_4",border:"solid 1px"},generic:{bg:"cyan_3",color:"green_4",borderColor:"green_4",border:"solid 1px"}},Qe={small:{width:"28px",height:"28px"},medium:{width:"32px",height:"32px"},large:{width:"40px",height:"40px"},xl:{width:"56px",height:"56px"}},Xe=function(){return(Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$e={bg:"primary_2",border:"none",borderRadius:"normal",boxShadow:"button",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"},"&:hover, &.hover":{bg:"primary_1"},"&:disabled, &.disabled":{color:"neutral_6",bg:"neutral_3",boxShadow:"none"}},Ze={borderRadius:"normal",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"5px","&.large":{fontSize:2,py:"9px"},"&:hover, &.hover":{borderColor:"primary_1",color:"primary_1"},"&:disabled, &.disabled":{borderColor:"neutral_5",color:"neutral_6"}},Je=Xe(Xe({},Ze),{bg:"neutral_0",border:"1px solid",borderColor:"primary_2",color:"primary_2"}),et={bg:"transparent",border:"none",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"small",p:0,"&.large":{fontSize:2}},tt={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"10px",lineHeight:0,p:2,"&:hover, &.hover":{color:"neutral_7"},"&.active":{color:"primary_1"}},nt={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"16px",lineHeight:0,p:"12px","&.active":{bg:"transparent",color:"primary_2"},"&:hover, &.hover":{bg:"primary_2",color:"neutral_0"}},rt=Xe(Xe({},nt),{borderRadius:"small"}),at={primary:$e,primaryDark:Xe(Xe({},$e),{boxShadow:"none"}),login:Xe(Xe({},$e),{letterSpacing:"1.1px !important",lineHeight:"28px"}),secondary:Je,secondaryDashed:Xe(Xe({},Ze),{bg:"neutral_1",border:"1px dashed",borderColor:"neutral_5",color:"neutral_6"}),dark:{bg:"neutral_8",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},inverse:{bg:"transparent",border:"1px solid",borderColor:"neutral_0",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},plain:et,plainDropdown:Xe(Xe({},et),{color:"neutral_8","&:disabled, &.disabled":{color:"neutral_6"}}),icon:nt,iconInverse:Xe(Xe({},nt),{color:"neutral_0","&:hover, &.hover":Xe(Xe({},nt["&:hover, &.hover"]),{color:"primary_1",bg:"neutral_0"})}),headerIcon:{bg:"neutral_0",border:"none",borderRadius:0,color:"neutral_6",fontSize:"16px",lineHeight:0,p:"28px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"neutral_6"}},secondaryHeaderIcon:{bg:"neutral_0",border:"none",borderRadius:0,width:"56px",height:"56px",color:"neutral_6",fontSize:"12px",lineHeight:0,"&:hover, &.hover":{color:"primary_2"},"&.active":{bg:"primary_1",color:"neutral_0"},"&:disabled, &.disabled":{borderColor:"neutral_5",color:"neutral_6","&:hover, &.hover":{color:"neutral_6"}}},plainIcon:tt,squareIcon:rt,plainIconDark:Xe(Xe({},tt),{"&:hover, &.hover":Xe(Xe({},tt["&:hover, &.hover"]),{color:"neutral_1"})}),barIcon:{bg:"transparent",border:"none",borderRadius:0,color:"primary_2",fontSize:"16px",lineHeight:0,p:"24px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"primary_1"}},onboardingIcon:Xe(Xe({},$e),{bg:"neutral_0",color:"primary_2",padding:0,border:"1px solid",borderColor:"primary_4",borderRadius:50,fontSize:"20px",width:"48px",height:"48px","&:hover, &.hover":{bg:"neutral_1",color:"neutral_7"},"&.active":{color:"primary_1"}}),link:Xe(Xe({},et),{color:"primary_2",fontSize:"13px",lineHeight:"20px",fontWeight:400,"&:hover":{textDecoration:"underline"}}),smallLink:Xe(Xe({},et),{color:"primary_2",fontSize:"11px",lineHeight:"12px",fontWeight:400}),circle:Xe(Xe({},$e),{width:65,height:65,borderRadius:65,lineHeight:0}),secondaryFill:Xe(Xe({},Je),{"&:hover, &.hover":{"&:enabled, &.enabled":{bg:"primary_1",color:"neutral_0"}}})},ot=function(){return(ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ct={content:'""',borderRadius:"1000px",position:"absolute",top:"-4px",bottom:"-4px",left:"-4px",right:"-4px",zIndex:-1},it={default:{color:"neutral_0",borderRadius:"4px","input:checked + &":{bg:"primary_2",border:"none",borderColor:"transparent"},"input:focus + &::before":ot(ot({},ct),{bg:"primary_4"})},primary:{color:"primary_2",borderRadius:"4px","input:checked + &":{bg:"neutral_0"},"input:focus + &::before":ot(ot({},ct),{bg:"primary_3"})},radio:{color:"primary_2",borderRadius:"20px","input:checked + &":{bg:"neutral_0",border:"1px solid",borderColor:"primary_2"}}},st={h1:{fontSize:6},h2:{fontSize:4},h3:{fontSize:3},h4:{fontSize:2},h5:{fontSize:1}},lt=n(2249),ut=n(48),dt=function(){return(dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},bt=function(e){var t=e.children;return Object(s.jsx)(ut.a,dt({sx:{zIndex:99993,position:"fixed",opacity:0}},{children:t}),void 0)},ft=function(e){return{cardBoxShadow:e.cardBoxShadow||"none",BackgroundWrapper:e.BackgroundWrapper||bt}},pt={default:ft({BackgroundWrapper:function(e){var t=e.children;return Object(s.jsx)(lt.a.div,dt({initial:{opacity:0},animate:{opacity:.7,position:"fixed",zIndex:99993},exit:{opacity:0}},{children:t}),void 0)}}),transparentBg:ft({cardBoxShadow:"md"}),contextualBoxShadow:ft({cardBoxShadow:"md"})},jt={alert:Ke,avatar:Qe,checkbox:it,modal:pt,section:{primary:{borderColor:"neutral_4"},light:{borderColor:"neutral_3"}},separator:{left:{"& > :first-of-type":{pr:"12px"},"&:before":{display:"none"}},center:{"& > :first-of-type":{px:"12px"}},right:{"& > :first-of-type":{pl:"12px"},"&:after":{display:"none"}}},table:{default:{borderRadius:"large","& .table-row:last-of-type":{border:"none",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"}},flattened:{borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:"large",borderBottomRightRadius:"large"}}},ht={button:at,option:{default:{color:"neutral_8","&:hover":{bg:"neutral_1"}},primary:{color:"primary_2","&:hover":{bg:"neutral_1",color:"primary_1","&.active":{bg:"primary_1",color:"neutral_0"}}}}},Ot={heading:st,text:{bodyPrimary:{fontFamily:"sansSerif",color:"neutral_8",fontSize:3,lineHeight:"normal"},bodySecondary:{fontFamily:"sansSerif",color:"neutral_8",fontSize:2,lineHeight:"normal"},faintBodySecondary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:2,lineHeight:"normal"},captionPrimary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:2,lineHeight:"small"},captionSecondary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:0,lineHeight:"tight"},metadata:{fontFamily:"sansSerif",color:"neutral_7",fontSize:0,lineHeight:"tight"},code:{color:"neutral_8",fontFamily:"mono",fontSize:1,lineHeight:"normal"},inverse:{fontFamily:"sansSerif",color:"neutral_0",fontSize:3,lineHeight:"normal"},sidenote:{fontFamily:"sansSerif",color:"neutral_6",fontSize:2,fontStyle:"italic"},error:{fontFamily:"sansSerif",color:"secondary_2",fontSize:2},text_extra_small:{fontFamily:"sansSerif",fontSize:11,lineHeight:"16px",letterSpacing:.6},text_small:{fontFamily:"sansSerif",fontSize:12,lineHeight:"18px",letterSpacing:.6},text_regular:{fontFamily:"sansSerif",fontSize:13,lineHeight:"20px",letterSpacing:.6},text_large:{fontFamily:"sansSerif",fontSize:14,lineHeight:"20px",letterSpacing:.6}}},xt=[11,12,13,14,16,20,24,32,48,64,72],gt={large:"36px",big:"24px",normal:"20px",small:"16px",tight:"12px"},vt=[400,700],mt={primary_1:"#4A3DD4",primary_2:"#574AE2",primary_3:"#6C5EF9",primary_4:"#DDDCF6",primary_5:"#F2F2F9",neutral_0:"#FFFFFF",neutral_1:"#F6F7FB",neutral_2:"#F2F4FA",neutral_3:"#ECEFF7",neutral_4:"#DDE2EF",neutral_5:"#CED5E7",neutral_6:"#979FB4",neutral_7:"#2C3951",neutral_8:"#252D40",secondary_1:"#972422",secondary_2:"#C6423F",secondary_3:"#E85653",secondary_4:"#F8CBCA",orange_1:"#EB9015",orange_2:"#FF9F1C",orange_3:"#F8DEBB",yellow_1:"#E4B912",yellow_2:"#FFD121",yellow_3:"#FBF2D1",yellow_4:"#806908",green_1:"#48A9A6",green_2:"#4DD6D2",green_3:"#D6EBEA",green_4:"#1B7774",blue_1:"#3158D6",blue_2:"#446FF8",blue_3:"#D0E3FC",cyan_1:"#4DD6D2",cyan_2:"#87E5E2",cyan_3:"#DEFBFA",grey:"#dde2ef",black:"#333333",white:"#ffffff",active:"#e6f7ff",dark_grey_temp:"#6B7694"},yt=(["#bae25b","#94c6ff","#ff5a5a","#50c4ab","#ffd036","#98fdff","#f9946a","#ad96f0","#5c8eff","#fbb6ff","#546c82","#c3c3c3"].map((function(e){return e.slice(1)})),{color:mt.neutral_8,lineHeight:parseFloat(gt.big),fontSize:xt[2],canvasFontConfig:vt[0]+" "+xt[2]+"px Lato"}),Ct={breakpoints:["0","500px","800px","1200px","1900px"],colors:mt,colours:mt,fontSizes:xt,fontWeights:vt,gradients:{primary_1:"linear-gradient(56deg, rgba(113, 22, 208, 0.95), #4e61e1)",secondary_1:"linear-gradient(90deg, rgba(236,239,247,0.2) 0%, rgba(236,239,247,1) 50%, rgba(236,239,247,0.2) 100%)"},heights:[32,40,48,56,64],letterSpacings:[.6,.7,.9,1.4],lineHeights:gt,space:[0,4,8,16,24,32,40,48,56,64,72,80,128,256,512],fonts:{mono:'"IBM Plex Mono", "Courier New", Courier, monospace',sansSerif:'"Lato", -apple-system, BlinkMacSystemFont, "avenir next", avenir, "helvetica neue", helvetica, ubuntu, roboto, noto, "segoe ui", arial, sans-serif'},active:{background:mt.active},radii:{tiny:2,small:4,normal:8,large:16},actions:{default:{color:"dark_grey_temp"},incorrect:{color:"dark_grey_temp",textDecoration:"line-through"},correct:{color:mt.primary_2,fontWeight:vt[1]}},shadows:{sm:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",md:"0 3px 6px 0 rgba(96,97,149,0.20)",lg:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",selectBox:"0 2px 8px 0 "+mt.neutral_5,card:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",button:"0 2px 4px 0 rgba(207, 207, 207, 0.67)",pageTitle:"0 2px 6px 0 "+mt.neutral_3},menuItem:{default:{color:mt.neutral_6,backgroundColor:"transparent","&:hover":{color:mt.neutral_0,backgroundColor:mt.neutral_8}}},text:Ot,buttons:ht,variants:jt,sentenceEditor:yt};function St(e,t){var n="string"===typeof t?t:Ct.breakpoints[t],r=Object(a.useMemo)((function(){return window.matchMedia("("+e+": "+n+")")}),[e,n]),o=Object(a.useState)(!!r.matches),c=o[0],i=o[1];return Object(a.useEffect)((function(){var e=function(){return i(!!r.matches)};return r.addEventListener("change",e),e(),function(){r.removeEventListener("change",e)}}),[r]),c}var wt=n(2250),Et=n(2282),kt=function(){return(kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Tt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},At=a.forwardRef((function(e,t){var n=e.sx,r=e.loading,a=e.inheritColor,o=e.variant,c=void 0===o?"bodyPrimary":o,i=Tt(e,["sx","loading","inheritColor","variant"]);return Object(s.jsx)(ut.g,kt({as:"code"===c?"code":"p",variant:"text."+c},i,{ref:t,sx:kt(kt(kt({display:"block",fontWeight:400,letterSpacing:r?"0px important":0,m:0,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},a?{color:"inherit !important"}:{}),r?{color:function(e){return e.colours.neutral_1+" !important"}}:{}),n||{})}),void 0)})),_t=function(){return(_t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ft=function(e){switch(null===e||void 0===e?void 0:e.split("-")[0]){case"top":return{bottom:0};case"bottom":return{top:"-5px"};case"left":return{right:"-5px"};case"right":return{left:"-5px"}}return{}},Rt="normal",Dt=a.forwardRef((function(e,t){var n=e.children,r=e.style,o=void 0===r?{}:r,c=e.disableArrow,i=e.arrowStyle,l=void 0===i?{}:i,u=e.arrowRef,d=e.id,b=e.zIndex,f=void 0===b?99:b,p=e["data-popper-placement"],j=Object(Et.a)();return a.useEffect((function(){p&&(j.set(_t({opacity:0},function(e){switch(null===e||void 0===e?void 0:e.split("-")[0]){case"top":return{y:-10};case"bottom":return{y:10};case"left":return{x:-10};case"right":return{x:10};default:return{}}}(p))),j.start({opacity:1,x:0,y:0}))}),[j,p]),Object(s.jsx)("div",_t({"data-popper-placement":p,style:_t({display:"inline-block",zIndex:f},o),id:d,ref:t},{children:Object(s.jsx)(lt.a.div,_t({animate:j},{children:Object(s.jsxs)(ut.a,_t({sx:{display:"inline-block",bg:"neutral_8",color:"neutral_0",borderRadius:Rt,offset:.1}},{children:[Object(s.jsx)(At,_t({variant:"bodySecondary",sx:{py:2,px:4},inheritColor:!0},{children:n}),void 0),!c&&Object(s.jsx)(ut.a,{ref:u,sx:_t(_t({"&, &::before":{width:"10px",height:"10px",position:"absolute",zIndex:-1},"&::before":{content:'""',transform:"rotate(45deg)",bg:"neutral_8",top:0,left:0}},l),Ft(p))},void 0)]}),void 0)}),void 0)}),void 0)})),It=function(){return(It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Lt=a.createContext((function(){}));var Nt=0;function Bt(e,t){void 0===t&&(t={});var n=a.useMemo((function(){return"tooltip-"+Nt++}),[]),r=a.useState(!1),o=r[0],c=r[1],i=a.useState(null),l=i[0],u=i[1],d=a.useState(null),b=d[0],f=d[1],p=a.useState(null),j=p[0],h=p[1],O=a.useContext(Lt),x=Object(wt.a)(l,b,{placement:t.placement||"auto",modifiers:[{name:"arrow",options:{element:j,padding:Ct.radii.normal}},{name:"offset",options:{offset:[0,8]}}]}),g=x.styles,v=x.attributes;return a.useEffect((function(){t.disabled&&c(!1)}),[t.disabled]),a.useEffect((function(){if(l&&e&&!t.disabled){var n=l;return n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",a),n.addEventListener("focus",r),n.addEventListener("blur",a),function(){n.removeEventListener("mouseenter",r),n.removeEventListener("mouseleave",a),n.removeEventListener("focus",r),n.removeEventListener("blur",a)}}function r(){c(!0)}function a(){c(!1)}}),[l,e,t.disabled]),a.useEffect((function(){l&&l.setAttribute("aria-describedby",n)}),[l,n]),a.useEffect((function(){if(o&&!t.disabled){var r=Object(s.jsx)(Dt,It({id:n,ref:f,style:v.popper?g.popper:{position:"absolute",left:0,transform:"translateX(-100%)"}},v.popper,{disableArrow:t.disableArrow,arrowStyle:g.arrow,arrowRef:h,zIndex:t.zIndex},{children:e}),void 0);O(r)}else O(null);return function(){O(null)}}),[v.popper,e,n,t.disableArrow,h,O,f,o,g.arrow,g.popper,t.disabled]),a.useCallback((function(e){null!==e&&u(e)}),[u])}var Ut=n(552),Mt=n(551),Pt=n(238),qt=n.n(Pt),Ht=function(){return(Ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Gt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Vt=a.forwardRef((function(e,t){var n=e.showWhenDisabled,r=e.active,a=e.hover,o=e.fullWidth,c=e.large,i=e.block,l=e.variant,u=void 0===l?"primary":l,d=e.onClick,b=e.navigate,f=e.as,p=Gt(e,["showWhenDisabled","active","hover","fullWidth","large","block","variant","onClick","navigate","as"]),j=d||b,h=["icon","headerIcon","secondaryHeaderIcon"].includes(u)&&!n,O=p.disabled||!j&&!p.href;return Object(s.jsx)(ut.b,Ht({as:f||"button",variant:"button."+u,className:qt()({active:r,hover:a,large:c,disabled:p.disabled}),ref:t,sx:Ht(Ht({},i?{borderRadius:0}:{}),{alignSelf:"center",cursor:O?"not-allowed":"pointer",letterSpacing:0,outline:0,transition:"background .2s ease, border-color .2s ease, color .2s ease",position:"relative","&:disabled, &.disabled":{boxShadow:"none",display:h?"none":void 0},width:o?"100%":null}),onClick:j},p),void 0)})),zt=n(139),Yt=n(527),Wt=function(){return(Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Qt=Object(zt.default)((function(e){e.color,e.fontSize,e.opacity;var t=Kt(e,["color","fontSize","opacity"]);return Object(s.jsx)(Yt.a,Wt({},t),void 0)}))(Object(se.compose)(se.space,se.color,se.fontSize));function Xt(e){var t=e.icon,n=Kt(e,["icon"]);return Object(s.jsx)(Qt,Wt({icon:t,style:{width:"1em"}},n),void 0)}Xt.defaultProps={color:"inherit",fontSize:"inherit"};var $t=a.memo(Xt),Zt={default:{bg:"neutral_0",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"primary_2"},"&::placeholder, & input::placeholder, & textarea::placeholder":{color:"neutral_6"},"&:hover":{borderColor:"neutral_6"},"&:invalid, &.invalid":{borderColor:"secondary_2"},"&:disabled, &.disabled":{bg:"neutral_1",color:"neutral_6"}},search:{color:"neutral_8",border:"none",bg:"transparent","&.active":{bg:"neutral_1"}},editableText:{color:"neutral_8",border:"none",bg:"transparent","&.active":{bg:"neutral_1"},minWidth:"0px",textAlign:"center"},inverse:{color:"neutral_0",bg:"primary_2",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"neutral_0"},"&::placeholder, & input::placeholder":{color:"neutral_5"},"&:hover":{borderColor:"neutral_3"},"&:invalid, &.invalid":{borderColor:"secondary_3"},"&:disabled, &.disabled":{color:"neutral_5"}},borderless:{bg:"neutral_0",border:"none","&::placeholder, & input::placeholder":{color:"neutral_6"},"&:disabled, &.disabled":{bg:"neutral_1",color:"neutral_6"}}},Jt=function(){return(Jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},en=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},tn=Jt({fontFamily:"sansSerif",border:"1px solid",borderRadius:"normal",boxSizing:"border-box",outline:0,minHeight:"38px",display:"flex",alignItems:"center",justifyContent:"space-between",resize:"none",transition:"color ease .2s, border-color ease .2s","&.block":{borderRadius:0},"&.darkenPlaceholder::placeholder, &.darkenPlaceholder input::placeholder":{color:"inherit !important",opacity:"1 !important"},"&.noBorder":{bg:"transparent",border:"none"},"&.widthAuto":{minWidth:"208px"},"&.fullHeight, & .fullHeight":{height:"100%"},"textarea&":{overflowY:"auto",py:2,"&:not(.fullHeight)":{maxHeight:"60px"}}},Object.fromEntries(Object.entries(Zt).map((function(e){return["&.variant--"+e[0],e[1]]})))),nn=a.forwardRef((function(e,t){var n,r=e.active,o=e.affixBottom,c=e.block,i=e.characterLimit,l=e.colorNuance,u=e.containerProps,d=e.customPrefix,b=e.darkenPlaceholder,f=e.fullHeight,p=e.fullWidth,j=e.invalid,h=e.large,O=e.noBorder,x=e.onFocus,g=e.onChange,v=e.onChangeValue,m=e.onKeyDown,y=e.onReturn,C=e.onAlternativeReturn,S=e.placeholder,w=e.prefix,E=e.rows,k=e.suffix,T=e.type,A=e.value,_=e.variant,F=void 0===_?"default":_,R=e.width,D=en(e,["active","affixBottom","block","characterLimit","colorNuance","containerProps","customPrefix","darkenPlaceholder","fullHeight","fullWidth","invalid","large","noBorder","onFocus","onChange","onChangeValue","onKeyDown","onReturn","onAlternativeReturn","placeholder","prefix","rows","suffix","type","value","variant","width"]),I=void 0!==i&&i>0&&!0===D.textarea,L=(null===A||void 0===A?void 0:A.toString().length)||0,N=p?"100%":R,B=qt()(((n={active:r,block:c,invalid:j,disabled:D.disabled,widthAuto:!N,fullHeight:f,noBorder:O,darkenPlaceholder:b})["variant--"+F]=!!F,n)),U=D.p,M=D.py,P=D.pt,q=D.pr,H=D.pb,G=D.pl,V=D.m,z=D.mx,Y=D.my,W=D.mt,K=D.mr,Q=D.mb,X=D.ml,$=en(D,["p","py","pt","pr","pb","pl","m","mx","my","mt","mr","mb","ml"]),Z=Jt({m:V,mx:z,my:Y,mt:W,mr:K,mb:Q,ml:X,p:U,py:M,pt:P,pr:q,pb:H,pl:G,className:B,width:N,sx:Jt(Jt(Jt({},tn),{px:h?"20px":3}),l?{overflow:"hidden",position:"relative","&::before":{content:'""',top:0,left:0,height:"100%",width:"4px",position:"absolute",backgroundColor:l}}:{})},u),J="password"===T,ee=a.useState(!1),te=ee[0],ne=ee[1],re=a.useMemo((function(){return Object(s.jsx)(Vt,Jt({tabIndex:-1,fontSize:"18px",onClick:function(){return ne((function(e){return!e}))},ml:3,variant:"plainDropdown"},{children:Object(s.jsx)($t,{icon:te?Mt.faEyeSlash:Ut.faEye,color:"neutral_6"},void 0)}),void 0)}),[te,ne]),ae=te?"text":T,oe=a.useCallback((function(e){null===x||void 0===x||x(e);var t=e.target.value;e.target.value="",e.target.value=t}),[x]),ce=Jt({as:D.textarea?"textarea":"input"},D.textarea?{rows:void 0===E?1:E}:{}),ie=Jt(Jt(Jt(Jt({py:D.textarea&&!d?2:0},$),{type:ae,ref:t,value:A,maxLength:I?i:void 0}),ce),{onFocus:oe,onChange:function(e){g&&g(e),v&&v(e.currentTarget.value)},onKeyDown:function(e){var t;(m&&m(e),C&&(e.altKey||e.ctrlKey||e.shiftKey))?(t=C,function(e){"Enter"===e.key&&(e.preventDefault(),t(e))})(e):y&&function(e){return function(t){e&&"Enter"===t.key&&(t.preventDefault(),e(t.currentTarget.value))}}(y)(e)}});if(!(w||k||d||o||I||J))return Object(s.jsx)(At,Jt({},Z,ie,{placeholder:S,variant:"bodySecondary"}),void 0);var se="string"!==typeof S;return Object(s.jsx)(At,Jt({as:"div"},Z,{variant:"bodySecondary"},d&&{pl:0},{children:Object(s.jsxs)(ut.d,Jt({style:{height:"100%",width:"100%",alignItems:"center"}},{children:[Object(s.jsxs)(ut.d,Jt({p:d?2:0,style:Jt({flexGrow:1,flexShrink:1,flexWrap:"wrap",alignItems:"center"},f&&{height:"100%"})},{children:[w&&Object(s.jsx)(ut.d,Jt({pr:1,mr:2,style:{borderRight:"1px solid",alignSelf:"stretch",alignItems:"center"},sx:{borderColor:"neutral_5"}},{children:w}),void 0),d||null,Object(s.jsxs)(ut.a,Jt({py:w?2:0,style:Jt({flexGrow:1,flexShrink:1,position:"relative"},f&&{height:"100%"})},{children:[se&&""===A&&Object(s.jsx)(At,{as:"div",children:S,style:{position:"absolute",height:"100%",width:"100%",zIndex:1,whiteSpace:"nowrap"}},void 0),Object(s.jsxs)(ut.d,Jt({style:{flexDirection:"column",height:"100%"},pb:!o&&!I||d?0:2},{children:[Object(s.jsx)(At,Jt({placeholder:se?void 0:S,style:Jt({flexGrow:1,flexShrink:1,position:"relative",zIndex:2,border:"0 none",background:"transparent",color:"inherit",fontSize:"inherit",outline:0,width:"100%",resize:"none"},f&&{height:"100%"})},ie),void 0),o||null,I&&Object(s.jsx)(ut.a,Jt({sx:{textAlign:"right"}},{children:Object(s.jsxs)(At,Jt({fontSize:0,variant:"captionPrimary"},{children:[L," / ",i]}),void 0)}),void 0)]}),void 0)]}),void 0)]}),void 0),(k||J)&&Object(s.jsx)(ut.d,Jt({style:{flexGrow:0,flexShrink:0,flexBasis:"auto",alignSelf:"center"}},{children:k||re}),void 0)]}),void 0)}),void 0)})),rn=a.memo((function(e){var t=e.autoFocus,n=void 0===t||t,r=e.restartDisabled,o=e.onFocus,c=e.onSendMessage,i=a.useState(""),s=i[0],l=i[1],u=function(e){var t=Object(a.useState)(0),n=t[0],r=t[1],o=Object(a.useRef)(null),c=Object(a.useCallback)((function(e){o.current=e}),[]);return Object(a.useEffect)((function(){var e=o.current;if(e){var t=window.getComputedStyle(e),n=t.fontSize,a=t.lineHeight,c=t.paddingBottom,i=t.paddingTop,s=e.rows;e.rows=1;var l="normal"===a?1.2*parseFloat(n):parseFloat(a),u=e.scrollHeight-(parseFloat(c)+parseFloat(i)),d=Math.floor(u/l);e.rows=s,r(d)}}),[e]),{rows:n,setTextarea:c,textarea:o}}(s),d=u.setTextarea,b=u.textarea,f=u.rows,p=St("max-device-width",1),j=Bt(!p&&"Restart"),h=Bt(!p&&"Send"),O=a.useCallback((function(){s&&(l(""),c(s))}),[s,c]),x=a.useCallback((function(){l(""),c("/restart")}),[c]);return a.createElement(ut.d,{sx:{height:"72px"},onClick:function(){var e;return p&&(null===(e=b.current)||void 0===e?void 0:e.focus())},alignItems:"center",pl:[0,2,2],pr:[0,2,0]},a.createElement(ut.a,{flex:"1 0 auto",width:"0"},a.createElement(nn,{autoFocus:n,"data-qa":"chat-input_textarea",fontSize:3,fullWidth:!0,noBorder:!0,onChangeValue:l,onFocus:o,onReturn:O,placeholder:"Start typing a message...",textarea:!0,rows:f,value:s,ref:d})),!r&&a.createElement(ut.a,null,a.createElement(Vt,{ref:j,variant:"headerIcon",p:[0,"12px","28px"],onClick:x},a.createElement($t,{icon:We.faSync}))),a.createElement(ut.a,null,a.createElement(Vt,{ref:h,variant:"headerIcon",p:[0,"12px","28px"],disabled:""===s,showWhenDisabled:!0,onClick:O},a.createElement($t,{icon:Ye.faPaperPlane}))))})),an=n(1108),on=n.n(an),cn=function(){return(cn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},sn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ln=a.forwardRef((function(e,t){var n=e.children,r=e.highlighted,o=e.first,c=e.px,i=void 0===c?[0,3,4]:c,s=e.py,l=void 0===s?[0,1,2]:s,u=e.sx,d=void 0===u?{}:u,b=(e.css,sn(e,["children","highlighted","first","px","py","sx","css"]));return a.createElement(ut.a,cn({px:i,py:l,sx:cn({bg:r?"neutral_2":"transparent",borderColor:r?"primary_2":"transparent",pt:o?4:2,borderStyle:"solid",borderWidth:"0 2px 0 0"},d),ref:t},b),n)}));function un(e){for(var t=e.data,n=e.sx,r=e.event,o=e.highlighted,c=e.selected,i=e.forwardedRef,s=t.onMessageClick,l=t.renderAction,u=t.events.filter((function(e){return e.timestamp<r.timestamp}));u.length>0&&"user"!==u[0].event&&"bot"!==u[0].event;)u=u.slice(1);return a.createElement(ln,{sx:n,highlighted:o,onClick:function(){return s(r)},ref:i,"data-e2e":"EventContainer-"+r.event+"-"+r.timestamp,"data-qa":"conversation-message-action_div"},null===l||void 0===l?void 0:l({event:r,selected:c}))}var dn=n(1109),bn=function(){return(bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},fn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var pn=function(){return(pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},jn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var hn={Flex:function(e){var t=e.sx,n=void 0===t?{}:t,r=jn(e,["sx"]);return Object(s.jsx)(ut.d,pn({},r,{sx:pn(pn({},n),{"--parent-hovered":"none","--parent-hovered-inverted":"block","&:hover":pn(pn({},n&&n["&:hover"]||{}),{"--parent-hovered":"block","--parent-hovered-inverted":"none"})})}),void 0)},Box:function(e){var t=e.inverted,n=e.alwaysVisible,r=fn(e,["inverted","alwaysVisible"]);return Object(s.jsx)(ut.a,bn({},r,{sx:bn({display:n?"block":"var(--parent-hovered"+(t?"-inverted":"")+")"},r.sx)}),void 0)}},On=function(){return(On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},xn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function gn(e){e.ref;var t=e.src,n=e.placeholder,r=xn(e,["ref","src","placeholder"]),o=a.useState(!1),c=o[0],i=o[1];return a.useEffect((function(){var e,n=new Image;t&&(e=[t,function(){return i(!0)},function(){return i(!1)}],n.src=e[0],n.onerror=e[1],n.onload=e[2])}),[t]),Object(s.jsx)(s.Fragment,{children:c&&n?n:Object(s.jsx)(ut.f,On({src:t},r),void 0)},void 0)}var vn=n(555),mn=n.n(vn),yn=n(556),Cn=n.n(yn),Sn=n(557),wn=n.n(Sn),En=n(558),kn=n.n(En),Tn=function(){return(Tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function An(e){var t=e.children;return Object(s.jsx)(ut.a,Tn({as:"span",sx:{fontFamily:"sansSerif",whiteSpace:"pre-wrap"},"data-qa":"markdown-text"},{children:t}),void 0)}function _n(e){var t=e.children,n=e.href;return Object(s.jsx)(ut.a,Tn({as:"a",href:n,onClick:function(e){return e.stopPropagation()},rel:"noopener noreferrer",target:"_blank",sx:{color:"inherit",overflowWrap:"break-word",fontFamily:"sansSerif"}},{children:t}),void 0)}function Fn(e){var t=e.text,n=e.markdown,r=e.truncate;return n?Object(s.jsx)(mn.a,{skipHtml:!1,allowedElements:["p","br","em","strong","a","li","ul","img"],components:{p:An,a:_n},plugins:[kn.a,wn.a],rehypePlugins:r?[[Cn.a,{maxChars:200}]]:[],children:t},void 0):Object(s.jsx)(An,{children:t},void 0)}var Rn=n(576),Dn=function(){return(Dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},In=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Ln(e){var t=e.top,n=e.right,r=e.bottom,a=e.left,o=e.variant,c=void 0===o?"primary":o,i=In(e,["top","right","bottom","left","variant"]);return Object(s.jsx)(ut.c,Dn({},i,{variant:"section."+c,sx:Dn({flexShrink:0,borderTopStyle:t?"solid":"",borderTopWidth:t?"1px":"",borderRightStyle:n?"solid":"",borderRightWidth:n?"1px":"",borderBottomStyle:r?"solid":"",borderBottomWidth:r?"1px":"",borderLeftStyle:a?"solid":"",borderLeftWidth:a?"1px":""},i.sx)}),void 0)}var Nn=n(883),Bn={primary:{bg:"primary_2",color:"neutral_0",px:"20px",py:"10px"},secondary:{bg:"neutral_3",color:"neutral_8",px:"20px",py:"10px"},flagged:{bg:"secondary_2",color:"neutral_0",px:"20px",py:"10px"},neutral:{bg:"neutral_0",color:"neutral_8",px:"20px",py:"10px"},custom:{bg:"neutral_3",color:"neutral_8",padding:0},customHighlighted:{bg:"neutral_0",color:"neutral_8",padding:0}},Un=function(){return(Un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Mn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Pn(e){var t=e.sx,n=e.reverseAlign,r=void 0!==n&&n,o=e.variant,c=void 0===o?"primary":o,i=e.borderRadius,s=Mn(e,["sx","reverseAlign","variant","borderRadius"]);return a.createElement(ut.a,Un({maxWidth:"408px",width:[0,"stretch"],fontSize:2,variant:c,sx:Un(Un(Un(Un(Un({},Bn[c]||{}),{letterSpacing:0,lineHeight:"normal",overflowWrap:"break-word"}),t||{}),r?{alignSelf:"flex-end"}:{alignSelf:"flex-start"}),i?{borderRadius:i}:r?{borderRadius:"20px 4px 20px 20px"}:{borderRadius:"4px 20px 20px 20px"})},s))}function qn(e){var t=e.reverseAlign,n=e.variant,r=e.sx,o=e.customContent,c=e.truncateText,i=Nn.a.dump(o),s=c&&i&&i.length>200,l=s&&i&&i.substring(0,200)+"...",u=a.useState(!0),d=u[0],b=u[1],f=a.useMemo((function(){return d&&s?l:i}),[d,i,l]);return a.createElement(Pn,{reverseAlign:t,variant:n,sx:r},a.createElement(Ln,{py:3,px:"20px",sx:{fontSize:1},bottom:!0},a.createElement("strong",null,"Custom output payload:")),a.createElement(ut.a,{pt:2,pb:3,px:"20px"},a.createElement(At,{sx:{whiteSpace:"pre",textOverflow:"initial",overflowX:"scroll",fontSize:0},variant:"code"},f),s&&a.createElement(Vt,{paddingTop:2,color:"primary_1",variant:"link",onClick:function(e){b(!d),e.stopPropagation()}},"See ",d?"more":"less")," "))}var Hn=n(347),Gn=n(153),Vn=function(){return(Vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},zn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Yn(e){var t,n=e.sx,r=e.variant,a=void 0===r?"medium":r,o=e.children,c=e.username,i=zn(e,["sx","variant","children","username"]);return Object(s.jsx)(ut.d,Vn({variant:"avatar."+a,justifyContent:"center",alignItems:"center",fontSize:4,color:"neutral_0",bg:"cyan_2"},i,{sx:Vn({textAlign:"center",borderRadius:"50%",lineHeight:"1em"},n||{})},{children:o||(t=c,t?t.split(" ").slice(0,2).map((function(e){return e.slice(0,1).toUpperCase()})).join(""):null)||null}),void 0)}function Wn(e){var t=e.user,n=e.userAvatar,r=e.botAvatar,o=e.interactive;return t?void 0!==n?null===n?null:a.createElement(Yn,{variant:"medium"},n):o?a.createElement(Yn,{variant:"medium",username:t}):a.createElement(Yn,{variant:"medium",bg:"neutral_3"},a.createElement($t,{fontSize:14,icon:Gn.faUser})):void 0!==r?null===r?null:a.createElement(Yn,{variant:"medium"},r):a.createElement(Yn,{variant:"medium"},a.createElement($t,{icon:Hn.faMehBlank}))}function Kn(e){var t=e.onClick,n=e.buttons,r=void 0===n?[]:n;return r&&0!==r.length?a.createElement(a.Fragment,null,Array.isArray(r)&&a.createElement(ut.a,{mt:2,px:"12px",ml:"28px"},r.map((function(e,n){return a.createElement(ut.a,null,a.createElement(Vt,{disabled:!t,key:e&&e.payload||"new-button-"+n,onClick:function(n){n.stopPropagation(),t&&t(e?e.payload:"")},mr:1,mb:1,variant:"secondaryFill"},e&&e.title||"New Button"))})))):null}function Qn(e){var t=e.botAvatar,n=e.children,r=e.data,o=e.disableMarkdown,c=e.event,i=e.highlighted,s=e.interactive,l=e.truncateText,u=e.last,d=e.onMessageButtonClick,b=e.optimistic,f=e.renderAction,p=e.renderMessageDecoration,j=e.selected,h=void 0!==j&&j,O=e.text,x=e.timestamp,g=e.user,v=e.userAvatar,m=a.useCallback((function(){}),[]),y=Bt(x&&Object(Rn.a)(new Date(1e3*x),"h:mm a, d MMM yyyy"),{placement:g?"right":"left"}),C=!!g||!!b,S=a.useMemo((function(){return(null===c||void 0===c?void 0:c.is_flagged)?"flagged":i&&!C?"neutral":C?"primary":"secondary"}),[null===c||void 0===c?void 0:c.is_flagged,i,C]),w=!!l&&!!O&&!g&&O.length>200,E=a.useState(!0),k=E[0],T=E[1];return a.createElement(a.Fragment,null,a.createElement(hn.Flex,{flexDirection:g?"row-reverse":"row",alignItems:"start"},a.createElement(ut.d,{sx:{flexShrink:0}},a.createElement(Wn,{user:g,userAvatar:v,botAvatar:t,interactive:s})),a.createElement(ut.d,{justifyContent:g?"flex-end":"flex-start",mx:2,width:["calc(100% - 100px)","auto","auto"]},a.createElement(ut.d,{flexDirection:"column",style:{maxWidth:"320px"},ref:y},r&&r.image&&a.createElement(gn,{onLoad:m,src:r.image,width:1,sx:{borderRadius:"16px 16px "+(O?"0px 0px":"16px 16px")}}),!O&&!r&&!n&&a.createElement(Pn,{reverseAlign:C,variant:S},a.createElement(At,{sx:{color:"neutral_6",fontStyle:"italic"}},"There is no response text here")),(O||n)&&a.createElement(Pn,{"data-qa":"conversation-message-bubbles_div",style:r&&r.image?{borderRadius:"0 0 16px 16px"}:{},reverseAlign:C,variant:S},a.createElement("div",null,O&&a.createElement(Fn,{truncate:w&&k,text:O,markdown:!g&&!o}),n),w&&a.createElement(Vt,{paddingTop:2,color:g?"neutral_0":"primary_1",variant:"link",onClick:function(e){T(!k),e.stopPropagation()}},"See ",k?"more":"less")),r&&r.custom&&a.createElement(qn,{truncateText:l,reverseAlign:C,variant:i&&!C?"customHighlighted":"custom",sx:O?{marginTop:"8px"}:{},customContent:r.custom}),r&&r.attachment&&!r.custom&&!r.image&&a.createElement(Pn,{reverseAlign:C,variant:S,style:O?{marginTop:"8px",width:"auto"}:{width:"auto"}},a.createElement(At,{sx:{color:"neutral_6",fontSize:"14px",fontStyle:"italic"}},a.createElement($t,{icon:dn.faPaperclip,color:"neutral_6",fontSize:"12px",mr:1}),r.attachment)))),c&&(null===p||void 0===p?void 0:p({event:c,selected:h}))),a.createElement(Kn,{buttons:r&&r.buttons,onClick:u?d:null}),c&&(null===f||void 0===f?void 0:f({event:c,selected:h})))}function Xn(e){var t,n,r=e.data,o=e.event,c=e.forwardedRef,i=e.highlighted,s=e.last,l=e.selected,u=e.sx,d=r.botAvatar,b=r.disableMarkdown,f=r.interactive,p=r.truncateText,j=r.onMessageButtonClick,h=r.onMessageClick,O=r.renderAction,x=r.renderMessageDecoration,g=r.userAvatar,v=r.username,m=o.timestamp,y=a.useCallback((function(e){"Enter"===e.key&&h(o)}),[o,h]),C=(null===(n=null===(t=o.metadata)||void 0===t?void 0:t.rasa_x_id)||void 0===n?void 0:n.toString())||"";return a.createElement(ln,{sx:u,highlighted:i,role:"button",onClick:function(){return h(o)},onKeyPress:y,tabIndex:0,"data-e2e":"EventContainer-"+o.event+"-"+o.timestamp,ref:c,id:C},a.createElement(Qn,{botAvatar:d,data:"bot"===o.event&&o.data||null,disableMarkdown:b,event:o,highlighted:i,interactive:f,truncateText:p,last:s,onMessageButtonClick:j,optimistic:"user"===o.event&&!!o.isOptimistic,renderAction:O,renderMessageDecoration:x,selected:l,text:o.text,timestamp:m,user:"user"===o.event?v:null,userAvatar:g}))}Qn.defaultProps={data:null,text:null,children:null,highlighted:!1,selected:!1,user:!1,optimistic:!1,onMessageButtonClick:null,last:!1};var $n=function(){return($n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Zn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Jn(e){var t=e.barColor,n=void 0===t?"neutral_4":t,r=e.variant,a=void 0===r?"center":r,o=Zn(e,["barColor","variant"]),c={bg:n,content:'" "',height:"1px",display:"block",flex:"1 1 auto"};return Object(s.jsx)(ut.d,$n({variant:"separator."+a,m:0},o,{sx:{width:"100%",alignItems:"center",whiteSpace:"nowrap","&::before":c,"&::after":c}}),void 0)}function er(e){var t=e.forwardedRef,n=e.sx;return a.createElement(Jn,{py:6,px:4,ref:t,sx:n},a.createElement(At,{as:"span",variant:"metadata",color:"neutral_6"},"Restart"))}function tr(e){var t=e.forwardedRef,n=e.event.timestamp,r=e.sx;return a.createElement(Jn,{py:6,px:4,ref:t,sx:r},a.createElement(At,{as:"span",variant:"metadata",color:"neutral_6",className:"hide-in-percy"},"Conversation session started on ",Object(Rn.a)(new Date(1e3*n),"d MMM yyyy")))}var nr,rr,ar=n(216),or=n(1110),cr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ir=Object(ar.b)(nr||(nr=cr(["\n  from { opacity: 1; }\n  to { opacity: 0; }\n"],["\n  from { opacity: 1; }\n  to { opacity: 0; }\n"]))),sr=Object(zt.default)($t)(rr||(rr=cr(["\n  animation: "," 1s ease-in-out infinite;\n  animation-direction: alternate;\n"],["\n  animation: "," 1s ease-in-out infinite;\n  animation-direction: alternate;\n"])),ir),lr=a.memo((function(e){var t=e.forwardedRef,n=e.sx;return a.createElement(ln,{sx:n,ref:t,"data-e2e":"EventContainer-Typing"},a.createElement(Qn,null,a.createElement(sr,{icon:or.faEllipsisH,size:"2x"})))})),ur=function(){return(ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function dr(e){var t,n,r=e.data,o=e.index,c=e.sx,i=e.forwardedRef,s=r.events,l=r.selectedTimestamp,u=r.renderAction,d=o>=on()(s,(function(e){return"bot"===e.event})),b=s[o],f={data:r,index:o,sx:c,highlighted:b.timestamp<=l&&(b.nextBreakEvent||1/0)>l,last:d,forwardedRef:i,selected:b.timestamp===l,renderAction:u};return"restart"===b.event?a.createElement(er,ur({},f,{event:b})):"session_started"===b.event?a.createElement(tr,ur({},f,{event:b})):"typing"===b.event?a.createElement(lr,ur({},f,{event:b})):"user_featurization"===b.event?null:"user"!==b.event&&"bot"!==b.event||!b.text&&("bot"!==b.event||!(null===(t=b.data)||void 0===t?void 0:t.custom)&&!(null===(n=b.data)||void 0===n?void 0:n.image))?a.createElement(un,ur({},f,{event:b})):a.createElement(Xn,ur({},f,{event:b}))}var br=function(){return(br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},fr=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},pr=a.forwardRef((function(e,t){return a.createElement(dr,br({forwardedRef:t},e))}));function jr(e){var t=a.useState(null),n=t[0],r=t[1],o=a.useState(!0),c=o[0],i=o[1];a.useEffect((function(){var e=window.location.hash;""!==e&&setTimeout((function(){var t=e.replace("#",""),n=document.getElementById(t);n&&n.scrollIntoView()}),0)}),[]);var s=a.useMemo((function(){return e.awaitingResponse?fr(fr([],e.events),[{event:"typing",timestamp:-1}]):e.events}),[e.awaitingResponse,e.events]);a.useEffect((function(){null!==n&&c&&s.length>0&&(n.scrollTop=n.scrollHeight-n.clientHeight)}),[s,n,c]);var l=a.useCallback((function(){if(null!==n){var e=n.scrollTop===n.scrollHeight-n.clientHeight;i(e)}}),[i,n]);return a.createElement(ut.d,{flexDirection:"column",justifyContent:"flex-start",ref:r,height:"100%",overflow:"auto",onScroll:l,sx:{'[data-e2e^="EventContainer-"]:first-of-type':{marginTop:["auto",null,"16px"]},'[data-e2e^="EventContainer-"]:last-of-type':{marginBottom:["12px",null,"16px"]}}},s.map((function(t,n){return a.createElement(pr,{data:br(br({},e),{events:s}),index:n,sx:{},key:n})})))}var hr=a.memo((function(e){var t=e.awaitingResponse,n=e.botAvatar,r=e.conversation,o=e.disableMarkdown,c=e.truncateText,i=e.noInteract,s=e.onChatFocus,l=e.onMessageClick,u=e.onSendMessage,d=e.placeholder,b=e.renderAction,f=e.renderMessageDecoration,p=e.restartDisabled,j=e.timestamp,h=e.userAvatar,O=e.username,x=St("max-device-width",1),g=a.useMemo((function(){return!r||0===r.length||3===r.length&&r.map((function(e){return e.event})).join(",")===["action","session_started","action"].join(",")}),[r]);return a.createElement(ut.d,{flexDirection:"column",sx:{height:"100%",overflow:"auto"}},a.createElement(ut.a,{flex:"1 1 80%",sx:{overflow:"auto"}},a.createElement(ut.d,{flexDirection:"column",sx:{height:"100%"}},a.createElement(ut.a,{flex:"1 1 auto",sx:{overflow:"auto"},"data-e2e":"Conversation__Container"},g?d:a.createElement(jr,{awaitingResponse:t,botAvatar:n,disableMarkdown:o,events:r,interactive:!!u||!i,truncateText:c,onMessageButtonClick:u||null,onMessageClick:l||function(){},renderAction:b,renderMessageDecoration:f,selectedTimestamp:j||-1,userAvatar:h,username:O})))),u&&!i&&a.createElement(ut.a,{flex:"0 1",width:1,sx:{backgroundColor:"neutral_0",borderTop:"1px solid",borderColor:"neutral_4",position:["fixed",null,"initial"],bottom:[0,null,"initial"]}},a.createElement(rn,{autoFocus:!x,restartDisabled:p,onFocus:s,onSendMessage:u})))}));n(1111);n(2279);var Or=n(348),xr=n.n(Or),gr=function(){return(gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vr=Object(zt.default)(ut.c)(Object(se.compose)(se.borderRadius,se.boxShadow)),mr=a.forwardRef((function(e,t){return Object(s.jsx)(vr,gr({ref:t},e),void 0)}));mr.defaultProps={bg:"neutral_0",borderRadius:"normal",boxShadow:"card",p:3};var yr=function(){return(yr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Cr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};a.forwardRef((function(e,t){var n=e.sx,r=e.inheritColor,a=e.variant,o=void 0===a?"h3":a,c=e.loading,i=(e.css,Cr(e,["sx","inheritColor","variant","loading","css"]));return Object(s.jsx)(ut.e,yr({as:o,variant:"heading."+o},i,{ref:t,sx:yr(yr(yr({fontFamily:"sansSerif",fontWeight:1,letterSpacing:0,lineHeight:"normal",m:0,color:"neutral_8"},n||{}),r?{color:"inherit !important"}:{}),c?{letterSpacing:"0px",color:"neutral_2 !important"}:{})}),void 0)}));a.createContext((function(){}));var Sr=function(){return Object(d.b)()};n(430);var wr=n(1114),Er=n(1113);var kr="rasa-chat-widget-container";function Tr(e){var t,n,r,o=e.defaultOpen,c=e.children,i=e.height,s=e.width,l=a.useState(!1),u=l[0],d=l[1],b=a.useState(o||!1),f=b[0],p=b[1],j=a.useRef(null),h=Sr(),O=a.useMemo((function(){return{open:{height:i,width:s,borderStyle:"solid"},closed:{width:0,height:0,borderStyle:"none"}}}),[h]);a.useEffect((function(){d((function(e){return f||e}))}),[f]),t=j,n=function(){return p(!1)},a.useEffect((function(){if(n){var e=function(e){if(t.current){var a=e.target;t.current.contains(a)||r&&function(e,t){for(var n=e;null===n||void 0===n?void 0:n.parentElement;){if(t(n))return!0;n=n.parentElement}return!1}(a,r)||n(e)}};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[n,r,t]);var x=a.useMemo((function(){return f?ce.faTimes:u?Er.faCommentDots:wr.faComment}),[u,f]);return a.createElement(ut.d,{id:kr,sx:{flexDirection:"column",alignItems:"flex-end",position:"fixed",bottom:20,right:20,zIndex:98},ref:j},(f||u)&&a.createElement(lt.a.div,{variants:O,initial:"closed",animate:f?"open":"closed",style:{backgroundColor:h.colors.neutral_0,borderRadius:h.radii.normal,borderWidth:"1px",borderColor:h.colors.neutral_4,overflow:"hidden",marginBottom:"14px"}},c),a.createElement(ut.a,null,a.createElement(Vt,{large:!0,variant:"circle",onClick:function(){return p((function(e){return!e}))}},a.createElement($t,{fontSize:"22px",icon:x}))))}Tr.containerId=kr,Tr.containerId;var Ar=n(732),_r=n.n(Ar),Fr=(n(1119),function(e){return _r()(e,"do MMM yyyy")}),Rr=function(){return(Rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Dr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var Ir=function(){return(Ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Lr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var Nr={Flex:function(e){var t=e.sx,n=void 0===t?{}:t,r=Lr(e,["sx"]);return Object(s.jsx)(U.d,Ir({},r,{sx:Ir(Ir({},n),{"--parent-hovered":"none","--parent-hovered-inverted":"block","&:hover":Ir(Ir({},n&&n["&:hover"]||{}),{"--parent-hovered":"block","--parent-hovered-inverted":"none"})})}),void 0)},Box:function(e){var t=e.inverted,n=e.alwaysVisible,r=Dr(e,["inverted","alwaysVisible"]);return Object(s.jsx)(U.a,Rr({},r,{sx:Rr({display:n?"block":"var(--parent-hovered"+(t?"-inverted":"")+")"},r.sx)}),void 0)}},Br=n(67),Ur=n.p+"static/media/SaraChattingOnPhone.af401b9d.svg",Mr=n(28),Pr=n(1188),qr=n(2245),Hr={user_message:{value:"user_message",label:"User says"},bot_message:{value:"bot_message",label:"Bot says"}},Gr={user_message:"Type out what the user might say",bot_message:"Type out what the bot might say"},Vr=Object.values(Hr),zr=function(e){var t=e.target,n=t.value,r=t.selectionStart||0;e.currentTarget.value=r?n.slice(0,r)+"\n"+n.slice(r):n,e.currentTarget.selectionStart=r+1,e.currentTarget.selectionEnd=r+1};function Yr(e){var t=e.lastMessage,n=e.onSubmit,r=a.useState(Hr.user_message),o=Object(F.a)(r,2),c=o[0],i=o[1],l=a.useState(""),u=Object(F.a)(l,2),d=u[0],b=u[1],f=!!d,p=function(){f&&(n({text:d,type:c.value}),b(""))};a.useEffect((function(){var e=t&&"user_message"===t.type?Hr.bot_message:Hr.user_message;i(e)}),[i,t]);return Object(s.jsxs)(U.a,{sx:{display:"grid",gridTemplateColumns:"25% 1fr 30px",borderTop:"1px solid",borderColor:"neutral_3",height:"64px",alignContent:"center",paddingRight:"16px"},children:[Object(s.jsx)(U.a,{sx:{gridColumn:1,borderRight:"1px solid",borderColor:"neutral_3",height:"64px",display:"grid",alignContent:"center"},children:Object(s.jsx)(qr.a,{items:Vr,onChange:function(e){return!!e&&i(e)},fullWidth:!0,value:c,variant:"borderless","data-qa":"user-says-bot-says-select"})}),Object(s.jsx)(U.a,{sx:{gridColumn:2,height:"64px",display:"grid",alignContent:"center"},children:Object(s.jsx)(Pr.a,{variant:"borderless",textarea:!0,value:d,onChangeValue:b,onAlternativeReturn:function(e){zr(e),b(e.currentTarget.value)},onReturn:p,placeholder:Gr[c.value],fullWidth:!0,"data-qa":"create-dialog-message-input"})}),Object(s.jsx)(U.a,{sx:{gridColumn:3,height:"64px",display:"grid",alignContent:"center"},children:Object(s.jsx)(B.a,{variant:"plainIcon",onClick:p,disabled:!f,"data-qa":"create-dialog-message-submit",children:Object(s.jsx)(ie.a,{icon:Ye.faPaperPlane,fontSize:"22px"})})})]})}function Wr(e){var t=e.updateSampleConversationItem,n=e.renderAction,r=o.a.useState(),a=Object(F.a)(r,2),c=a[0],i=a[1],l=o.a.useCallback((function(){i(void 0)}),[]),u=((null===c||void 0===c?void 0:c.text)||"").trim().length>0,d=o.a.useCallback((function(e){zr(e);var t=Object(_.a)(Object(_.a)({},c),{},{text:e.currentTarget.value});i(t)}),[c]),b=o.a.useCallback((function(e){return Object(s.jsx)(Pr.a,{textarea:!0,width:536,rows:5,fullHeight:!0,value:null===c||void 0===c?void 0:c.text,onChangeValue:function(e){var t=Object(_.a)(Object(_.a)({},c),{},{text:e});i(t)},onReturn:function(){c&&(t(c),e())},onAlternativeReturn:d,"data-qa":"edit-dialog-message-input"})}),[c,d,i,t]),f=Object(j.b)(b((function(){return p(!1)})),{header:"Edit ".concat("bot_message"===(null===c||void 0===c?void 0:c.type)?"bot":"user"," message"),footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{large:!0,ml:2,onClick:function(){c&&(t(c),p(!1))},variant:"primary",disabled:!u,"aria-label":"Save","data-qa":"confirmable-modal-submit",children:"Save"}),Object(s.jsx)(B.a,{large:!0,onClick:function(){p(!1),l()},variant:"secondary","aria-label":"Cancel","data-qa":"confirmable-modal-cancel",children:"Cancel"})]}),closeOnClickOutside:!1,closeOnEscape:!1,onAfterClose:function(){l()}}),p=Object(F.a)(f,2)[1];return Object(s.jsx)(s.Fragment,{children:n((function(e){i(e),p(!0)}))})}var Kr=function(e){var t=e.date;return Object(s.jsxs)(Y.a,{variant:"captionSecondary",sx:{marginTop:"8px",marginBottom:"8px",fontStyle:"italic"},children:["Last modified on ",Fr(t)]})},Qr=function(e){return{id:e.id,event:"bot_message"===e.type?"bot":"user",text:e.text,timestamp:e.createdAt.getTime()}};function Xr(e){var t=e.conversation,n=e.deleteSampleConversationItem,r=Object(m.c)(),o=t.name,c=t.items,i=void 0===c?[]:c,l=t.updatedAt,u=t.description,d=a.useState(0),b=Object(F.a)(d,2),f=b[0],p=b[1],h=a.useState(0),O=Object(F.a)(h,2),x=O[0],g=O[1],v=a.useState(!1),y=Object(F.a)(v,2),C=y[0],S=y[1],w=a.useMemo((function(){return Object(s.jsx)(H.Box,{sx:{minWidth:"448px"},children:Object(s.jsx)(Y.a,{children:"Are you sure you want to delete this message?"})})}),[]),E=a.useMemo((function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{large:!0,onClick:function(){n({messageId:f,parentConversationId:x}),S(!1)},variant:"primary","data-qa":"confirmable-modal-submit",children:"Yes, delete"}),Object(s.jsx)(B.a,{large:!0,mr:2,onClick:function(){S(!1)},variant:"secondary","data-qa":"confirmable-modal-cancel",children:"Cancel"})]})}),[f,x,n]),k=Object(j.b)(w,{header:"Delete message?",footer:E,closeOnClickOutside:!0,closeOnEscape:!1,showCloseButton:!0,onAfterClose:function(){S(!1)}}),T=Object(F.a)(k,2)[1];a.useEffect((function(){T((function(){return C}))}),[T,C]);var A=function(e){return r(Re.i.request(e))},_=Object(R.f)(Te.d.Blueprints,Te.a.Update),D=Object(R.f)(Te.d.Blueprints,Te.a.Delete);return Object(s.jsx)(Br.a,{children:function(e){return Object(s.jsxs)(H.Box,{height:e.height-100,width:e.width,children:[Object(s.jsxs)(H.Flex,{flexDirection:"column",sx:{borderBottom:"1px solid",borderBottomColor:"neutral_3",padding:"16px"},children:[Object(s.jsx)(z.a,{variant:"h2",sx:{textOverflow:"ellipsis",overflow:"hidden"},children:o}),Object(s.jsx)(Kr,{date:l}),Object(s.jsx)(Y.a,{variant:"bodySecondary",children:u})]}),Object(s.jsx)(hr,{placeholder:Object(s.jsx)(qe,{heading:"Create sample dialogue",image:Ur,body:"Create dialogue to illustrate how this scenario should be handled by the assistant"}),disableMarkdown:!0,awaitingResponse:!1,conversation:i.map(Qr),username:"Sample User",noInteract:!0,renderMessageDecoration:function(e){var n=e.event;return Object(s.jsxs)(H.Flex,{flexDirection:"user"===n.event?"row-reverse":"row",alignItems:"end",children:[_&&Object(s.jsx)(Wr,{updateSampleConversationItem:A,renderAction:function(e){return Object(s.jsx)(Mr.a,{content:"Edit",children:Object(s.jsx)(Nr.Box,{className:"edit-btn",children:Object(s.jsx)(B.a,{variant:"icon",onClick:function(){var r=function(e,t){var n=e;return{id:n.id,type:"bot"===e.event?"bot_message":"user_message",text:n.text,parentConversationId:t}}(n,t.id);e(r)},"data-qa":"dialog-message-edit",children:Object(s.jsx)(ie.a,{icon:Ve.faEdit})})})},"edit-".concat(n.id))}}),D&&Object(s.jsx)(Mr.a,{content:"Delete",children:Object(s.jsx)(Nr.Box,{className:"delete-btn",children:Object(s.jsx)(B.a,{onClick:function(){p(n.id),g(t.id),S(!0)},variant:"icon","data-qa":"dialog-message-delete",children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})},"delete-".concat(n.id))]})}})]})}})}var $r=n(6),Zr=n.n($r),Jr=n(350),ea=n(1187);function ta(e){var t=e.activeIndex,n=e.items,r=e.onChange,o=e.onLoadMoreRows,c=e.loading,i=e.selected,l=e.setAsActive,u=e.total,d=a.useCallback(function(){var e=Object(Jr.a)(Zr.a.mark((function e(t){var n;return Zr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.startIndex,e.abrupt("return",!c&&o({offset:n,limit:30}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,c]),b=a.useCallback((function(e){var a=e.key,o=e.index,c=e.style,u=n[o],d=i.indexOf(u);return u&&Object(s.jsxs)(U.a,{tabIndex:0,as:"label",onClick:function(e){e.preventDefault(),o>=0&&l(o)},style:c,sx:Object(_.a)({borderBottom:"1px solid",borderBottomColor:"neutral_3",height:"64px",padding:"0 26px",display:"flex",alignItems:"center",justifyContent:"flex-start",cursor:"pointer",":hover, :focus":{backgroundColor:"neutral_1"}},t===o?{backgroundColor:"neutral_1","&:after":{content:'""',width:"4px",height:"64px",backgroundColor:"primary_2",position:"absolute",right:"0",borderRadius:"2px"}}:{}),"data-qa":"create-link-list-row",children:[Object(s.jsx)(ea.a,{width:20,height:20,"aria-label":u.name,onChange:function(){return r(d>=0?i.slice(0,d).concat(i.slice(d+1)):i.concat([u]))},checked:d>=0,"data-qa":"create-link-list-row-checkbox"}),Object(s.jsx)(Y.a,{variant:"bodySecondary",sx:{lineHeight:"inherit",marginLeft:"12px",maxWidth:"calc(100% - 48px)",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},"data-qa":"create-link-list-row-name",children:u.name})]},a)}),[t,n,r,i,l]);return Object(s.jsx)(Br.a,{children:function(e){return Object(s.jsx)(Br.c,{isRowLoaded:function(e){var t=e.index;return void 0!==n[t]},loadMoreRows:d,rowCount:u,children:function(t){var n=t.onRowsRendered,r=t.registerChild;return Object(s.jsx)(Br.d,{ref:r,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:10,rowCount:u,rowHeight:64,rowRenderer:b})}})}})}function na(e){var t=e.items,n=e.labels,r=e.loading,o=e.onClose,c=e.onCreate,i=e.offsetFromFiltering,l=e.onLoadMoreRows,u=e.open,d=e.total,b=a.useState([]),f=Object(F.a)(b,2),p=f[0],h=f[1],O=a.useMemo((function(){return p.length>0}),[p.length]),x=a.useState(""),g=Object(F.a)(x,2),v=g[0],y=g[1],C=Object(_e.a)(v),S=a.useState(0),w=Object(F.a)(S,2),E=w[0],k=w[1],T=n.heading,A=n.searchPlaceholder,_=n.noContentPlaceholderHeading,D=n.noContentPlaceholderBody,I=n.noSearchResultsBody,L=v.length>0?"No results found":_,N=v.length>0?I:D,M=v.length>0?He:Ge,P=me().addToast,q=Object(m.d)((function(e){return e.assistantLinks.error}));a.useEffect((function(){Object.entries(q).forEach((function(e){var t=Object(F.a)(e,2),n=t[0],r=t[1];if(r){var a,o,c=null===(a=r.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message,i=c||r.message;P({content:i,head:"Something went wrong",variant:"error",timeout:-1}),Object(Fe.a)(n)}}))}),[q,P]);var H=a.useCallback((function(e){var t=e.offset,n=e.limit;return l({search:v,offset:t+i,limit:n})}),[i,l,v]),G=a.useCallback((function(e){l({offset:0,limit:30,search:e})}),[l]),V=a.useCallback((function(){G(""),h([]),y(""),k(0)}),[G]);Object(R.a)((function(){C!==v&&G(v)}),300,[v,C]);var W=a.useMemo((function(){return Object(s.jsxs)(U.a,{sx:{height:"458px",overflow:"hidden",position:"relative",display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateAreas:'\n            "list   detail"\n          ',width:"100%",flexGrow:1},children:[Object(s.jsx)(U.a,{sx:{gridArea:"list",borderRight:"1px solid",borderRightColor:"neutral_3",display:"grid",gridTemplateRows:"70px 1fr"},children:Object(s.jsx)(ta,{activeIndex:E,items:t,loading:r.createAssistantLinks,onChange:function(e){return h(e)},onLoadMoreRows:H,selected:p,setAsActive:function(e){return k(e)},total:d})}),Object(s.jsx)(U.d,{flexDirection:"column",sx:{padding:"16px"},children:t.length>0&&t[E]&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(z.a,{variant:"h2",children:t[E].name}),Object(s.jsx)(Kr,{date:t[E].updatedAt}),Object(s.jsx)(Y.a,{mt:"12px",children:t[E].description})]})})]})}),[E,t,r,H,p,d]),K=a.useMemo((function(){return Object(s.jsx)(U.a,{width:868,height:514,color:"neutral_6",children:Object(s.jsx)(qe,{heading:L,body:N,image:M,imageWidth:180})})}),[N,L,M]),Q=a.useMemo((function(){return Object(s.jsxs)(U.a,{width:868,height:"100%",children:[Object(s.jsx)(De.a,{count:2,query:v,label:function(e){return A},onChange:function(e){return y(e)},loading:r.createAssistantLinks,variant:"square"}),t.length>0?W:K]})}),[t,W,r,K,A,v]),X=Object(j.b)(Q,{header:T,p:0,px:0,py:0,footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Be,{onClick:function(){return c(p),V(),void o()},large:!0,disabled:!O,ml:2,loading:r.createAssistantLinks,"data-qa":"create-link-modal-submit",children:"Link"}),Object(s.jsx)(B.a,{large:!0,mr:1,onClick:function(){V(),o()},variant:"secondary",children:"Cancel"})]}),closeOnClickOutside:!1,closeOnEscape:!1,onAfterClose:function(){V(),o()}}),$=Object(F.a)(X,2)[1];return a.useEffect((function(){$(u),u||V()}),[u,$,V]),Object(s.jsx)(s.Fragment,{})}var ra="custom-edge-utils-layer",aa=function(){var e=Object(ke.m)((function(e){return e.transform})),t=Object(F.a)(e,3),n=t[0],r=t[1],a=t[2],o="translate(".concat(n,"px, ").concat(r,"px) scale(").concat(a,")");return Object(s.jsx)(U.a,{sx:{position:"absolute",transformOrigin:"0 0",width:"100%",height:"100%",zIndex:4,pointerEvents:"none"},style:{transform:o},className:ra})},oa=n(1126),ca=n(1125),ia=n(2244),sa=n(85),la={vertical:{"&:first-of-type":{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},"&:last-of-type":{borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px"}},horizontal:{"&:first-of-type":{borderTopLeftRadius:"8px",borderBottomLeftRadius:"8px"},"&:last-of-type":{borderTopRightRadius:"8px",borderBottomRightRadius:"8px"}}};function ua(e){var t=e.item,n=e.itemWidth,r=e.itemHeight,a=e.menuOrientation,o=e.variant,c=Object(p.b)(t.name,{placement:"vertical"===a?"right":"top",disabled:t.noTooltip});return Object(s.jsxs)(U.d,{ref:c,as:"button",type:"button","aria-label":t.name,onClick:t.onClick,justifyContent:"center",alignItems:"center",bg:t.highlighted?"primary_3":t.active?"neutral_2":"neutral_0",height:"".concat(r,"px"),width:"".concat(n,"px"),sx:Object(_.a)({color:t.highlighted?"white":t.grayedOut?"neutral_6":"neutral_7",cursor:"pointer",border:"none","&:hover":{bg:t.highlighted?"primary_3":"neutral_2"},fontSize:"small"===o?"12px":"16px"},la[a]),"data-qa":t.dataQA,children:[t.beforeIconText&&Object(s.jsx)(Y.a,{variant:"bodyPrimary",mr:2,inheritColor:!0,children:t.beforeIconText}),Object(s.jsx)(U.a,{sx:Object(_.a)({color:t.highlighted?"white":"neutral_6"},t.iconStyle),children:Object(s.jsx)(ie.a,{icon:t.icon})}),t.afterIconText&&Object(s.jsx)(Y.a,{variant:"bodyPrimary",ml:2,inheritColor:!0,children:t.afterIconText})]})}function da(e){var t=e.items,n=e.orientation,r=e.length,a=e.itemWidth,o=e.itemHeight,c=e.variant,i=void 0===c?"regular":c,l=e.sx,u=Object(V.a)(e,["items","orientation","length","itemWidth","itemHeight","variant","sx"]),d={vertical:{width:"".concat(a,"px"),height:"".concat(r,"px"),flexDirection:"column"},horizontal:{height:"".concat(o,"px"),width:"".concat(r,"px"),flexDirection:"row"}};return Object(s.jsx)(U.d,Object(_.a)(Object(_.a)({sx:Object(_.a)(Object(_.a)({backgroundColor:"neutral_0",borderRadius:"8px",boxShadow:"selectBox"},d[n]),l)},u),{},{children:t.map((function(e){return Object(s.jsx)(ua,{item:e,itemWidth:a,itemHeight:o,menuOrientation:n,variant:i},e.name)}))}))}da.defaultProps={orientation:"vertical"};var ba=n(65),fa=n(145),pa=n(1122),ja=n.n(pa),ha=n(209),Oa=n(296),xa=n.n(Oa),ga="You've got unsaved changes.\xa0Are you sure you want to leave the page?",va=function(e){var t=e.hasChanges,n=Object(y.h)(),r=Object(y.i)();Object(a.useEffect)((function(){var e=n.block((function(n){var a=n.pathname===r.pathname;if(t&&!a)return ga;e()}));return function(){return e()}}),[n,r,t]),Object(a.useEffect)((function(){function e(e){t&&(e.preventDefault(),e.returnValue=ga)}return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[t])},ma=n(1123),ya=function(e){var t=e.value,n=e.onChange,r=e.onClickOutside,o=e.placeholder,c=Object(a.useRef)(null);return Object(ia.b)(c,Object(a.useCallback)((function(){n(t),r()}),[t,n,r])),Object(s.jsx)(Pr.a,{autoFocus:!0,fontSize:1,value:t,textarea:!0,fullHeight:!0,onChangeValue:n,variant:"editableText",ref:c,placeholder:o,sx:{textAlign:"center",width:"100%",height:"100%",background:"none",border:"none",resize:"none"}})},Ca=Object(a.memo)(ya);var Sa=n(564),wa=n(1124),Ea=function(){return(Ea=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function ka(e){var t=e.color,n=e.onClick,r=e.selected,a=e.sx,o=void 0===a?{}:a;return Object(s.jsx)(U.a,Ea({as:"button",type:"button","aria-label":t.name,onClick:function(){return n(t)},sx:Ea({cursor:"pointer",borderRadius:"6px",padding:"4px",border:0,backgroundColor:r?"neutral_3":"transparent"},o),"data-qa":"color-picker-"+t.name},{children:Object(s.jsx)(U.a,{sx:{width:"100%",height:"100%",borderRadius:"50%",border:"1px solid",borderColor:"neutral_6",backgroundColor:t.hexValue}},void 0)}),void 0)}var Ta,Aa=function(){return(Aa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function _a(e){var t=e.colors,n=e.value,r=e.onChange,a=t.map((function(e){return e.complement?e:Aa(Aa({},e),{complement:{hexValue:Object(wa.a)(e.hexValue),name:"complementary color to "+e.name}})}));return Object(s.jsx)(U.d,Aa({sx:{boxShadow:"selectBox",p:"12px",flexWrap:"wrap"}},{children:a.map((function(e){return Object(s.jsx)(ka,{sx:{width:"32px",height:"32px"},color:e,onClick:r,selected:e.name===(null===n||void 0===n?void 0:n.name)},e.name)}))}),void 0)}!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight"}(Ta||(Ta={}));var Fa={[Ta.BottomRight]:{cursor:"nwse-resize",bottom:"0",right:"0"},[Ta.BottomLeft]:{cursor:"nesw-resize",bottom:"0",left:"0"},[Ta.TopLeft]:{cursor:"nwse-resize",top:"0",left:"0"},[Ta.TopRight]:{cursor:"nesw-resize",top:"0",right:"0"}},Ra=40,Da=function(e){var t=e.position,n=e.onMove,r=Object(V.a)(e,["position","onMove"]),o=Object(a.useRef)(0),c=Object(a.useRef)(0),i=function(e){e.preventDefault(),n(t,{x:e.pageX-Ka-o.current,y:e.pageY-Qa-c.current})},l=function e(t){t.preventDefault(),document.removeEventListener("mousemove",i,!1),document.removeEventListener("mouseup",e,!1)};return Object(a.useEffect)((function(){return function(){document.removeEventListener("mousemove",i,!1),document.removeEventListener("mouseup",l,!1)}}),[]),Object(s.jsx)(U.a,{sx:Object(_.a)(Object(_.a)({width:"".concat(Ra,"px"),height:"".concat(Ra,"px"),position:"absolute",pointerEvents:"all",padding:"15px"},Fa[t]),{},{"&:hover":{div:{borderColor:"neutral_8"}}}),onMouseDown:function(e){e.stopPropagation(),e.preventDefault(),o.current=e.pageX-Ka,c.current=e.pageY-Qa,document.addEventListener("mousemove",i,!1),document.addEventListener("mouseup",l,!1)},children:Object(s.jsx)(U.a,Object(_.a)(Object(_.a)({},r),{},{sx:{width:"100%",height:"100%",borderRadius:"2px",backgroundColor:"white",border:"1px solid",borderColor:"neutral_6"}}))})},Ia=function(e){return e.width>60&&e.height>60},La=function(e){var t=e.x,n=e.y,r=e.setPosition,a=e.alwaysVisible,o=e.size,c=e.setSize,i=function(e,a){var i;switch(e){case Ta.TopLeft:i={height:Math.round(o.height-a.y),width:Math.round(o.width-a.x)},Ia(i)&&(c(i),r({x:Math.round(t+a.x),y:Math.round(n+a.y)}));break;case Ta.TopRight:i={height:Math.round(o.height-a.y),width:Math.round(o.width+a.x)},Ia(i)&&(c(i),r({x:t,y:Math.round(n+a.y)}));break;case Ta.BottomLeft:i={height:Math.round(o.height+a.y),width:Math.round(o.width-a.x)},Ia(i)&&(c(i),r({x:Math.round(t+a.x),y:n}));break;case Ta.BottomRight:i={height:Math.round(o.height+a.y),width:Math.round(o.width+a.x)},Ia(i)&&c(i)}};return Object(s.jsx)(U.a,{sx:{position:"absolute",pointerEvents:"none",visibility:a?"visible":"hidden",top:"-".concat(20,"px"),left:"-".concat(20,"px")},style:{width:"".concat(o.width+Ra,"px"),height:"".concat(o.height+Ra,"px")},children:Object(s.jsxs)(U.a,{sx:{position:"relative",width:"100%",height:"100%"},children:[Object(s.jsx)(Da,{position:Ta.TopLeft,onMove:i,"data-qa":"flow-canvas-node-resize-top-left"}),Object(s.jsx)(Da,{position:Ta.TopRight,onMove:i,"data-qa":"flow-canvas-node-resize-top-right"}),Object(s.jsx)(Da,{position:Ta.BottomLeft,onMove:i,"data-qa":"flow-canvas-node-resize-bottom-left"}),Object(s.jsx)(Da,{position:Ta.BottomRight,onMove:i,"data-qa":"flow-canvas-node-resize-bottom-right"})]})})},Na={[ke.e.Top]:{top:-30},[ke.e.Right]:{right:-30},[ke.e.Bottom]:{bottom:-30},[ke.e.Left]:{left:-30}};function Ba(e){var t=e.position,n=e.visible,r=Object(V.a)(e,["position","visible"]),a=x();return Object(s.jsx)(U.a,{sx:{visibility:n?"visible":"hidden"},children:Object(s.jsx)(ke.d,Object(_.a)(Object(_.a)({},r),{},{isConnectable:!0,isValidConnection:function(e){return e.source!==e.target||!(e.sourceHandle===e.targetHandle)},position:t,style:Object(_.a)({border:"none",backgroundImage:"radial-gradient(".concat(a.colors.primary_3,", 18%, transparent 0)"),backgroundColor:"transparent",width:"35px",height:"35px",display:"flex",alignItems:"center",justifyContent:"center"},Na[t]),"data-qa":"flow-canvas-node-handle-".concat(t)}))})}var Ua;!function(e){e.Select="select",e.Add="add",e.Edge="edge"}(Ua||(Ua={}));var Ma="White",Pa=r.f.Rounded,qa=[{hexValue:"#2C3951",name:"Dark gray"},{hexValue:"#CED5E7",name:"Mid gray"},{hexValue:"#C7C5F1",name:"Light gray"},{hexValue:"#FFFFFF",name:Ma},{hexValue:"#972422",name:"Red"},{hexValue:"#FFA278",name:"Amber",complement:"#252D40"},{hexValue:"#FFD036",name:"Gold"},{hexValue:"#F5E4AE",name:"Light gold"},{hexValue:"#2B826F",name:"Green"},{hexValue:"#87E5E2",name:"Cyan"},{hexValue:"#BAE25B",name:"Teal",complement:"#252D40"},{hexValue:"#B8DDDB",name:"Light green"},{hexValue:"#2C5DCB",name:"Azure"},{hexValue:"#94C6FF",name:"Cornflower"},{hexValue:"#FBB6FF",name:"Pink"},{hexValue:"#FFD6D6",name:"Light pink"}].map((function(e){return Object(_.a)(Object(_.a)({},e),{},{complement:{hexValue:e.complement||(Object(ha.a)(e.hexValue)>.5?"#252D40":"#FFFFFF"),name:"Complement to ".concat(e.name)}})})),Ha=qa.filter((function(e){return e.name===Ma}))[0],Ga={editable:function(e){var t,n,o,c=e.data,i=e.id,l=e.xPos,u=e.yPos,d=e.selected,b=c.shape||r.f.Rounded,f=a.useState(c.size),p=Object(F.a)(f,2),j=p[0],h=p[1],O=a.useState(c.value),g=Object(F.a)(O,2),v=g[0],m=g[1],y=a.useState(!1),C=Object(F.a)(y,2),S=C[0],w=C[1],E=a.useState(!1),k=Object(F.a)(E,2),T=k[0],D=k[1],I=a.useMemo((function(){return Math.max.apply(Math,Object(A.a)(c.value.split(" ").map((function(e){return e.length}))))}),[c])>20,L=a.useContext($a),N=L.updateElement,B=L.removeElementById,M=L.colors,P=L.setLastUsedColor,q=L.currentlyEditingElementId,H=L.setCurrentlyEditingElementId,G=L.clearCurrentlyEditingElementId,V=q===i;Object(R.a)((function(){Object(sa.a)(l)&&Object(sa.a)(u)&&N(i,{position:{x:Math.round(l),y:Math.round(u)}})}),200,[i,l,u]),Object(R.a)((function(){N(i,{data:Object(_.a)(Object(_.a)({},c),{},{size:j})})}),200,[i,j]),Object(R.a)((function(){N(i,{data:Object(_.a)(Object(_.a)({},c),{},{value:v})})}),200,[i,v]);var z=a.useCallback((function(e){N(c.id,{position:e})}),[c,N]),W=a.useCallback((function(){G()}),[G]),K=a.useCallback((function(){q!==i&&G()}),[q,G,i]),Q=Object(R.d)({Escape:W,Enter:W,Backspace:function(){return!V&&!!d&&B(c.id)},Delete:function(){return!V&&!!d&&B(c.id)}}).onKeyboardEvent,X=x(),$=[{icon:Sa.faCircle,name:"Color",onClick:function(){return D(!0)},active:!1,iconStyle:{path:{fill:c.color.hexValue,stroke:X.colors.neutral_6,strokeWidth:30}},dataQA:"flow-canvas-node-menu-color"},{icon:ze.faTrashAlt,name:"Delete",onClick:function(){return B(i)},active:!1}],Z=40*$.length,J=a.useMemo((function(){var e={backgroundColor:c.color.hexValue,left:"1px",top:"1px",bottom:"1px",right:"1px",position:"absolute",zIndex:-1};switch(b){case r.f.Rectangle:return Object(s.jsx)(U.a,{sx:e});case r.f.Rounded:return Object(s.jsx)(U.a,{sx:Object(_.a)(Object(_.a)({},e),{},{borderRadius:"15px"})});case r.f.Circle:return Object(s.jsx)(U.a,{sx:Object(_.a)(Object(_.a)({},e),{},{borderRadius:"50%"})});case r.f.Diamond:var t=Math.min(j.width,j.height),n=Math.sqrt(t/2*t/2+t/2*t/2);return Object(s.jsx)(U.a,{sx:{position:"absolute",borderRadius:"5px",width:"".concat(n,"px"),height:"".concat(n,"px"),transform:"rotate(45deg)",zIndex:-1,backgroundColor:c.color.hexValue}});default:return null}}),[b,c,j]);return Object(s.jsxs)(s.Fragment,{children:[d&&!T&&Object(s.jsx)(da,{items:$,orientation:"horizontal",length:Z,itemWidth:40,itemHeight:40,className:"edge-floating-menu",sx:{position:"absolute",top:"".concat(-72,"px"),left:"".concat(j.width/2-Z/2,"px")}}),Object(s.jsx)(ba.a,{appendTo:"parent",onClose:function(){return D(!1)},visible:T,content:Object(s.jsx)(U.a,{width:152,children:Object(s.jsx)(_a,{colors:M,value:c.color,onChange:function(e){N(c.id,{data:Object(_.a)(Object(_.a)({},c),{},{color:e})}),P(e),D(!1)}})})}),Object(s.jsxs)(U.d,{tabIndex:0,sx:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"12px",padding:"12px 16px",border:"1px solid transparent",borderColor:S||d?"primary_3":"transparent"},style:{width:"".concat(j.width,"px"),height:"".concat(j.height,"px")},color:null===(t=c.color.complement)||void 0===t?void 0:t.hexValue,className:"custom-node",onDoubleClick:function(){return H(i)},onKeyDown:Q,onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)},onClick:K,"data-qa":"flow-canvas-node",children:[J,!V&&Object(s.jsx)(Y.a,{fontSize:1,textAlign:"center",variant:"bodyPrimary",overflow:"auto",maxHeight:"100%",color:null===(n=c.color.complement)||void 0===n?void 0:n.hexValue,sx:{zIndex:1,wordBreak:I?"break-all":"normal"},"data-qa":"flow-canvas-node-text",children:c.value}),V&&Object(s.jsx)(Pr.a,{autoFocus:!0,fontSize:1,value:v,textarea:!0,onChangeValue:function(e){return m(e.slice(0,1e3))},variant:"editableText",sx:{width:"100%",height:"100%",color:null===(o=c.color.complement)||void 0===o?void 0:o.hexValue,background:"none",border:"none",resize:"none",textAlign:"center",zIndex:1}}),Object(s.jsx)(Ba,{id:"1",visible:S,type:"source",position:ke.e.Left}),Object(s.jsx)(Ba,{id:"2",visible:S,type:"source",position:ke.e.Top}),Object(s.jsx)(Ba,{id:"3",visible:S,type:"source",position:ke.e.Right}),Object(s.jsx)(Ba,{id:"4",visible:S,type:"source",position:ke.e.Bottom}),l&&u&&Object(s.jsx)(La,{x:l,y:u,setPosition:z,size:j,setSize:h,alwaysVisible:d||S})]})]})}},Va={editable:function(e){var t=e.id,n=e.sourceX,r=e.sourceY,c=e.targetX,l=e.targetY,u=e.sourcePosition,d=e.targetPosition,b=e.markerEndId,f=e.selected,p=e.data,j=o.a.useContext($a),h=j.removeElementById,O=j.updateElement,g=j.currentlyEditingElementId,v=j.setCurrentlyEditingElementId,m=j.clearCurrentlyEditingElementId,y=g===t,C=o.a.useState(p.value),S=Object(F.a)(C,2),w=S[0],E=S[1],k=o.a.useState(!1),T=Object(F.a)(k,2),A=T[0],D=T[1],I=Object(a.useCallback)((function(){return m()}),[m]),L=Object(a.useCallback)((function(){return v(t)}),[t,v]),N=o.a.useCallback((function(){g!==t&&m()}),[g,m,t]),B=Object(R.d)({Enter:I,Escape:I,Backspace:function(){return!y&&!!f&&h(t)},Delete:function(){return!y&&!!f&&h(t)}}).onKeyboardEvent;Object(R.a)((function(){O(t,{data:Object(_.a)(Object(_.a)({},p),{},{value:w})})}),200,[t,w]);var M=[{icon:ma.faText,name:"Edit",onClick:L,active:!1},{icon:ze.faTrashAlt,name:"Delete",onClick:function(){return h(t)},active:!1}],P=x().colors,q=Object(ke.k)({sourceX:n,sourceY:r,sourcePosition:u,targetX:c,targetY:l,targetPosition:d,borderRadius:10}),H=Object(ke.j)(ke.a.ArrowClosed,b),G=Object(ke.i)({sourceX:n,sourceY:r,targetX:c,targetY:l}),V=Object(F.a)(G,2),z=V[0],W=z-81,K=V[1]-32,Q=Math.min(K,r,l),X=40*M.length,$=z-X/2,Z=Q-32-40,J=f?P.primary_3:P.neutral_6,ee=f&&!y?i.a.createPortal(Object(s.jsx)(U.a,{sx:{pointerEvents:"auto",position:"absolute",width:X,height:40,left:$,top:Z},children:Object(s.jsx)(da,{items:M,orientation:"horizontal",length:X,itemWidth:40,itemHeight:40,className:"edge-floating-menu"})}),document.body.getElementsByClassName(ra)[0]):null;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(U.a,{as:"g",tabIndex:0,onKeyDown:B,onClick:N,onDoubleClick:L,"data-qa":"flow-canvas-edge",ref:function(e){e&&!A&&(e.focus(),D(!0))},children:[Object(s.jsx)(U.a,{as:"path",id:"".concat(t,"-interaction-area"),d:q,sx:{fill:"none",stroke:"transparent",strokeWidth:24}}),Object(s.jsx)(U.a,{as:"path",id:t,d:q,markerEnd:H,sx:{fill:"none",stroke:J}}),Object(s.jsxs)("foreignObject",{width:162,height:64,x:W,y:K,children:[!y&&Object(s.jsx)(Y.a,{as:"div",variant:"bodySecondary",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",children:Object(s.jsx)(Y.a,{variant:"bodySecondary",textAlign:"center",bg:"neutral_2",children:p.value})}),y&&Object(s.jsx)(Ca,{value:w,onChange:function(e){return E(e.slice(0,70))},onClickOutside:I,placeholder:"Add text"})]})]}),ee]})}},za={[r.f.Rectangle]:170,[r.f.Rounded]:170,[r.f.Circle]:135,[r.f.Diamond]:135},Ya={[r.f.Rectangle]:80,[r.f.Rounded]:80,[r.f.Circle]:135,[r.f.Diamond]:135},Wa=function(e,t,n,r){var a=e.x,o=e.y;return{id:t,type:"editable",data:{id:t,value:"",color:n,elementType:"node",shape:r,size:{width:za[r],height:Ya[r]}},position:{x:a,y:o}}},Ka=56,Qa=72,Xa={elements:[],mode:Ua.Select,setAddMode:function(){throw new Error("Unimplemented")},setSelectMode:function(){throw new Error("Unimplemented")},updateElementShape:function(){throw new Error("Unimplemented")},onConnect:function(){throw new Error("Unimplemented")},removeElementById:function(){throw new Error("Unimplemented")},updateElement:function(){throw new Error("Unimplemented")},setCanvasElements:function(){throw new Error("Unimplemented")},nodeTypes:Ga,edgeTypes:Va,modeStrategies:{[Ua.Select]:{},[Ua.Add]:{},[Ua.Edge]:{}},colors:qa,lastUsedColor:Ha,setLastUsedColor:function(){throw new Error("Unimplemented")},unsavedChanges:!1,currentlyEditingElementId:void 0,setCurrentlyEditingElementId:function(){throw new Error("Unimplemented")},clearCurrentlyEditingElementId:function(){throw new Error("Unimplemented")}},$a=a.createContext(Xa),Za=function(e){var t=e.children,n=e.flow,o=Object(ke.l)((function(e){return e.setSelectedElements})),c=a.useState(Ha),i=Object(F.a)(c,2),l=i[0],u=i[1],d=a.useState(Pa),b=Object(F.a)(d,2),f=b[0],p=b[1],j=a.useState(Ua.Select),h=Object(F.a)(j,2),O=h[0],x=h[1],g=a.useState([]),v=Object(F.a)(g,2),m=v[0],y=v[1],C=a.useState(),S=Object(F.a)(C,2),w=S[0],E=S[1],k=a.useCallback((function(){return E(void 0)}),[]),T=Object(a.useCallback)((function(){return x(Ua.Select)}),[]),R=Object(a.useCallback)((function(){return x(Ua.Add)}),[]),D=ja()(T,(function(e){return y([].concat(Object(A.a)(m),[e]))}),Wa),I=Object(ke.n)().project,L={[Ua.Select]:{cursor:"auto"},[Ua.Edge]:{cursor:"nesw-resize"},[Ua.Add]:{cursor:"crosshair",onPaneClick:function(e){var t=e.pageX,n=e.pageY;return D(I({x:t-Ka-za[f]/2,y:n-Qa-Ya[f]/2}),xa()(),l,f)}}},N=a.useMemo((function(){return JSON.stringify(Object(fa.sortBy)(m,["id"]))!==JSON.stringify(Object(fa.sortBy)(null===n||void 0===n?void 0:n.elements,["id"]))}),[m,null===n||void 0===n?void 0:n.elements]);va({hasChanges:N});var B={elements:m,mode:O,setAddMode:R,setSelectMode:T,updateElementShape:function(e){p(e)},onConnect:function(e){if(function(e){return!!e.source&&!!e.target}(e)){var t=function(e,t){return Object(_.a)(Object(_.a)({},e),{},{type:"editable",id:t,data:{id:t,value:"",elementType:"edge"}})}(e,xa()());y((function(e){return Object(ke.g)(t,e)})),o(t)}},nodeTypes:Ga,edgeTypes:Va,modeStrategies:L,removeElementById:function(e){return y((function(t){var n=[e],a=t.find((function(t){return t.id===e}));if(Object(sa.a)(a)&&Object(r.oc)(a)){var o=t.filter((function(t){return Object(r.nc)(t)&&(t.source===e||t.target===e)}));n=n.concat(o.map((function(e){return e.id})))}return t.filter((function(e){return!n.includes(e.id)}))}))},colors:qa,updateElement:function(e,t){y((function(n){var r=n.find((function(t){return t.id===e}));return r?[].concat(Object(A.a)(n.filter((function(t){return t.id!==e}))),[Object(_.a)(Object(_.a)({},r),t)]):n}))},setCanvasElements:function(e){return y(e)},lastUsedColor:l,setLastUsedColor:u,unsavedChanges:N,currentlyEditingElementId:w,setCurrentlyEditingElementId:E,clearCurrentlyEditingElementId:k};return Object(s.jsx)($a.Provider,{value:B,children:t})},Ja=[{name:"Rectangle",shape:"rectangle",buttonStyling:{p:"6px",m:"0 4px 0 0"},shapeStyling:{},dataQA:"flow-canvas-shape-picker-rectangle"},{name:"Rounded",shape:"rounded",buttonStyling:{p:"6px"},shapeStyling:{borderRadius:"6px"},dataQA:"flow-canvas-shape-picker-rounded"},{name:"Circle",shape:"circle",buttonStyling:{p:"6px",m:"0 4px 0 0"},shapeStyling:{borderRadius:"50%"},dataQA:"flow-canvas-shape-picker-circle"},{name:"Diamond",shape:"diamond",buttonStyling:{p:"8px"},shapeStyling:{transform:"rotate(45deg)"},dataQA:"flow-canvas-shape-picker-diamond"}];function eo(e){var t=e.onSelect,n=e.color;return Object(s.jsx)(U.d,{sx:{boxShadow:"selectBox",p:"12px",flexWrap:"wrap"},children:Ja.map((function(e){return Object(s.jsx)(B.a,{"aria-label":e.name,width:"32px",height:"32px",p:e.buttonStyling.p,m:e.buttonStyling.m,variant:"headerIcon",onClick:function(){return t(e.shape)},"data-qa":e.dataQA,children:Object(s.jsx)(U.a,{sx:Object(_.a)({border:"1.5px solid",borderColor:"neutral_6",height:"100%",width:"100%",bg:n},e.shapeStyling)})},e.name)}))})}function to(){var e=a.useContext($a),t=e.setAddMode,n=e.setSelectMode,r=e.updateElementShape,o=e.mode,c=e.lastUsedColor,i=a.useState(!1),l=Object(F.a)(i,2),u=l[0],d=l[1],b=a.useMemo((function(){return[{icon:ca.faMousePointer,name:"Select",onClick:n,active:o===Ua.Select,dataQA:"flow-menu-select"},{icon:oa.faSquare,name:"Shape",onClick:function(){d(!u)},active:o===Ua.Add,dataQA:"flow-menu-shape",noTooltip:u}]}),[o,u,n]),f=40*b.length;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(da,{items:b,orientation:"vertical",length:f,itemHeight:40,itemWidth:40,sx:{position:"absolute",top:"calc(50vh - 72px - ".concat(f/2,"px)"),left:"32px",zIndex:100}}),Object(s.jsx)(U.a,{sx:{position:"absolute",top:"calc(50vh - 72px - ".concat(f/2,"px)"),left:"80px",zIndex:100},children:Object(s.jsx)(ba.a,{onClose:function(){return d(!1)},visible:u,appendTo:"parent",onClickOutside:function(e,t){Object(ia.a)(t.target,(function(e){var t=e.getAttribute("data-qa");return Object(sa.a)(t)&&t.includes("flow-menu-shape")}))||d(!1)},content:Object(s.jsx)(U.a,{width:92,children:Object(s.jsx)(eo,{onSelect:function(e){r(e),t(),d(!1)},color:c.hexValue})})})})]})}var no=n(1129),ro=function(){return(ro=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function ao(e){var t=e.children,n=e.containerStyles,r=e.open,a=e.renderToggle;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(U.a,ro({sx:ro({position:"fixed",right:0,width:"440px",height:"100vh",bg:"neutral_0",zIndex:99992,transform:r?"none":"translateX(100%)",transition:"transform ease 0.2s",boxShadow:"md"},n)},{children:[null===a||void 0===a?void 0:a(),t]}),void 0)},void 0)}function oo(e){var t=e.action,n=a.useRef(null);return a.useEffect((function(){var e=n.current,r=new IntersectionObserver((function(e){Object(F.a)(e,1)[0].isIntersecting&&t()}),{root:null,rootMargin:"0px",threshold:1});return e&&r.observe(e),function(){e&&r.unobserve(e)}}),[n,t]),Object(s.jsx)(U.a,{ref:n})}var co=n(1128),io=n(1127),so=n(1185);function lo(e){var t=e.title,n=e.summary,r=e.lastModified,a=e.sx,o=e.onUnlink,c=e.directUrl,i=Object(R.f)(Te.d.Blueprints,Te.a.Update);return Object(s.jsxs)(so.a,{sx:Object(_.a)({},a),"data-qa":"link-card",children:[Object(s.jsxs)(U.d,{justifyContent:"space-between",alignItems:"center",mb:2,children:[Object(s.jsx)(z.a,{variant:"h4",sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"80%"},"data-qa":"link-card-title",children:t}),Object(s.jsxs)(U.d,{flexShrink:0,children:[i&&o&&Object(s.jsx)(B.a,{variant:"squareIcon",type:"button",padding:"6px",ml:2,onClick:o,"aria-label":"Unlink ".concat(t),"data-qa":"link-card-unlink",children:Object(s.jsx)(ie.a,{icon:io.faUnlink,fontSize:1})}),Object(s.jsx)(B.a,{as:"a",variant:"squareIcon",padding:"6px",ml:2,"aria-label":"Open ".concat(t),href:c,rel:"noopener noreferrer",target:"_blank",children:Object(s.jsx)(ie.a,{icon:co.faExternalLink,fontSize:1})})]})]}),Object(s.jsxs)(Y.a,{variant:"captionSecondary",mb:2,children:["Last modified on ",Fr(r)]}),Object(s.jsx)(Y.a,{variant:"bodySecondary",fontSize:1,children:n})]})}function uo(e){var t=e.links,n=e.showBusinessLogicFLow,r=e.showSampleConversation,o=e.onCreateLink,c=e.loadMore,i=e.labels,l=e.onRemoveLink,u=0===t.length,d=i.placeholderHeading,b=i.placeholderBody,f=i.placeholderButton,p=i.heading,h=i.subHeading,O=i.button,x=i.unlinkModalBody,g=Object(R.f)(Te.d.Blueprints,Te.a.Create),v=Object(a.useState)(),m=Object(F.a)(v,2),y=m[0],C=m[1],S=Object(j.b)(Object(s.jsx)(Y.a,{variant:"bodyPrimary",children:x}),{header:"Remove link",footer:function(e){return Object(s.jsxs)(U.d,{justifyContent:"flex-end",sx:{"> button":{margin:"0 8px"}},children:[Object(s.jsx)(B.a,{variant:"secondary",large:!0,onClick:e,"aria-label":"Cancel","data-qa":"unlink-modal-cancel",children:"Cancel"}),Object(s.jsx)(B.a,{variant:"primary",large:!0,onClick:function(){void 0!==y&&(l(y),C(void 0),e())},"aria-label":"Yes, remove link","data-qa":"unlink-modal-submit",children:"Yes, remove link"})]})},onAfterClose:function(){return C(void 0)}}),w=Object(F.a)(S,2)[1],E=function(e){C(e),w(!0)};return Object(s.jsxs)(s.Fragment,{children:[u&&Object(s.jsx)(qe,{heading:d,body:b,image:Ge,bg:"neutral_1",imageWidth:180,actions:g&&Object(s.jsx)(B.a,{variant:"primary",type:"button","aria-label":f,onClick:o,large:!0,fullWidth:!0,"data-qa":"create-link-empty-placeholder",children:f})}),!u&&Object(s.jsxs)(U.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(s.jsxs)(U.a,{sx:{flexShrink:0,padding:"24px",bg:"neutral_0"},children:[Object(s.jsx)(z.a,{variant:"h3",mb:2,children:p}),Object(s.jsx)(Y.a,{variant:"captionPrimary",children:h})]}),Object(s.jsxs)(U.a,{sx:{flexGrow:1,padding:"24px",bg:"neutral_1",overflowY:"auto"},children:[t.map((function(e){return Object(s.jsxs)(U.a,{children:[n&&Object(s.jsx)(lo,{title:e.businessLogicFlow.name,summary:e.businessLogicFlow.description,lastModified:e.businessLogicFlow.updatedAt,sx:{marginBottom:"12px"},onUnlink:function(){return E(e.id)},directUrl:"/blueprints/flows/".concat(e.businessLogicFlow.id)}),r&&Object(s.jsx)(lo,{title:e.sampleConversation.name,summary:e.sampleConversation.description,lastModified:e.sampleConversation.updatedAt,sx:{marginBottom:"12px"},onUnlink:function(){return E(e.id)},directUrl:"/blueprints/dialogues/".concat(e.sampleConversation.id)})]},e.id)})),Object(s.jsx)(oo,{action:c})]}),g&&Object(s.jsx)(U.a,{sx:{flexShrink:0,padding:"24px",bg:"neutral_1"},children:Object(s.jsx)(B.a,{variant:"primary",type:"button","aria-label":O,onClick:o,large:!0,fullWidth:!0,children:O})})]})]})}function bo(e){var t=e.parentId,n=e.onCreateLink,r=Object(m.c)(),o=Object(R.n)(!1),c=Object(F.a)(o,2),i=c[0],l=c[1];a.useEffect((function(){r(Fe.c.request({limit:30,offset:0,parentId:t,parentType:"BusinessLogicFlow"}))}),[r,t]);var u=Object(m.d)((function(e){return e.assistantLinks})),d=Object(m.d)((function(e){return e.assistantLinks.loading.fetchAssistantLinks})),b=u.businessLogicFlows[t]||{},f=b.links,p=void 0===f?[]:f,j=b.total,h=void 0===j?0:j,O=a.useMemo((function(){return p.length>=h||d?function(){}:function(){return r(Fe.c.request({limit:30,offset:p.length,parentId:t,parentType:"BusinessLogicFlow"}))}}),[p,h,d,r,t]);return Object(s.jsx)(ao,{open:i,containerStyles:{top:"73px",height:"calc(100vh - 73px)"},renderToggle:function(){return Object(s.jsx)(da,{orientation:"horizontal",itemWidth:70,itemHeight:48,length:70,items:[{name:"Link side panel toggle",icon:no.faLink,onClick:l,noTooltip:!0,iconStyle:{color:i?"white":0===h?"neutral_6":"primary_3"},afterIconText:"".concat(h),highlighted:i,grayedOut:0===h}],sx:{position:"absolute",left:"-86px",top:"16px"},"data-qa":"flow-links-toggle"})},children:Object(s.jsx)(uo,{loadMore:O,links:p,showSampleConversation:!0,onCreateLink:n,onRemoveLink:function(e){return r(Fe.d.request({linkId:e,parentId:t,parentType:"BusinessLogicFlow"}))},labels:{placeholderHeading:"No linked Dialogues",placeholderBody:"This Flow is not linked to any Dialogues.",placeholderButton:"Link to a Dialogue",heading:"".concat(h," Linked Dialogue").concat(1===h?"":"s"),subHeading:"This Flow is linked to ".concat(h," Dialogue").concat(1===h?"":"s","."),button:"Create a link",unlinkModalBody:"Are you sure you want to unlink this Dialogue from the Flow?"}})})}function fo(e){var t=e.flow,n=a.useContext($a),r=n.mode,o=n.elements,c=n.onConnect,i=n.nodeTypes,u=n.edgeTypes,d=n.modeStrategies,b=n.setCanvasElements,f=n.clearCurrentlyEditingElementId,p=a.useContext(l.ThemeContext),j=Object(m.c)();a.useEffect((function(){j(Re.g.request({offset:0,limit:30}))}),[j]);var h=Object(R.g)(Re.g),O=a.useState(!1),x=Object(F.a)(O,2),g=x[0],v=x[1],y=Object(m.d)((function(e){return e.assistantLinks.loading})),C=Object(m.d)((function(e){return e.sampleConversations.total})),S=Object.values(Object(m.d)((function(e){return e.sampleConversations.conversations}))),w=Object(m.d)((function(e){return e.assistantLinks.businessLogicFlows[t.id]})),E=a.useMemo((function(){return w?S.filter((function(e){return!w.links.some((function(t){return t.sampleConversation.id===e.id}))})):S}),[w,S]),k=(null===w||void 0===w?void 0:w.total)||0,T=C>k?C-k:E.length,A=Object(_e.a)(t.elements),_=(null===w||void 0===w?void 0:w.links.length)||0;a.useEffect((function(){(!A||0===A.length)&&t.elements.length>0&&b(t.elements)}),[A,b,t.elements]);var D=d[r],I=D.onPaneClick,L=D.cursor,N=Object(R.f)(Te.d.Blueprints,Te.a.Create);return Object(s.jsxs)(U.a,{width:"100%",className:"reactflow-wrapper",style:{position:"relative",height:"100%"},children:[Object(s.jsxs)(ke.h,{selectionKeyCode:"",multiSelectionKeyCode:"",selectNodesOnDrag:!1,nodesConnectable:!0,elementsSelectable:N||!1,nodesDraggable:N||!1,connectionMode:ke.c.Loose,style:{cursor:L},minZoom:.4,elements:o,nodeTypes:i,edgeTypes:u,onPaneClick:I,onConnect:c,onPointerDown:function(e){"react-flow__pane"===e.target.className&&f()},children:[Object(s.jsx)(ke.b,{gap:40,size:2,color:p.colors.primary_4}),N&&Object(s.jsx)(to,{}),Object(s.jsx)(aa,{})]}),Object(s.jsx)(bo,{parentId:t.id,onCreateLink:function(){return v(!0)}}),Object(s.jsx)(na,{items:E,labels:{noContentPlaceholderHeading:"You don't have any Dialogues",noContentPlaceholderBody:"In order to link this Flow to a Dialogue, you'll need to create one first.",noSearchResultsBody:"There are no Dialogues that match that search query. Please try again.",heading:"Create links to Dialogues",searchPlaceholder:"Search ".concat(T," Dialogue").concat(1===T?"":"s","...")},loading:y,onClose:function(){return v(!1)},onCreate:function(e){var n=e.map((function(e){return{sampleConversationId:e.id,businessLogicFlowId:t.id}}));j(Fe.b.request({pairs:n,parentId:t.id,parentType:"BusinessLogicFlow"}))},offsetFromFiltering:_,onLoadMoreRows:h,open:g,total:T})]})}function po(e){var t=e.onSave,n=a.useContext($a),r=n.unsavedChanges,o=n.elements,c=Object(m.d)((function(e){return e.businessLogicFlow.loading.updateBusinessLogicFlow})),i=Object(R.f)(Te.d.Blueprints,Te.a.Update);return Object(s.jsx)(U.d,{alignItems:"center",children:i&&Object(s.jsx)(Be,{"aria-label":"Save",mr:3,variant:"primary",large:!0,loading:c,disabled:!r,onClick:function(){return t(o)},"data-qa":"flow-canvas-save".concat(c?"-loading":""),children:"Save"})})}var jo=function(){var e=Object(y.h)().push,t=Object(m.c)(),n=Object(y.j)().flowId,r=me().addToast,o=parseInt(n),c=Object(m.d)((function(e){return e.businessLogicFlow.flows.find((function(e){return e.id===o}))})),i=Object(m.d)((function(e){return e.businessLogicFlow.error}));a.useEffect((function(){t(Ae.d.request({flowId:o}))}),[t,o]);var l=a.useCallback((function(){return e("/blueprints/flows/")}),[e]);a.useEffect((function(){Object.entries(i).forEach((function(e){var n=Object(F.a)(e,2),a=n[0],o=n[1];o&&(r({content:o.message,variant:"error"}),t(Ae.a(a)))}))}),[t,i,r]);var u=Object(p.b)(Object(s.jsx)(H.Box,{sx:{maxWidth:300},children:null===c||void 0===c?void 0:c.name}),{disabled:!c||c.name.length<50,placement:"bottom"}),d=Object(s.jsxs)(U.d,{alignItems:"center",children:[Object(s.jsx)(B.a,{color:"dark_1",pl:4,"aria-label":"Back",fontSize:4,variant:"plainIcon",onClick:l,"data-qa":"flow-view-back",children:Object(s.jsx)(ie.a,{icon:we.faArrowLeft})}),Object(s.jsx)(z.a,{variant:"h3",p:2,sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},ref:u,children:null===c||void 0===c?void 0:c.name})]}),b=Object(R.b)(),f=Object(R.f)(Te.d.Blueprints,Te.a.Read);return Object(s.jsx)(s.Fragment,{children:b&&f?Object(s.jsx)(ke.f,{children:Object(s.jsx)(Za,{flow:c,children:Object(s.jsx)(Ee.a,{leftContent:d,rightContent:Object(s.jsx)(po,{onSave:function(e){c&&t(Ae.f.request({id:o,flow:{elements:e}}))}}),noPadding:!0,children:Object(s.jsx)(H.Box,{height:"100%",width:"100%",sx:{backgroundColor:"neutral_2"},children:c&&c.elements&&Object(s.jsx)(fo,{flow:c})})})})}):Object(s.jsx)(y.b,{to:"/"})})},ho=n(69),Oo=n(26),xo=n(978),go=n(2269);function vo(e){var t=e.disableName,n=e.environment,a=e.onChange,c=o.a.useMemo((function(){return!(""===n.url||Object(r.wd)(n.url))}),[n.url]);return Object(s.jsxs)(U.d,{flexDirection:"column",minWidth:"584px",children:[Object(s.jsx)(go.a,{text:"Name",pt:4,fontSize:1,children:Object(s.jsx)(Pr.a,{value:n.name,onChangeValue:function(e){return a(Object(_.a)(Object(_.a)({},n),{},{name:e}))},placeholder:"Name the environment",disabled:t,fullWidth:!0})}),Object(s.jsx)(go.a,{text:"Bot URL",pt:4,fontSize:1,children:Object(s.jsx)(Pr.a,{value:n.url,onChangeValue:function(e){return a(Object(_.a)(Object(_.a)({},n),{},{url:e}))},placeholder:"Add URL",invalid:c,fullWidth:!0})}),Object(s.jsx)(go.a,{text:"Access token",pt:4,fontSize:1,children:Object(s.jsx)(Pr.a,{type:"password",value:n.token,onChangeValue:function(e){return a(Object(_.a)(Object(_.a)({},n),{},{token:e}))},placeholder:"Add access token",fullWidth:!0})})]})}var mo=n(72),yo=n(2278),Co=n(979),So=n(562),wo=function(){return(wo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Eo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function ko(e){return function(t){t.stopPropagation(),e(t)}}var To=a.forwardRef((function(e,t){var n=e.onClick,r=e.dialogHeading,a=e.dialogBody,o=e.cancelButtonText,c=e.confirmButtonText,i=e.tooltip,l=Eo(e,["onClick","dialogHeading","dialogBody","cancelButtonText","confirmButtonText","tooltip"]),u=Object(j.b)(a,{header:r,footer:function(e){return Object(s.jsxs)(U.d,wo({justifyContent:"flex-end",sx:{marginTop:"32px",marginBottom:"32px"}},{children:[Object(s.jsx)(B.a,wo({variant:"secondary",large:!0,onClick:ko(e),"aria-label":o,"data-qa":"confirmable-modal-cancel",mr:2},{children:o}),void 0),Object(s.jsx)(B.a,wo({variant:"primary",large:!0,onClick:ko((function(t){null===n||void 0===n||n(t),e()})),"aria-label":c,"data-qa":"confirmable-modal-submit",m:0},{children:c}),void 0)]}),void 0)},closeOnClickOutside:!0,closeOnEscape:!0,showCloseButton:!0,variant:"default"})[1],d=Object(p.b)(i),b=Object(So.a)([i?d:null,t]);return Object(s.jsx)(B.a,wo({onClick:ko((function(){return u(!0)})),ref:b},l),void 0)})),Ao=["production","worker"];function _o(e){var t=e.environment,n=e.onDelete,a=e.onEdit,c=function(e){return{visibility:"hidden",[".table-row:hover &.".concat(e)]:{visibility:"visible"}}},i=o.a.useState(t),l=Object(F.a)(i,2),u=l[0],d=l[1];o.a.useEffect((function(){d(t)}),[t,d]);var b=Object(p.b)("Edit"),f=Ao.includes(t.name.toLowerCase()),h=o.a.useMemo((function(){return Object(r.td)(u)&&(!f||u.name===t.name)}),[u,f,t.name]),O=Object(j.b)(Object(s.jsx)(vo,{disableName:f,environment:u,onChange:d}),{header:"Edit an environment",onAfterClose:function(){return d(t)},footer:function(e){return Object(s.jsxs)(U.d,{justifyContent:"flex-end",sx:{marginTop:"16px","> button":{margin:"0 8px"}},children:[Object(s.jsx)(B.a,{variant:"secondary",large:!0,onClick:e,"aria-label":"Close",children:"Close"}),Object(s.jsx)(B.a,{disabled:!h,variant:"primary",large:!0,onClick:function(){null===a||void 0===a||a(u),e()},"aria-label":"Save",children:"Save"})]})}}),x=Object(F.a)(O,2)[1];return Object(s.jsxs)(U.d,{sx:{justifySelf:"flex-end",flexGrow:1,alignItems:"flex-end",justifyContent:"flex-end",flexShrink:0,"> *":{marginRight:1}},children:[a&&Object(s.jsx)(U.a,{className:"edit-btn",sx:c("edit-btn"),children:Object(s.jsx)(B.a,{ref:b,onClick:function(){return x(!0)},variant:"icon",children:Object(s.jsx)(ie.a,{icon:Ve.faEdit})})}),n&&!f&&Object(s.jsx)(U.a,{className:"delete-btn",sx:c("delete-btn"),children:Object(s.jsx)(To,{"aria-label":"Delete ".concat(t.name),cancelButtonText:"Cancel",confirmButtonText:"Yes, delete",dialogBody:Object(s.jsxs)(Y.a,{children:["Are you sure you want to delete ",Object(s.jsx)("b",{children:t.name}),"? This action cannot be undone."]}),dialogHeading:"Delete this environment?",onClick:n,variant:"icon",tooltip:"Delete",children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})]})}function Fo(e){var t=e.title,n=e.environments,r=e.onAdd,a=e.onDelete,o=e.onEdit;return Object(s.jsxs)(U.d,{width:"100%",sx:{backgroundColor:"netural_0",borderTopLeftRadius:"large",borderTopRightRadius:"large"},flexDirection:"column",children:[Object(s.jsxs)(U.d,{alignItems:"center",justifyContent:"space-between",sx:{width:"100%",height:"56px",borderTopLeftRadius:"large",borderTopRightRadius:"large",borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",borderBottomColor:"neutral_2",backgroundColor:"neutral_0",overflow:"hidden","&:focus-within":{borderColor:"primary_2"},pl:4},children:[Object(s.jsx)(z.a,{variant:"h4",children:t}),r&&Object(s.jsx)(so.a,{p:0,sx:{borderColor:"neutral_4",borderLeftStyle:"solid",borderLeftWidth:"1px",minWidth:"auto"},children:Object(s.jsx)(B.a,{variant:"headerIcon",onClick:r,children:Object(s.jsx)(ie.a,{icon:mo.faPlus})})})]}),Object(s.jsxs)(yo.a,{rows:n,variant:"flattened",rowStyle:{gap:"24px"},children:[Object(s.jsx)(Co.a,{title:"Name",width:.2,children:function(e){return e.name}}),Object(s.jsx)(Co.a,{title:"Bot URL",width:.4,children:function(e){return Object(s.jsx)(Y.a,{sx:{maxHeight:"3em"},children:e.url})}}),Object(s.jsx)(Co.a,{title:"Access token",width:.3,children:function(){return"\u2022\u2022\u2022\u2022\u2022\u2022"}}),Object(s.jsx)(Co.a,{width:.2,children:function(e){return Object(s.jsx)(_o,{onDelete:a&&function(){return a(e)},onEdit:o&&function(t){return o(e,t)},environment:e})}})]})]})}function Ro(){var e=Object(m.c)(),t=Object(R.b)();a.useEffect((function(){e(Oo.d.request())}),[e]);var n=Object(R.f)(Te.d.Environments,Te.a.Create),o=Object(R.f)(Te.d.Environments,Te.a.Update),c=Object(R.f)(Te.d.Environments,Te.a.Delete),i=a.useCallback((function(t,n){return e(Oo.k.request({environment:t,newEnvironment:n}))}),[e]),l=a.useCallback((function(t){return e(Oo.b.request(t))}),[e]),u=Object(m.d)((function(e){return e.models.environments})),d=a.useMemo((function(){return u.reduce((function(e,t){var n=Object(F.a)(e,2),r=n[0],a=n[1];return"worker"===t.name?[r,[].concat(Object(A.a)(a),[t])]:[[].concat(Object(A.a)(r),[t]),a]}),[[],[]])}),[u]),b=Object(F.a)(d,2),f=b[0],p=b[1],h=a.useState(r.a),O=Object(F.a)(h,2),x=O[0],g=O[1],v=Object(j.b)(Object(s.jsx)(vo,{environment:x,onChange:g}),{header:"Add an environment",onAfterClose:function(){return g(r.a)},footer:function(e){return Object(s.jsxs)(U.d,{justifyContent:"flex-end",sx:{marginTop:"16px","> button":{margin:"0 8px"}},children:[Object(s.jsx)(B.a,{variant:"secondary",large:!0,onClick:e,"aria-label":"Close",children:"Close"}),Object(s.jsx)(B.a,{disabled:!Object(r.td)(x),variant:"primary",large:!0,onClick:function(){i(x),e()},"aria-label":"Save",children:"Save"})]})}}),y=Object(F.a)(v,2)[1];return Object(s.jsx)(Ee.a,{title:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ho.a,{to:"/models",component:xo.a}),"Configure environments"]}),children:Object(s.jsxs)(U.d,{style:{minHeight:"480px"},children:[Object(s.jsx)(U.d,{flex:.5,mr:32,children:Object(s.jsx)(Fo,{title:"Deployment environments",environments:f,onEdit:o?i:void 0,onDelete:c?l:void 0,onAdd:t&&n?function(){return y(!0)}:void 0})}),Object(s.jsx)(U.d,{flex:.5,children:Object(s.jsx)(Fo,{title:"Training environments",environments:p,onEdit:o?i:void 0})})]})})}var Do=n(142),Io=n(2271),Lo=n(112),No=n.n(Lo),Bo=n(29),Uo=n(122),Mo=Object(Uo.a)([function(e){return e.models}],(function(e){var t=Object.keys(e).find((function(t){return e[t].tags.some((function(e){return"production"===e||"Active"===e}))}));return t?e[t]:null})),Po=(Object(Uo.a)([function(e){return e.evaluation},function(e){return e.confusionValues},function(e){return e.evaluationFilter}],(function(e,t,n){if(!e)return[];var r=e.intent_evaluation.predictions;if(!n)return[];var a=Object(F.a)(n,2),o=a[0],c=a[1],i=t[o],s=t[c];return r.filter((function(e){return e.intent===i&&e.predicted===s}))})),n(349)),qo=n(566),Ho=n(351),Go=n(565);function Vo(e){var t=e.status,n=Object(V.a)(e,["status"]),o=a.useMemo((function(){switch(t){case r.d.OK:return{icon:Go.faCheckCircle,color:"cyan_1"};case r.d.OUTDATED:case r.d.NOT_CALCULATED_YET:case r.d.LATEST_FAILED_AND_RESULTS_ARE_OK:case r.d.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED:return{icon:Ho.faExclamationCircle,color:"secondary_3"};default:return{icon:qo.faCircleNotch,color:"primary_2"}}}),[t]),c=o.icon,i=o.color;return Object(s.jsx)(ie.a,Object(_.a)({icon:c,color:i,fontSize:"16px",spin:t===r.d.IN_PROGRESS},n))}var zo=n(45),Yo=n.n(zo),Wo=n(152),Ko=Yo()().utcOffset()/60,Qo=function(e){return Yo()().hours(e).minutes(0).seconds(0).format("LT")},Xo=function(e){return e<0?24+e:e>=24?e-24:e},$o=Object(A.a)(Array(24).keys()).map((function(e){return{value:Xo(e-Ko),label:Qo(e)}}));function Zo(e){var t=e.onClose;return Object(s.jsxs)(H.Flex,{flexDirection:"column",style:{textAlign:"left",width:"580px",color:"black"},children:[Object(s.jsxs)(H.Flex,{flexDirection:"column",px:6,children:[Object(s.jsx)(H.Box,{py:5,children:"To run an evaluation and view intent insights, run the following command in your project directory:"}),Object(s.jsx)(Wo.a,{fullSize:!0,children:"rasa test nlu --cross-validation"}),Object(s.jsxs)(H.Box,{py:5,children:["In server mode, evaluations run automatically every 24 hours."," ",Object(s.jsx)(H.Box,{as:"a",color:"primary_1",target:"_blank",href:"https://rasa.com/docs/rasa-x/installation-and-setup/installation-guide#server-quick-install",children:"Learn more about how to deploy Rasa X in server mode"})]})]}),Object(s.jsx)(H.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(s.jsx)(H.Flex,{px:4,py:3,flexDirection:"row-reverse",justifyContent:"space-between",children:Object(s.jsx)(B.a,{large:!0,onClick:function(){return t&&t()},children:"Done"})})})]})}function Jo(e){var t=e.status,n=e.reports,o=e.config,c=e.onUpdateInsightCalculationConfig,i=e.onRunInsightCalculation,l=e.onDownloadNLUReports,u=e.onClose,d=a.useMemo((function(){if(o){var e=o.schedule.split(" ");if(!(e.length<2)){var t=parseInt(e[1]);return{value:t,label:Qo(Xo(t+Ko))}}}}),[o]),b=a.useMemo((function(){if(t===r.d.IN_PROGRESS&&n.active){var e=Yo()(1e3*n.active.started_at).format("LT");return Object(s.jsxs)(Y.a,{color:"black",children:["Last evaluation ",Object(s.jsxs)(Y.a,{as:"span",sx:{display:"inline",fontWeight:"bold"},children:["started at ",e," and still in progress."]})]})}if(n.latestSuccessful&&n.latestSuccessful.finished_at){var a=Yo()(1e3*n.latestSuccessful.started_at),o=Yo()(1e3*n.latestSuccessful.finished_at),c=a.format("on LL"),i=o.format("on LL"),l=Object(s.jsxs)(Y.a,{as:"span",sx:{display:"inline",fontWeight:"bold"},children:["started at ",a.format("LT"),c===i?" ":c+" ","and ended at ",o.format("LT")," ",i,"."]});return t===r.d.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED?Object(s.jsxs)(Y.a,{color:"black",children:["The last evaluation failed due to an error. The previous evaluation ",l," Since then some changes were made to the assistant."]}):t===r.d.LATEST_FAILED_AND_RESULTS_ARE_OK?Object(s.jsxs)(Y.a,{color:"black",children:["The last evaluation failed due to an error. The previous evaluation ",l," Since then no changes were made to the assistant and the evaluations are up to date."]}):t===r.d.OK?Object(s.jsxs)(Y.a,{color:"black",children:["The insights on this screen are up to date. Last evaluation ",l," Since then no changes were made to the assistant."]}):Object(s.jsxs)(Y.a,{color:"black",children:["The insights on this screen are not up to date. Last evaluation ",l," Since then some changes were made to the assistant"]})}return t===r.d.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED?Object(s.jsx)(Y.a,{color:"black",children:"Last evaluation failed due to an error."}):Object(s.jsx)(Y.a,{color:"black",children:"The insights have not been calculated yet."})}),[t,n]),f=a.useMemo((function(){return t===r.d.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED||t===r.d.LATEST_FAILED_AND_RESULTS_ARE_OK?"Download results from previous evaluation":"Download full evaluation results"}),[t]);return Object(s.jsxs)(H.Flex,{flexDirection:"column",style:{textAlign:"left",width:"580px"},children:[Object(s.jsx)(H.Flex,{flexDirection:"column",px:6,pt:5,pb:2,children:Object(s.jsx)(H.Flex,{flexDirection:"column",children:Object(s.jsx)(go.a,{text:"Evaluations are scheduled to run daily at",children:Object(s.jsx)(qr.a,{fullWidth:!0,items:$o,value:d,onChange:function(e){if(o&&e){var t="0 "+e.value+" * * *";c(Object(_.a)(Object(_.a)({},o),{},{calculator_configuration:o.calculator_configuration||{},schedule:t}))}}})})})}),Object(s.jsxs)(H.Flex,{py:5,px:5,sx:{backgroundColor:"neutral_1",borderRadius:"0",flexDirection:"column"},children:[Object(s.jsxs)(H.Flex,{children:[Object(s.jsx)(Vo,{status:t,mr:2,mt:"2px"}),b]}),n.latestSuccessful&&Object(s.jsxs)(H.Flex,{onClick:function(){var e;(null===(e=n.latestSuccessful)||void 0===e?void 0:e.id)&&l(n.latestSuccessful.id)},mt:4,sx:{color:"primary_1",fontWeight:"bold",cursor:"pointer"},children:[Object(s.jsx)(ie.a,{icon:Do.faArrowToBottom,color:"primary_1",fontSize:"16px",mt:"2px",mr:2}),f]})]}),Object(s.jsx)(H.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(s.jsxs)(H.Flex,{px:4,py:3,flexDirection:"row-reverse",justifyContent:"space-between",children:[Object(s.jsx)(B.a,{large:!0,onClick:function(){return u&&u()},children:"Done"}),Object(s.jsx)(B.a,{large:!0,disabled:t===r.d.IN_PROGRESS,onClick:function(){i(),u&&u()},children:"Run evaluation now"})]})})]})}function ec(e){return Object(R.j)()?Object(s.jsx)(Jo,Object(_.a)({},e)):Object(s.jsx)(Zo,Object(_.a)({},e))}function tc(e){var t=e.children,n=e.status,r=e.reports,a=e.config,o=e.onUpdateInsightCalculationConfig,c=e.onRunInsightCalculation,i=e.onDownloadNLUReports,l=e.onClose,u=e.offset,d=e.visible,b=Object(V.a)(e,["children","status","reports","config","onUpdateInsightCalculationConfig","onRunInsightCalculation","onDownloadNLUReports","onClose","offset","visible"]);return Object(s.jsx)(ba.a,{content:Object(s.jsx)(ec,Object(_.a)({status:n,reports:r,config:a,onUpdateInsightCalculationConfig:o,onRunInsightCalculation:c,onDownloadNLUReports:i,onClose:l},b)),title:Object(s.jsx)(z.a,{variant:"h2",children:"Run Evaluations"}),offset:u,visible:d,onClose:l,onClickOutside:function(){},children:t})}function nc(e){var t=e.outdatedResults,n=e.reports,o=e.config,c=e.onUpdateInsightCalculationConfig,i=e.onRunInsightCalculation,l=e.onDownloadNLUReports,u=e.showModal,d=e.setShowModal,b=a.useMemo((function(){return n.active||n.latestSuccessful||n.latestNonSuccessful?n.active||n.latestSuccessful||!n.latestNonSuccessful?n.active?r.d.IN_PROGRESS:n.latestNonSuccessful?(null===(e=n.latestSuccessful)||void 0===e?void 0:e.finished_at)&&n.latestNonSuccessful.finished_at&&n.latestSuccessful.finished_at>n.latestNonSuccessful.finished_at?r.d.OK:t?r.d.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED:r.d.LATEST_FAILED_AND_RESULTS_ARE_OK:t?r.d.OUTDATED:r.d.OK:r.d.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED:r.d.NOT_CALCULATED_YET;var e}),[t,n]),f=a.useMemo((function(){switch(b){case r.d.OK:return"Evaluations are up to date";case r.d.OUTDATED:case r.d.NOT_CALCULATED_YET:return"Evaluations are not up to date";case r.d.LATEST_FAILED_AND_RESULTS_ARE_OK:case r.d.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED:return"Latest evaluation failed";default:return"Evaluations in progress"}}),[b]);return Object(s.jsx)(tc,{status:b,reports:n,config:o,onUpdateInsightCalculationConfig:c,onRunInsightCalculation:i,onDownloadNLUReports:l,visible:u,offset:[0,8],onClose:function(){return d(!1)},children:Object(s.jsxs)(H.Flex,{flexDirection:"row",sx:{height:"72px",width:"340px",cursor:"pointer",justifyContent:"space-between",alignItems:"center"},px:3,onClick:function(){d((function(e){return!e}))},children:[Object(s.jsxs)(H.Flex,{alignItems:"center",children:[Object(s.jsx)(Vo,{status:b,mr:"12px"}),Object(s.jsx)(Y.a,{variant:"bodySecondary",children:f})]}),Object(s.jsx)(B.a,{variant:"plainIcon",onClick:function(){},children:Object(s.jsx)(ie.a,{color:"neutral_7",fontSize:"12px",icon:Po.faChevronDown})})]})})}var rc=n(1137),ac=n(2270),oc=n(171),cc=n(105);function ic(e){var t=e.isSearch,n=e.insightsLoading,r=e.modelsLoading,o=e.evaluationRunning,c=e.onShowModal;return o?Object(s.jsx)(cc.a,{mt:20,children:"Evaluating intents"}):n?Object(s.jsx)(cc.a,{mt:20,children:"Loading intent insights"}):Object(s.jsx)(qe,{heading:t?"There are no intent insights for this search":"There are no intent insights yet",imageWidth:125,pb:5,image:Ge,body:Object(s.jsxs)(a.Fragment,{children:[t&&"Try a different search query.",!t&&"Once an evaluation is completed, the results will appear here."]}),actions:Object(s.jsx)(a.Fragment,{children:!t&&!r&&Object(s.jsx)(B.a,{large:!0,disabled:n,onClick:function(){return c((function(e){return!e}))},children:"Run evaluation"})})})}var sc=function(e){return e/18*100+"%"};function lc(e){var t=e.title,n=e.columnKey,r=e.sortBy,a=e.onArrowClick,o=r===n;return Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",sx:{textAlign:"right"},children:[Object(s.jsx)(H.Box,{sx:{width:28,textAlign:"center",cursor:"pointer"},onClick:function(){return a(o?void 0:n)},children:Object(s.jsx)(ie.a,{color:o?"primary_1":"neutral_4",icon:rc.faLongArrowDown,fontSize:"16px",mr:"12px",ml:1})}),Object(s.jsx)(H.Box,{children:t})]})}function uc(e){var t=e.children,n=e.paddingRight;return Object(s.jsx)(H.Box,{sx:{textAlign:"right",paddingRight:n||28},children:t})}function dc(e){var t=e.value;e.threshold;return Object(s.jsx)(H.Box,{as:"span",px:2,py:1,sx:t<=.5?{backgroundColor:"secondary_4",color:"secondary_1",borderRadius:"8px"}:{},children:t.toFixed(2)})}function bc(e){var t=e.intentInsights,n=a.useMemo((function(){return t.map((function(e){switch(e.source){case"MinimumExampleInsightCalculator":return"Not enough examples";case"ConfusionInsightCalculator":if(!e.details.confusions)break;var t=Object.keys(e.details.confusions);return t.length<=3?"Confused with "+t.join(", "):"Confused multiple times";case"ClassBiasInsightCalculator":return"Possible bias";case"WrongAnnotationInsightCalculator":if(e.details.number_of_wrong_classifications)return"Misclassified ".concat(e.details.number_of_wrong_classifications," times");break;case"NLUInboxConfidenceInsightCalculator":return"Low confidence"}return""}))}),[t]);return Object(s.jsx)(ac.a,{items:n,limit:1})}function fc(e){var t=e.intent,n=e.intentInsights,r=e.onNavigate,o=a.useMemo((function(){if(0===n.length)return null;switch(n[0].source){case"MinimumExampleInsightCalculator":case"NLUInboxConfidenceInsightCalculator":default:return{link:"/nlu-inbox?filter=intents%3A"+t,text:"Annotate more examples"};case"ConfusionInsightCalculator":return{link:"/data/training-data?filter=intents%3A"+t,text:"Review training data for intent"};case"ClassBiasInsightCalculator":return{link:"/data/training-data?filter=intents%3A"+t,text:"Reduce training examples"};case"WrongAnnotationInsightCalculator":return{link:"/data/training-data?filter=intents%3A"+t,text:"Verify annotations"}}}),[n,t]);return o?Object(s.jsx)(B.a,{as:"a",variant:"link",onClick:function(){return r(o.link)},children:o.text}):Object(s.jsx)(Y.a,{children:"-"})}function pc(e){var t=e.activeModel,n=e.evaluationRunning,r=e.insightsLoading,a=e.loadMore,o=e.modelsLoading,c=e.nluEvaluationResults,i=e.onColumnSortClick,l=e.onNavigate,u=e.onRunInsightCalculation,d=e.onSearch,b=e.onShowModal,f=e.pageSize,p=e.searchQuery,j=e.sortBy,h=e.total;return Object(s.jsx)(oc.a,{children:Object(s.jsxs)(H.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[Object(s.jsx)(De.a,{count:0,query:p,label:function(e){return"Search intents..."},onChange:d,onReturn:d}),Object(s.jsx)(H.Card,{bg:"neutral_0",p:0,sx:{height:"100%",overflow:"hidden",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"},children:c&&c.length>0?Object(s.jsxs)(yo.a,{variant:"flattened",highlight:-1,setHighlightedRow:function(){},onLoadMore:a,rows:c,total:h,rowStyle:{gap:"24px"},pageSize:f,stripeSelection:!0,children:[Object(s.jsx)(Co.a,{title:"Intent",width:sc(4),children:function(e){return e.intent_name}}),Object(s.jsx)(Co.a,{title:Object(s.jsx)(lc,{columnKey:"number_of_training_examples",sortBy:j,onArrowClick:i,title:"Training examples"}),width:sc(2),children:function(e){return Object(s.jsx)(uc,{children:e.number_of_training_examples||0})}}),Object(s.jsx)(Co.a,{title:Object(s.jsx)(lc,{columnKey:"precision",sortBy:j,onArrowClick:i,title:"Precision"}),width:sc(2),children:function(e){return Object(s.jsx)(uc,{paddingRight:"20px",children:Object(s.jsx)(dc,{threshold:.5,value:e.precision})})}}),Object(s.jsx)(Co.a,{title:Object(s.jsx)(lc,{columnKey:"recall",sortBy:j,onArrowClick:i,title:"Recall"}),width:sc(2),children:function(e){return Object(s.jsx)(uc,{paddingRight:"20px",children:Object(s.jsx)(dc,{threshold:.5,value:e.recall})})}}),Object(s.jsx)(Co.a,{title:"Warnings",width:sc(4),children:function(e){return Object(s.jsx)(bc,{intentInsights:e.intent_insights})}}),Object(s.jsx)(Co.a,{title:"Suggestions",width:sc(4),children:function(e){return Object(s.jsx)(fc,{intent:e.intent_name,intentInsights:e.intent_insights,onNavigate:l})}})]}):Object(s.jsx)(ic,{activeModel:t,isSearch:p.length>0,onRunClick:u,insightsLoading:r,evaluationRunning:n,modelsLoading:o,onShowModal:b})})]})})}function jc(e){var t=e.onShowModal,n=Object(m.d)((function(e){return Mo(e.models)})),o=Object(m.d)((function(e){return e.insights.error})),c=Object(m.d)((function(e){return e.insights.loading["fetchLatestNLUInsightReports_"+r.e.IN_PROGRESS]||e.insights.loading["fetchLatestNLUInsightReports_"+r.e.SUCCESS]||e.insights.loading["fetchLatestNLUInsightReports_"+r.e.FAILURE]||e.insights.loading.fetchNLUEvaluationResults})),i=Object(m.d)((function(e){return e.models.loading.models})),l=Object(m.d)((function(e){return e.insights.reports})),u=Object(m.d)((function(e){return e.insights.results})),d=Object(m.d)((function(e){return e.insights.searchQuery})),b=Object(m.d)((function(e){return e.insights.sortBy})),f=Object(m.d)((function(e){return e.insights.total})),p=Object(m.c)(),j=a.useCallback((function(){return p(Bo.k.request())}),[p]),h=a.useCallback((function(e){return p(Bo.m(e))}),[p]),O=a.useCallback((function(e){return p(Bo.n(e))}),[p]),x=a.useCallback((function(e){return p(Bo.a(e))}),[p]),g=a.useCallback((function(e){return p(Bo.e.request(e))}),[p]),v=Object(y.h)().push;a.useEffect((function(){p(Oo.g.request({search:"",offset:0,limit:1,tag:"production"})),p(Bo.d.request({status:r.e.IN_PROGRESS})),p(Bo.d.request({status:r.e.SUCCESS})),p(Bo.d.request({status:r.e.FAILURE})),p(Bo.h.request())}),[p]),a.useEffect((function(){l.latestSuccessful&&l.latestSuccessful.id&&g({reportId:l.latestSuccessful.id,search:d,offset:0,limit:50,sortBy:b})}),[g,l,d,b]);var C=a.useCallback((function(e){l.latestSuccessful&&l.latestSuccessful.id&&g({reportId:l.latestSuccessful.id,search:d,offset:Math.max(1,e-50),limit:e,sortBy:b})}),[g,l,d,b]),S=me().addToast;return a.useEffect((function(){Object.entries(o).forEach((function(e){var t=Object(F.a)(e,2),n=t[0],r=t[1];if(r){var a,o,c="runInsightCalculation"===n?"Intent insights evaluation run failed":"Something went wrong",i=null===(a=r.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message,s=i||r.message;S({head:c,content:s,variant:"error",timeout:-1}),x(n)}}))}),[o,x,S]),Object(s.jsx)(H.Box,{height:"calc(100% - 54px)",width:"100%",children:Object(s.jsx)(pc,{nluEvaluationResults:u,activeModel:n,total:f,insightsLoading:c,modelsLoading:i,evaluationRunning:void 0!==l.active,searchQuery:d,sortBy:b,onSearch:h,onColumnSortClick:O,onRunInsightCalculation:j,loadMore:C,pageSize:50,onShowModal:t,onNavigate:v})})}var hc=n(210),Oc=n(335),xc=Object(u.a)((function(){return Promise.all([n.e(0),n.e(4),n.e(7)]).then(n.bind(null,2578))}),{fallback:Object(s.jsx)(cc.a,{pt:7,children:"Loading Scorecard"})});function gc(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.models.loading.models})),n=Object(m.d)((function(e){return e.insights.reports})),r=Object(m.d)((function(e){return Mo(e.models)})),a=Object(m.d)((function(e){return e.insights.config})),c=o.a.useCallback((function(t){return e(Bo.j.request(t))}),[e]),i=o.a.useCallback((function(){return e(Bo.k.request())}),[e]),l=o.a.useCallback((function(t){return e(Bo.b(t))}),[e]),u=o.a.useCallback((function(){return e(Bo.c())}),[e]),d=Object(y.h)().push,b=Object(y.i)(),f=Object(y.k)().url,j=b&&b.pathname,h={intents:No()(f,"intents"),scorecard:No()(f,"scorecard")},O={intents:!!Object(y.g)(j,{path:[f,h.intents],exact:!0}),scorecard:!!Object(y.g)(j,{path:h.scorecard})},x=Object(R.b)(),g=x?Object(s.jsxs)(Oc.a,{children:[Object(s.jsx)(hc.a,{onClick:function(){return d(h.intents)},active:O.intents,children:"Intents"}),Object(s.jsx)(hc.a,{onClick:function(){return d(h.scorecard)},active:O.scorecard,"aria-label":"Readiness Scorecard",children:"Readiness Scorecard"})]}):null,v=o.a.useState(!1),C=Object(F.a)(v,2),S=C[0],w=C[1],E=o.a.useMemo((function(){return!!r&&(!n.latestSuccessful||r.trained_at>=n.latestSuccessful.started_at)}),[r,n]),k=o.a.useCallback((function(e){return Object(s.jsx)(jc,Object(_.a)({onShowModal:w},e))}),[]),T=Object(p.b)("Download scorecard"),A=o.a.useMemo((function(){return O.scorecard?Object(s.jsx)(B.a,{onClick:u,variant:"headerIcon",large:!0,ref:T,mr:2,children:Object(s.jsx)(ie.a,{icon:Do.faArrowToBottom})}):t?Object(s.jsx)(cc.a,{delay:200,children:"Loading models"}):Object(s.jsx)(nc,{outdatedResults:E,reports:n,config:a,onUpdateInsightCalculationConfig:c,onRunInsightCalculation:i,onDownloadNLUReports:l,showModal:S,setShowModal:w})}),[u,T,O.scorecard,E,n,a,c,i,l,S,w,t]);return Object(s.jsxs)(Ee.a,{title:x?"Insights":"Intent Insights",centreContent:g,rightContent:Object(s.jsx)(Io.a,{left:!0,children:A}),scrollable:!0,children:[Object(s.jsx)(y.c,{exact:!0,path:f,component:k}),Object(s.jsx)(y.c,{exact:!0,path:h.intents,component:k}),Object(s.jsx)(y.c,{exact:!0,path:h.scorecard,component:xc})]})}var vc=n(174),mc=n(27),yc=Object(l.default)(H.Box).withConfig({displayName:"Error",componentId:"gbq76s-0"})([""," font-weight:bold;"],se.textAlign);yc.defaultProps={color:"secondary_1"},yc.displayName="Error";var Cc=a.memo(yc);function Sc(e){var t=e.collectOldPassword,n=e.onChangePassword,r=e.onCancel,o=e.confirmButtonText,c=e.confirmButtonVariant,i=void 0===c?"primary":c,l=a.useState(""),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useState(""),p=Object(F.a)(f,2),j=p[0],h=p[1],O=a.useState(""),x=Object(F.a)(O,2),g=x[0],v=x[1],m=function(){n({oldPassword:g,newPassword:d,newPasswordConfirm:j})},y=d!==j?"Passwords do not match":d.length<8?"Your password must be at least 8 characters long":null;return Object(s.jsxs)(U.a,{children:[t&&Object(s.jsx)(U.a,{children:Object(s.jsx)(Pr.a,{fullWidth:!0,type:"password",name:"password",placeholder:"Current password",onChangeValue:function(e){return v(e)},value:g,mb:2,onReturn:m,py:"13px",large:!0})}),Object(s.jsx)(U.a,{children:Object(s.jsx)(Pr.a,{fullWidth:!0,type:"password",name:"password",placeholder:"Set a ".concat(t?"new ":"","password"),onChangeValue:function(e){return b(e)},value:d,mb:2,onReturn:m,py:"13px",large:!0})}),Object(s.jsx)(U.a,{children:Object(s.jsx)(Pr.a,{fullWidth:!0,placeholder:"Re-enter ".concat(t?"new ":"","password"),name:"confirmPassword",type:"password",onChangeValue:function(e){return h(e)},value:j,mb:3,onReturn:m,py:"13px",large:!0})}),Object(s.jsxs)(U.d,{flexDirection:"row-reverse",mr:-1,children:[Object(s.jsx)(B.a,{mx:1,name:"submit",variant:i,width:"login"===i?"100%":void 0,onClick:m,disabled:null!==y,large:"login"===i,children:o}),r&&Object(s.jsx)(B.a,{mx:1,variant:"secondary",onClick:r,children:"Close"})]}),j.length>0&&y&&Object(s.jsx)(Cc,{mt:3,textAlign:"center",children:y})]})}var wc=function(){return(wc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ec=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function kc(e){var t=e.block,n=e.variant,r=void 0===n?"primary":n,a=e.fullBleed,o=void 0!==a&&a,c=Ec(e,["block","variant","fullBleed"]);return Object(s.jsx)(U.d,wc({sx:{m:o?0:3,px:3,py:"12px",fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:t?0:"normal"}},c,{variant:"alert."+r}),void 0)}var Tc=n.p+"static/media/rasa_horizontal_logo_white.1b703445.svg";function Ac(e){var t=e.children,n=e.error,r=Object(R.b)();return Object(s.jsxs)(U.d,{bg:"neutral_3",alignItems:"center",justifyContent:"center",style:{height:"100%"},children:[n&&n.message&&Object(s.jsx)(U.a,{sx:{position:"absolute",top:0,left:0,width:"100%"},children:Object(s.jsx)(kc,{variant:"error",p:0,m:0,block:!0,py:"14px",children:Object(s.jsx)(Y.a,{variant:"bodySecondary",inheritColor:!0,textAlign:"center",width:1,children:n.message})})}),Object(s.jsx)(U.a,{flex:"0 1 1000px",sx:{borderRadius:"large",boxShadow:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",overflow:"hidden",height:"472px"},children:Object(s.jsxs)(U.d,{style:{height:"100%"},children:[Object(s.jsx)(U.a,{sx:{backgroundImage:Object(se.get)(h.b,"gradients.primary_1")},width:.5,p:11,pt:9,children:Object(s.jsxs)(U.d,{flexDirection:"column",style:{maxWidth:"300px",height:"100%"},children:[Object(s.jsx)(Pe,{width:"77px",src:Tc,alt:"Rasa Logo",mb:5}),Object(s.jsx)(U.a,{flex:"1"}),Object(s.jsxs)(z.a,{variant:"h1",sx:{color:"neutral_0",fontSize:30,lineHeight:"large",letterSpacing:3,mb:4},children:["Rasa ",r?"Enterprise":"X"]}),Object(s.jsx)(Y.a,{sx:{color:"neutral_0",lineHeight:"big"},children:"Build, improve, and deploy assistants powered by Rasa Open Source."})]})}),Object(s.jsx)(U.d,{bg:"neutral_0",width:.5,px:11,py:9,justifyContent:"center",flexDirection:"column",children:t})]})})]})}function _c(e){var t,n=e.redirectTo,r=Object(m.d)((function(e){return e.auth.permissions})),o=Object(m.d)((function(e){return e.models.environmentsHealth})),c=Object(a.useMemo)((function(){var e;return n||(200===(null===o||void 0===o||null===(e=o.worker)||void 0===e?void 0:e.status)&&r&&-1!==r.findIndex((function(e){var t=e.resource,n=e.action;return t===Te.d.Insights&&n===Te.a.Read}))||r&&-1!==r.findIndex((function(e){var t=e.resource,n=e.action;return t===Te.d.Metadata&&n===Te.a.Read}))?"/insights":"/interactive")}),[r,null===o||void 0===o||null===(t=o.worker)||void 0===t?void 0:t.status,n]);return Object(s.jsx)(y.b,{to:c})}var Fc=n.p+"static/media/SaraWithMagnifyingGlassTransparentBackground.6f916c95.svg";function Rc(){return Object(s.jsx)(U.d,{flexDirection:"column",bg:"neutral_3",sx:{height:"100%"},justifyContent:"space-around",alignItems:"center",children:Object(s.jsxs)(U.a,{textAlign:"center",children:[Object(s.jsx)(Pe,{mb:3,src:Fc}),Object(s.jsx)(Y.a,{mb:2,variant:"bodySecondary",fontWeight:"bold",children:"You do not have access to Rasa Enterprise."}),Object(s.jsx)(Y.a,{variant:"captionSecondary",children:"Please contact your admin."})]})})}function Dc(){var e=Object(R.h)("token"),t=Object(m.c)(),n=Object(m.d)((function(e){return e.auth.inviteError})),r=Object(m.d)((function(e){return e.auth.username})),o=Object(m.d)((function(e){return e.auth.fullname})),c=Object(m.d)((function(e){return e.auth.inviteUser}));Object(a.useEffect)((function(){t(vc.a.request({skipExternal:!0}))}),[t]),Object(a.useEffect)((function(){e&&t(mc.h.request(e))}),[e,t]);var i=Object(a.useCallback)((function(e){var n=e.newPassword,a=e.newPasswordConfirm;return r&&t(mc.a.request({username:r,newPassword:n,newPasswordConfirm:a}))}),[t,r]);return n||c||!r?null!==n?Object(s.jsx)(Rc,{}):Object(s.jsxs)(Ac,{children:[Object(s.jsxs)(z.a,{fontSize:5,variant:"h3",mb:2,letterSpacing:2,color:"neutral_8",children:["Welcome",o?", ".concat(o):"","!"]}),Object(s.jsxs)(Y.a,{variant:"bodySecondary",mb:3,sx:{display:"block"},children:["You have been invited to Rasa Enterprise. Your username is"," ",Object(s.jsx)("b",{children:r||"still loading..."}),". Register to continue."]}),Object(s.jsx)("input",{type:"hidden",name:"username",value:r||""}),Object(s.jsx)(Sc,{onChangePassword:i,confirmButtonText:"Register",confirmButtonVariant:"login"})]}):Object(s.jsx)(_c,{})}var Ic=n(2246),Lc=n(1138),Nc=n.n(Lc);function Bc(e){var t=e.match,n=e.location,r=Object(y.h)().push,o=Object(m.c)(),c=Object(m.d)((function(e){return Nc()(e.auth,"error","username","newEnterpriseUser","enterpriseUser","role","enterprise")})),i=c.error,l=c.username,u=c.newEnterpriseUser,d=c.enterpriseUser,b=c.role,f=Object(R.b)();a.useEffect((function(){o(vc.a.request({skipExternal:!0}))}),[o]);var p=t.params.singleUseToken,j=a.useState(""),h=Object(F.a)(j,2),O=h[0],x=h[1],g=a.useState(""),v=Object(F.a)(g,2),C=v[0],S=v[1],w=a.useMemo((function(){return new URLSearchParams(n.search)}),[n]);a.useEffect((function(){var e=w.get("username"),t=w.get("password");e&&x(e),t&&S(t),e&&t&&o(mc.g.request({username:e,password:t}))}),[o,w]),a.useEffect((function(){p&&o(mc.c.request({singleUseToken:p}))}),[p,o]);var E=w.get("redirectTo"),k=function(){return o(mc.g.request({username:O,password:C}))},T=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(z.a,{fontSize:5,variant:"h3",mb:2,letterSpacing:2,color:"neutral_8",children:"Welcome !"}),Object(s.jsx)(Y.a,{variant:"bodySecondary",mb:3,sx:{display:"block"},children:"Sign in to continue perfecting your bot!"}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(Pr.a,{fullWidth:!0,type:"text",name:"username","data-qa":"login-username-field_input",placeholder:"Username",onChangeValue:function(e){return x(e)},value:O,mb:2,onReturn:k,py:"13px",large:!0})}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(Pr.a,{fullWidth:!0,placeholder:"Password",name:"password","data-qa":"login-password-field_input",type:"password",onChangeValue:function(e){return S(e)},value:C,mb:3,onReturn:k,py:"13px",large:!0})}),Object(s.jsx)(B.a,{variant:"login","data-qa":"login-sign-in_button",width:"100%",onClick:k,large:!0,children:"Sign in"}),f&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ic.a,{my:3,children:Object(s.jsx)(Y.a,{variant:"bodySecondary",children:"OR"})}),Object(s.jsx)(B.a,{variant:"login",width:"100%",onClick:function(){return o(mc.e.request())},large:!0,children:"I have an enterprise ID"})]})]}),A=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(z.a,{fontSize:5,variant:"h3",mb:3,letterSpacing:2,color:"neutral_8",children:"It seems like it's your first time!"}),Object(s.jsx)(Y.a,{variant:"bodySecondary",mb:2,sx:{display:"block"},children:"Set a new username for yourself"}),Object(s.jsx)(Pr.a,{fullWidth:!0,name:"username",placeholder:"Username",onChangeValue:function(e){return x(e)},value:O,mb:3,onReturn:function(){return o(mc.b.request({username:O}))},py:"13px"})]}),_=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Y.a,{variant:"bodySecondary",mb:4,sx:{display:"block"},children:["Your current role is ",Object(s.jsxs)("strong",{children:["\u201c",b,"\u201d"]}),". For any further permissions, please contact your Admin."]}),Object(s.jsx)(B.a,{variant:"primary",width:"100%",onClick:function(){return r("/conversations")},large:!0,children:"Go to platform"})]}),D=Object(s.jsx)(Y.a,{variant:"bodySecondary",sx:{display:"block"},children:"You have not been assigned permissions. Please contact your Admin to continue."}),I=Object(s.jsx)(B.a,{variant:"login",width:"100%",onClick:function(){return o(mc.b.request({username:O}))},large:!0,children:"CONTINUE"});return Object(s.jsx)(Ac,{error:i,children:!p&&b&&b.length>0&&b[0]!==Te.c?Object(s.jsx)(_c,{redirectTo:E}):(d||u)&&p?Object(s.jsxs)(s.Fragment,{children:[u&&A,l?Object(s.jsx)(s.Fragment,{children:b&&b.length>0&&b[0]!==Te.c?d?Object(s.jsx)(_c,{}):_:D}):I]}):T})}var Uc=n(258),Mc=n(1141),Pc=n(567),qc=n(39),Hc=n(19),Gc=n.p+"static/media/SaraInGlassBoxes.00beeda6.svg",Vc=n(250);function zc(e){var t=e.style,n=e.ml,r=void 0===n?2:n,a=e.color,o=void 0===a?"neutral_6":a,c=Object(V.a)(e,["style","ml","color"]);return Object(s.jsx)(H.Box,{ml:r,style:t,children:Object(s.jsx)(Mr.a,Object(_.a)(Object(_.a)({},c),{},{children:Object(s.jsx)(ie.a,{color:o,icon:Vc.faInfoCircle})}))})}zc.defaultProps={interactive:!0,px:4,py:3};var Yc=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function Wc(e){var t=e.environment,n=e.environments,r=e.chatToken,o=e.onClose,c=e.onFetchChatToken,i=a.useMemo((function(){return n.find((function(e){return e.name===t}))||{name:t,url:"",token:""}}),[t,n]),l=a.useState(i),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useState(""),p=Object(F.a)(f,2),j=p[0],h=p[1],O=a.useState(""),x=Object(F.a)(O,2),g=x[0],v=x[1],m=me().addToast;a.useEffect((function(){b((function(e){return""!==e.url?e:i||e}))}),[i,b]);var y=a.useMemo((function(){return n.filter((function(e){return![d.name,"worker"].includes(e.name)})).map((function(e){return{value:e,label:Yc(e.name)}}))}),[n,d]),C=a.useCallback((function(e){return e&&!Array.isArray(e)&&b(e.value)}),[b]),S=a.useCallback((function(){c({botName:j,description:g})}),[j,g,c]),w=a.useCallback((function(){/localhost|127\.0\.0\.1|::1|\.local|^$/i.test(window.location.hostname)&&m({head:"Link contains \u201clocalhost\u201d",key:"generatedLocalhostLink",content:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(H.Box,{as:"a",color:"neutral_0",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#share-your-bot-deployment",target:"_blank",children:"View docs"})," ","on how to make this local instance accessible."]})})}),[m]);return Object(s.jsxs)(H.Flex,{flexDirection:"column",children:[Object(s.jsxs)(H.Flex,{"data-e2e":"ShareBotDialogue",flexDirection:"column",px:6,py:5,style:{textAlign:"left",width:"580px"},"data-qa":"share-bot-popup_div",children:[y.length>0&&Object(s.jsx)(H.Flex,{mb:4,flexDirection:"column",children:Object(s.jsx)(go.a,{text:"Environment to be tested",children:Object(s.jsx)(qr.a,{placeholder:"Select the environment guest testers should be able to access",onChange:C,value:{value:d,label:Yc(d.name)},items:y})})}),Object(s.jsx)(H.Flex,{mb:4,flexDirection:"column",children:Object(s.jsx)(go.a,{text:"Assistant's Details",children:Object(s.jsx)(Pr.a,{value:j,onChangeValue:function(e){return h(e)},placeholder:"Enter a name for your bot that your testers should see...",fullWidth:!0})})}),Object(s.jsx)(H.Flex,{flexDirection:"column",children:Object(s.jsx)(go.a,{text:Object(s.jsxs)(H.Flex,{alignItems:"center",sx:{cursor:"default"},children:["Description",Object(s.jsx)(zc,{ml:1,content:"A description of your assistant, that your testers should see."})]}),children:Object(s.jsx)(H.Box,{sx:{height:r?"64px":"160px"},children:Object(s.jsx)(Pr.a,{textarea:!0,characterLimit:255,value:g,onChangeValue:function(e){return v(e)},placeholder:"Enter a description of your assistant that you'd like your testers to see...",fullWidth:!0,fullHeight:!0})})})}),r&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(H.Flex,{mt:4,flexDirection:"column",children:Object(s.jsx)(go.a,{text:"Share this link with any guest users",children:Object(s.jsxs)(Wo.a,{fullSize:!0,onCopy:w,children:[Ce.a,"/guest/conversations/",d.name,"/",r]})})})}),Object(s.jsx)(kc,{variant:"generic",m:0,py:"14px",mt:4,children:Object(s.jsxs)(Y.a,{variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[Object(s.jsx)(H.Box,{as:"strong",children:"Note:"})," Remember to use an incognito browser to be able to test the link yourself."]})})]}),Object(s.jsx)(H.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(s.jsxs)(H.Flex,{px:4,py:3,flexDirection:"row-reverse",children:[Object(s.jsx)(B.a,{"data-e2e":"Button--Generate-Link",onClick:S,large:!0,ml:2,children:"Generate link"}),Object(s.jsx)(B.a,{large:!0,variant:"secondary",onClick:function(){return o&&o()},children:"Cancel"})]})})]})}function Kc(e){var t=e.children,n=e.offset,r=e.onClose,a=e.visible,o=Object(V.a)(e,["children","offset","onClose","visible"]);return Object(s.jsx)(ba.a,{content:Object(s.jsx)(Wc,Object(_.a)({onClose:r},o)),title:Object(s.jsx)(z.a,{variant:"h2",children:"Share your assistant with Guest Testers"}),offset:n,visible:a,onClose:r,children:t})}var Qc=n(528);function Xc(e){var t=e.onClearSelection,n=e.onDelete,r=e.total;return Object(s.jsx)(Qc.a,{top:0,label:"model selected",pluralLabel:"models selected",total:r,onClearSelection:t,children:Object(s.jsx)(B.a,{onClick:function(){return n()},variant:"inverse",children:"Delete"})})}var $c=n(1140),Zc=n(1139),Jc=n(2247);function ei(e){var t=e.children,n=e.name,r=e.title,a=e.content,o=e.links,c=e.actions,i=Object(V.a)(e,["children","name","title","content","links","actions"]),l=te(),u=l.onboardingShown,d=l.currentOnboardingHint,b=l.setOnboardingShown,f=l.setCurrentOnboardingHint;return d?Object(s.jsx)(W.a,Object(_.a)(Object(_.a)({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",p:4,heading:r&&Object(s.jsx)(z.a,{width:"min-content",flex:1,variant:"h2",inheritColor:!0,mb:"12px","data-qa":"onboarding-hint-title_h2",children:r}),textAlign:"left",visible:d===n,disabled:!u,interactive:!0,placement:"bottom-end",onHide:function(){d===n&&(f(null),b(!1))},onCloseClick:function(){f(null),b(!1)},content:Object(s.jsxs)(H.Box,{sx:{width:"352px",boxSizing:"content-box"},children:[Object(s.jsxs)(H.Box,{pr:5,children:[Object(s.jsx)(Y.a,{color:"neutral_0",as:"div",variant:"bodySecondary","data-qa":"onboarding-hint-content_div",children:a}),o&&Object(s.jsx)(H.Flex,{flexDirection:"column",mt:3,"data-qa":"onboarding-hint-link_div",children:o.map((function(e,t){return Object(s.jsx)(K,{link:e},n+"_"+t)}))})]}),c&&Object(s.jsx)(H.Flex,{flexDirection:"row-reverse","data-qa":"onboarding-hint-proceed_btn",children:c})]}),appendTo:document.body,offset:[0,8]},i),{},{children:t})):Object(s.jsx)(s.Fragment,{children:t})}function ti(e){var t=e.onConfirm,n=e.onClose,r=e.modelName;return Object(s.jsxs)(H.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,style:{textAlign:"left"},children:[Object(s.jsx)(z.a,{variant:"h2",mb:3,children:"Delete Model?"}),Object(s.jsxs)(H.Box,{width:1,children:[Object(s.jsxs)(Y.a,{children:["Are you sure you want to delete model ",r,"? This action cannot be undone."]}),Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",mt:5,children:[Object(s.jsx)(B.a,{onClick:t,large:!0,ml:2,children:"Delete"}),Object(s.jsx)(B.a,{onClick:n,large:!0,variant:"secondary",children:"Cancel"})]})]})]})}function ni(e){var t=e.environments,n=Object(R.b)();return Object(s.jsx)(a.Fragment,{children:t.map((function(e){var t=function(e){switch(e){case"production":return["cyan_1","cyan_3"];case"staging":return["blue_1","blue_3"];case"development":return["yellow_1","yellow_3"];default:return["orange_1","orange_3"]}}(e),r=Object(F.a)(t,2),a=r[0],o=r[1];return Object(s.jsx)(Jc.a,{color:a,mr:2,bg:o,children:n?e:"Active"},e)}))})}function ri(){var e=Object(E.a)(["\n  width: 100%;\n  max-width: 864px;\n  border: 0;\n  box-shadow: 0 4px 14px 0 rgba(103, 106, 111, 0.32);\n  display: flex;\n  flex-direction: column;\n\n  transition: all cubic-bezier(.46,.1,.52,.98) 250ms;\n  transform: translateY(-10px);\n  transform-origin: 0 -50%;\n  opacity: 0;\n  "," "," ","\n"]);return ri=function(){return e},e}var ai=w.a.styled(ri(),se.space,se.borderRadius,se.color);function oi(e){var t=e.open,n=e.onClose,r=e.noSeparator,o=e.onBackgroundClick,c=e.onEscapeKeydown,i=e.children,l=e.title,u=e.footer,d=e.style,b=e.p,f=e.px,p=e.py,j=e.afterClose,h=a.useState({}),O=Object(F.a)(h,2),x=O[0],g=O[1];return Object(s.jsx)(ai,{isOpen:t,onBackgroundClick:o||n,onEscapeKeydown:c||n,borderRadius:"large",bg:"neutral_0",p:0,style:Object(_.a)(Object(_.a)({},d),x),backgroundProps:{style:x},afterOpen:function(){g({opacity:1,transform:"translateY(0)"})},beforeClose:function(){return new Promise((function(e){g({}),setTimeout(e,250)}))},afterClose:j,children:Object(s.jsxs)(xr.a,{children:[l&&Object(s.jsx)(H.Card,{paddingTop:5,paddingBottom:4,px:5,sx:{borderBottom:r?"0px none":"1px solid",borderColor:"neutral_3"},children:Object(s.jsxs)(H.Flex,{justifyContent:"space-between",children:[Object(s.jsx)(z.a,{variant:"h2",children:l}),n&&Object(s.jsx)(H.Box,{onClick:function(){return n()},children:Object(s.jsx)(B.a,{onClick:n,variant:"plainIcon",p:0,children:Object(s.jsx)(ie.a,{icon:ce.faTimes,fontSize:"24px"})})})]})}),Object(s.jsx)(H.Flex,{flexDirection:"column",sx:{flexGrow:1,overflow:"auto"},p:b,px:f,py:p,children:i}),u&&Object(s.jsx)(H.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_3"},children:Object(s.jsx)(H.Flex,{px:4,py:3,flexDirection:"row-reverse",children:u})})]})})}function ci(e){var t=e.environment,n=e.onChange,r=e.healthy,a=e.checked,o=void 0!==a&&a,c=Object(V.a)(e,["environment","onChange","healthy","checked"]);return Object(s.jsx)(H.Card,Object(_.a)(Object(_.a)({as:"label"},c),{},{sx:{display:"block"},children:Object(s.jsx)(H.Flex,{children:Object(s.jsxs)(Mr.a,{disabled:r,content:"Environment not responsive",children:[Object(s.jsx)(H.Box,{p:2,children:Object(s.jsx)(ea.a,{checked:o,onChange:function(){return n(!o)},disabled:!r})}),Object(s.jsx)(H.Box,{p:2,flex:"1",children:Object(s.jsx)(z.a,{variant:"h4",color:r?"inherit":"neutral_6",children:t.name.charAt(0).toUpperCase()+t.name.slice(1)})})]})})}))}function ii(e){var t=e.open,n=e.onAddEnvironment,r=e.onClose,o=e.model,c=e.environments,i=e.environmentsHealth,l=a.useState([]),u=Object(F.a)(l,2),d=u[0],b=u[1],f=function(){b([]),r()},p=a.useMemo((function(){return o?c.filter((function(e){return!o.tags.includes(e.name)&&"worker"!==e.name})):c}),[c,o]);if(!o)return null;var j=function(e){var t,n;return null!==(t=200===(null===(n=i[e.name])||void 0===n?void 0:n.status))&&void 0!==t&&t};return Object(s.jsxs)(oi,{open:t,onClose:f,title:"Manage Deployment Environment",px:5,py:5,footer:Object(s.jsx)(qc.a,{resource:Te.d.Environments,action:Te.a.Update,yes:Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",mr:-1,children:[Object(s.jsx)(B.a,{mx:1,variant:"primary",onClick:function(){n({model:o,environment:d}),f()},large:!0,children:"Save"}),Object(s.jsx)(B.a,{mx:1,variant:"secondary",onClick:f,large:!0,children:"Cancel"})]})}),children:[o.tags.length>0&&Object(s.jsxs)(H.Box,{mb:5,children:[Object(s.jsxs)(z.a,{variant:"h4",mb:4,children:["Model ",o.model," is currently in:"]}),Object(s.jsx)(ni,{environments:o.tags})]}),p.length>0&&Object(s.jsxs)(H.Box,{children:[Object(s.jsx)(z.a,{variant:"h4",mb:4,children:"Add model to:"}),p.map((function(e){return Object(s.jsx)(ci,{mb:4,checked:d.includes(e.name),environment:e,healthy:j(e),onChange:function(t){return b(t?[].concat(Object(A.a)(d),[e.name]):d.filter((function(t){return e.name!==t})))}},e.name)}))]})]})}function si(e){var t=e.emptyStatePlaceholder,n=e.environments,r=e.environmentsHealth,o=e.highlightedRow,c=e.items,i=e.onAddModelEnvironment,l=e.onDeleteModels,u=e.onLoadMoreRows,d=e.onSetHighlightedRow,b=e.onUpdateItemSelection,f=e.selectedItemsIndices,p=e.shouldShowActivateButton,j=e.total,h=Object(R.f)(Te.d.Models,Te.a.Update),O=Object(R.f)(Te.d.Models,Te.a.Delete),x=Object(R.b)(),g=a.useState(null),v=Object(F.a)(g,2),y=v[0],C=v[1],S=a.useMemo((function(){return{selectedItemsIndices:f}}),[f]),w=a.useState(-1),E=Object(F.a)(w,2),k=E[0],T=E[1],A=a.useCallback((function(e){i(e)}),[i]),_=Object(m.d)((function(e){return e.auth.apiToken})),D=function(e,t){return{visibility:o===e?"visible":"hidden",[".table-row:hover & .".concat(t)]:{visibility:"visible"}}};return Object(s.jsxs)(yo.a,{total:j,rows:c,onLoadMore:u,emptyStatePlaceholder:t,metadata:S,highlight:o,setHighlightedRow:d,children:[Object(s.jsx)(Co.a,{width:300,title:"Model name",children:function(e,t){var n=t.index,r=t.metadata.selectedItemsIndices;return Object(s.jsxs)(H.Flex,{alignItems:"center",children:[h&&Object(s.jsx)(H.Box,{flex:"0 1 auto",mr:"3",children:Object(s.jsx)(ea.a,{onChange:function(e){return b(n,"shiftKey"in e&&e.shiftKey)},checked:r.includes(n)})}),Object(s.jsx)(H.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(s.jsx)(Y.a,{variant:"bodySecondary",children:e.model})})]})}}),Object(s.jsx)(Co.a,{width:300,title:"Created on",children:function(e){return Object(s.jsx)(Y.a,{variant:"bodySecondary",children:Yo.a.unix(e.trained_at).toString()})}}),Object(s.jsx)(Co.a,{width:250,title:"State",flex:"1 1",children:function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ni,{environments:e.tags}),!e.is_compatible&&Object(s.jsx)(Jc.a,{bg:"neutral_3",color:"neutral_6",children:"Not compatible"})]})}}),Object(s.jsx)(Co.a,{width:150,children:function(e,t){var a=t.index,o=No()(Ce.a,"api/projects/default/models/".concat(e.model,".tar.gz?api_token=").concat(_)),c=y&&y.model===e.model?Object(s.jsx)(ii,{open:!0,onClose:function(){return C(null)},model:e,onAddEnvironment:A,environments:n,environmentsHealth:r}):null;return Object(s.jsxs)(s.Fragment,{children:[c,Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",children:[O&&Object(s.jsx)(ba.a,{content:Object(s.jsx)(ti,{onConfirm:function(){l([e]),T(-1)},onClose:function(){return T(-1)},modelName:e.model}),offset:[0,8],onClose:function(){return T(-1)},visible:k===a,children:Object(s.jsx)(H.Box,{className:"delete-btn",sx:D(a,"delete-btn"),children:Object(s.jsx)(B.a,{ml:1,variant:"icon",hover:a===k,onClick:function(){return T(a)},children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})}),e.is_compatible&&h&&Object(s.jsx)(s.Fragment,{children:x?Object(s.jsx)(Mr.a,{content:"Manage model deployment",children:Object(s.jsx)(B.a,{ml:1,variant:"icon",onClick:function(){return C(e)},children:Object(s.jsx)(ie.a,{icon:Zc.faServer})})}):0===((null===e||void 0===e?void 0:e.tags)||[]).length&&Object(s.jsx)(Mr.a,{content:"Make model active",children:Object(s.jsx)(ei,{disabled:!p(a),title:"Activate your model",content:"This model will be used to respond to messages that your assistant receives.",sticky:!0,name:"activate_model",placement:"bottom-start",arrow:!1,children:Object(s.jsx)(B.a,{ml:1,variant:"icon",hover:p(a),onClick:function(){A({model:e,environment:"production"})},children:Object(s.jsx)(ie.a,{icon:$c.faArrowCircleUp})})})})}),Object(s.jsx)(H.Box,{className:"download-btn",sx:D(a,"download-btn"),children:Object(s.jsx)(Mr.a,{content:"Download model file",children:Object(s.jsx)(B.a,{as:"a",ml:1,variant:"icon",href:o,download:"".concat(e.model,".tar.gz"),children:Object(s.jsx)(ie.a,{icon:Do.faArrowToBottom})})})})]})]})}})]})}oi.defaultProps={px:6,py:4},ci.defaultProps={p:2,border:"1px solid",borderColor:"neutral_5",borderRadius:"normal"};var li=n(2276),ui=function(){return(ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function di(e){var t=e.accept,n=void 0===t?"*":t,r=e.id,a=void 0===r?Object(li.a)():r,o=e.onUpload,c=e.width,i=e.children;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(U.a,ui({as:"label",htmlFor:a,width:c},{children:i}),void 0),Object(s.jsx)(U.a,{as:"input",id:a,accept:n,type:"file",onChange:o,sx:{display:"none"}},void 0)]},void 0)}var bi=function(){return(bi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},fi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function pi(e){var t=e.accept,n=void 0===t?"*":t,r=e.id,a=e.onUpload,o=e.width,c=(e.css,fi(e,["accept","id","onUpload","width","css"]));return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(di,bi({accept:n,id:r,onUpload:a,width:o},{children:Object(s.jsx)(B.a,bi({as:"span",onClick:function(){}},c),void 0)}),void 0)},void 0)}function ji(e){var t=e.onUploadModel,n=e.onClose,r=e.allowFileUpload,o=void 0===r||r,c=Object(m.d)((function(e){return e.auth.apiToken})),i=a.useMemo((function(){return'curl -k -F "model=@my_model.tar.gz" "'.concat(No()(Ce.a,"api/projects/default/models?api_token=".concat(c)),'"')}),[c]),l=a.useCallback((function(e){var r=e.target.files[0];if(r){var a=new FormData;a.append("model",r),t(a),n()}}),[t,n]);return Object(s.jsxs)(H.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,style:{textAlign:"left"},children:[Object(s.jsx)(z.a,{variant:"h3",mb:2,children:"Upload a model"}),Object(s.jsx)(Y.a,{variant:"bodySecondary",mb:3,children:"To upload a model via the API, use this command:"}),Object(s.jsx)(H.Box,{width:1,children:Object(s.jsx)(Wo.a,{children:i})}),o?Object(s.jsx)(pi,{accept:"application/gzip, .gz",onUpload:l,fullWidth:!0,mt:3,width:1,large:!0,children:"Upload a model from files instead"}):Object(s.jsxs)(H.Flex,{alignSelf:"flex-end",flexDirection:"row-reverse",mt:3,children:[Object(s.jsx)(B.a,{large:!0,ml:2,onClick:function(){return n()},children:"Done"}),Object(s.jsx)(B.a,{large:!0,onClick:function(){return n()},variant:"secondary",children:"Cancel"})]})]})}function hi(e){var t=e.children,n=e.onUploadModel,r=e.showUploadPopup,a=Object(V.a)(e,["children","onUploadModel","showUploadPopup"]),o=a.onClose;return Object(s.jsx)(ba.a,Object(_.a)(Object(_.a)({content:Object(s.jsx)(ji,{onClose:o,onUploadModel:n}),offset:[-8,8],appendTo:"parent"},a),{},{children:Object(s.jsx)(Mr.a,{content:"Upload a model",disabled:r,children:t})}))}function Oi(){var e=Object(m.d)((function(e){return e.models.models})),t=a.useMemo((function(){return Object.values(e)}),[e]),n=Object(m.d)((function(e){return e.messages.chatToken})),r=Object(m.d)((function(e){return e.messages.environment})),o=Object(m.d)((function(e){return e.models.environments})),c=Object(m.d)((function(e){return e.models.environmentsHealth})),i=Object(m.d)((function(e){return e.models.total})),l=Object(m.c)();a.useEffect((function(){l(Oo.d.request()),l(Oo.f.request()),l(Oo.g.request({search:"",offset:0,limit:50}))}),[l]);var u=a.useCallback((function(e){l(Oo.g.request({search:"",offset:Math.max(1,e-50),limit:50}))}),[l]),d=Object(R.k)(),b=te(),f=b.setOnboardingShown,j=b.currentOnboardingStep,h=b.currentOnboardingHint,O=b.onboardingShown,x="activate_model"===h;a.useEffect((function(){d("view:models:loaded")}),[d]);var g=Object(R.i)(t,"model"),v=g.updateItemSelection,C=g.selectedItemsIndices,S=g.clearItemSelection,w=g.mapOverSelectedItemsWithCallback,E=C.length>0,k=a.useState(!1),T=Object(F.a)(k,2),A=T[0],_=T[1],D=a.useState(!1),I=Object(F.a)(D,2),L=I[0],U=I[1],M=0===(Object(R.b)()?t.findIndex((function(e){var t;return(null===(t=e.tags)||void 0===t?void 0:t.length)>0})):null)?1:0,P=a.useState(-1),q=Object(F.a)(P,2),G=q[0],V=q[1],z=Object(p.b)("Configure environments"),Y=Object(p.b)("Share with guest testers"),W=Object(y.h)().push;return a.useEffect((function(){O&&x&&V(M)}),[O,x,M]),Object(s.jsx)(Ee.a,{title:"Models",rightContent:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(qc.a,{resource:Te.d.Environments,action:Te.a.List,yes:Object(s.jsx)(Io.a,{left:!0,children:Object(s.jsx)(B.a,{onClick:function(){return W("/environments")},variant:"headerIcon",ref:z,children:Object(s.jsx)(ie.a,{icon:Mc.faFolderTree})})})}),Object(s.jsx)(qc.a,{resource:Te.d.ChatToken,action:Te.a.Update,yes:Object(s.jsx)(Io.a,{left:!0,children:Object(s.jsx)(Kc,{visible:A,environment:r,environments:o,onClose:function(){return _(!1)},offset:[0,8],onFetchChatToken:function(e){return l(Hc.f.request(e))},chatToken:n,children:Object(s.jsx)(B.a,{variant:"headerIcon",active:A,style:{position:"relative"},onClick:function(){return _(!A)},ref:Y,children:Object(s.jsx)(ie.a,{icon:Pc.faShareAlt})})})})}),Object(s.jsx)(qc.a,{resource:Te.d.Models,action:Te.a.Create,yes:Object(s.jsx)(H.Box,{sx:{display:"inline-block"},children:Object(s.jsx)(hi,{showUploadPopup:L,onClose:function(){return U(!1)},onUploadModel:function(e){return l(Oo.o.request(e))},visible:L,children:Object(s.jsx)(Io.a,{left:!0,children:Object(s.jsx)(B.a,{variant:"headerIcon",active:L,onClick:function(){j===N.a["MODELS::MODEL_ADDED"]&&f(!1),U(!L)},children:Object(s.jsx)(ie.a,{icon:Uc.faArrowToTop})})})})})})]}),children:Object(s.jsx)(oc.a,{children:Object(s.jsxs)(H.Box,{sx:{minWidth:"790px",width:"100%",height:"calc(100% - 56px)"},children:[E&&Object(s.jsx)(Xc,{onDelete:function(){w((function(e){return l(Oo.c.request(e))}))},onClearSelection:S,total:C.length}),Object(s.jsx)(si,{environments:o,environmentsHealth:c,items:t,onDeleteModels:function(e){return l(Oo.c.request(e))},onLoadMoreRows:u,onAddModelEnvironment:function(e){return l(Oo.a.request(e))},total:i,emptyStatePlaceholder:Object(s.jsx)(qe,{heading:"There are no trained models",body:"When you train a new model, it'll show up here!",image:Gc}),onUpdateItemSelection:v,selectedItemsIndices:C,shouldShowActivateButton:function(e){return x&&e===M},highlightedRow:G,onSetHighlightedRow:V})]})})})}var xi=n(148),gi=n(251),vi=n(84),mi=n.n(vi),yi=n(20),Ci=n(88),Si=n(36),wi=function(e){return Array.from(new Set(e))},Ei=Object(Uo.a)((function(e){return e.suggestions}),(function(e){var t=e.flatMap((function(e){return e.user_input.entities.map((function(e){return e.role}))})).filter(sa.a);return wi(t)})),ki=Object(Uo.a)((function(e){return e.suggestions}),(function(e){var t=e.flatMap((function(e){return e.user_input.entities.map((function(e){return e.group}))})).filter(sa.a);return wi(t)})),Ti=Object(Uo.a)((function(e){return e.suggestions}),(function(e){var t=e.flatMap((function(e){return e.user_input.entities.map((function(e){return e.entity}))})).filter(sa.a);return wi(t)})),Ai=n(54),_i=n(980),Fi={lineHeight:"inherit",marginLeft:"12px",maxWidth:"calc(100% - 48px)",overflowWrap:"break-word"};function Ri(e){var t=e.text,n=e.query,r=e.icon;if(""===n)return Object(s.jsxs)(s.Fragment,{children:[r&&r(t),Object(s.jsx)(Y.a,{variant:"bodySecondary",sx:Fi,children:t})]});var o=t.split(n);return Object(s.jsxs)(s.Fragment,{children:[r&&r(t),Object(s.jsxs)(Y.a,{variant:"bodySecondary",sx:Fi,children:[" ",o.map((function(e,t){return t===o.length-1?Object(s.jsx)(a.Fragment,{children:e},t):Object(s.jsxs)(a.Fragment,{children:[e,Object(s.jsx)("strong",{children:n})]},t)}))," "]})]})}function Di(e){var t=e.items,n=e.icon,r=e.selected,o=e.searchBoxPlaceholder,c=e.emptyListPlaceholder,i=e.noResultsPlaceholder,l=e.onChange,u=a.useState(""),d=Object(F.a)(u,2),b=d[0],f=d[1],p=a.useMemo((function(){var e=new RegExp((b||"").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i");return t.filter((function(t){return t.match(e)}))}),[t,b]);return Object(s.jsx)(_i.a,{name:"Intents",items:p,checkedItems:r,onChange:function(e){return l(e)},placeholder:Object(s.jsxs)(H.Flex,{color:"neutral_6",justifyContent:"center",alignItems:"center",flexDirection:"column",style:{height:"100%"},children:[Object(s.jsx)(ie.a,{icon:Ho.faExclamationCircle,mb:2,mt:-52,fontSize:4}),Object(s.jsx)(Y.a,{variant:"bodySecondary",inheritColor:!0,px:"25%",textAlign:"center",children:0===t.length?c:i})]}),header:function(){return Object(s.jsx)(Pr.a,{active:!0,disabled:0===t.length,fullWidth:!0,onChangeValue:f,placeholder:o,value:b,variant:"search"})},item:function(e){var t=e.item;return Object(s.jsx)(Ri,{text:t,query:b,icon:n})},stickyHeader:!0})}function Ii(e){var t=e.filter,n=e.onChange,r=Object(m.d)((function(e){return e.messages.actions}));return Object(s.jsx)(Di,{items:r,selected:t.actions,onChange:function(e){return n(Object(_.a)(Object(_.a)({},t),{},{actions:e}))},searchBoxPlaceholder:"Search actions...",emptyListPlaceholder:"There are no actions to filter by.",noResultsPlaceholder:"There are no actions matching your search."})}Ii.title="Actions",Ii.count=function(e){return e.actions.length};var Li=n(108);function Ni(e){var t=e.filter,n=e.onChange,r=Object(m.d)((function(e){return e.messages.channels})),o=function(e){return Li.a[e]||e},c=a.useMemo((function(){return r.map(o)}),[r]),i=a.useMemo((function(){return t.channels.map(o)}),[t]),l=a.useCallback((function(e){var t=c.indexOf(e);return-1===t?e:r[t]}),[c,r]);return Object(s.jsx)(Di,{items:c,selected:i,onChange:function(e){return n(Object(_.a)(Object(_.a)({},t),{},{channels:e.map(l)}))},searchBoxPlaceholder:"Search channels...",emptyListPlaceholder:"There are no channels to filter by.",noResultsPlaceholder:"There are no channels matching your search."})}function Bi(e){var t=e.disabled,n=e.value,r=e.onChange,o=a.useMemo((function(){return[{label:"At most",value:"max"},{label:"At least",value:"min"}]}),[]),c=a.useMemo((function(){return"min"===n.operator?o[1]:o[0]}),[n,o]),i=n.value,l=a.useCallback((function(e){r({operator:e.value,value:i})}),[i,r]),u=a.useCallback((function(e){var t=e.target.value;r({operator:c.value,value:t})}),[c.value,r]);return Object(s.jsxs)(H.Flex,{width:"100%",justifyContent:"space-between",mt:2,pl:"28px",children:[Object(s.jsx)(qr.a,{value:c,disabled:t,items:o,onChange:l}),Object(s.jsx)(Pr.a,{min:0,max:1,step:.01,type:"number",disabled:t,noValidate:!0,width:"146px",value:i,onChange:u,ml:2})]})}Ni.title="Channels",Ni.count=function(e){return e.channels.length};var Ui={operator:"max",value:.5};function Mi(e){var t=e.filter,n=e.onChange,r=a.useMemo((function(){return{fontWeight:"bold"}}),[]),o=t.nluConfidence,c=t.coreConfidence,i=Object(R.n)(null!==o),l=Object(F.a)(i,2),u=l[0],d=l[1],b=Object(R.n)(null!==c),f=Object(F.a)(b,2),p=f[0],j=f[1],h=a.useCallback((function(e){return n(Object(_.a)(Object(_.a)({},t),{},{nluConfidence:e}))}),[t,n]),O=a.useCallback((function(e){return n(Object(_.a)(Object(_.a)({},t),{},{coreConfidence:e}))}),[t,n]);return a.useEffect((function(){!o&&u&&h(Ui)}),[o,u,h]),a.useEffect((function(){!c&&p&&O(Ui)}),[c,p,O]),Object(s.jsxs)("div",{children:[Object(s.jsx)(kc,{variant:"generic",m:0,py:"12px",mb:4,children:Object(s.jsx)(Y.a,{variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0,children:"Use this filter to view conversations that include predictions with specific confidences."})}),Object(s.jsxs)(H.Flex,{as:"label",mt:2,children:[Object(s.jsx)(ea.a,{onChange:d,checked:u}),Object(s.jsx)(Y.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:r,children:"Intent Confidence"})]}),Object(s.jsx)(Bi,{disabled:!u,onChange:h,value:o||Ui}),Object(s.jsxs)(H.Flex,{as:"label",mt:4,alignItems:"flex-start",children:[Object(s.jsx)(ea.a,{onChange:j,checked:p}),Object(s.jsx)(Y.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:r,children:"Action Confidence"})]}),Object(s.jsx)(Bi,{disabled:!p,onChange:O,value:c||Ui})]})}Mi.title="Confidence",Mi.count=function(e){return 0+(e.nluConfidence?1:0)+(e.coreConfidence?1:0)};var Pi=n(352);function qi(e){var t=e.filter,n=e.onChange,r=e.onValidation,o=Object(Ci.g)(t.date),c=a.useState("Custom"===o.label&&t.date.from?Object(Ci.c)(Yo()(t.date.from,"YYYY-MM-DD")):""),i=Object(F.a)(c,2),l=i[0],u=i[1],d=a.useState("Custom"===o.label&&t.date.to?Object(Ci.c)(Yo()(t.date.to,"YYYY-MM-DD")):""),b=Object(F.a)(d,2),f=b[0],p=b[1],j=function(e){return Object(Ci.b)(Yo()(e,["DD/MM/YYYY","D/M/YYYY"],!0))},h=function(e){return Yo()(e,["DD/MM/YYYY","D/M/YYYY"],!0).isValid()},O=a.useMemo((function(){return h(l)}),[l]),x=a.useMemo((function(){return 0===f.length||h(f)&&(!O||Yo()(j(l)).isBefore(j(f),"day"))}),[l,O,f]);return a.useEffect((function(){O&&x||"Custom"!==o.label?r(!1):r(!0)}),[o.label,O,x,r]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(H.Flex,{flexDirection:"column",children:[Ci.e.map((function(e){return Object(s.jsxs)(H.Flex,{as:"label",alignItems:"center",mb:4,sx:{color:"neutral_8"},children:[Object(s.jsx)(ea.a,{variant:"radio",checked:e.label===o.label,onChange:function(){return n(Object(_.a)(Object(_.a)({},t),{},{date:{from:e.from,to:e.to||null}}))}}),Object(s.jsx)(Y.a,{ml:3,variant:"bodySecondary",inheritColor:!0,children:e.label})]},e.label)})),Object(s.jsx)(H.Flex,{as:"label",alignItems:"center",mb:4,sx:{color:"neutral_8"},children:Object(s.jsx)(go.a,{text:"Custom",pt:3,sx:{borderTop:"1px solid;",borderColor:"neutral_1"},children:Object(s.jsxs)(H.Flex,{alignItems:"center",children:[Object(s.jsx)(ea.a,{variant:"radio",checked:"Custom"===o.label,onChange:function(){var e={from:j(l),to:j(f)||null};n(Object(_.a)(Object(_.a)({},t),{},{date:e}))}}),Object(s.jsx)(Pr.a,{ml:4,width:"140px",invalid:!O&&"Custom"===o.label,placeholder:"dd/mm/yyyy",value:l,onChangeValue:function(e){u(e),n(Object(_.a)(Object(_.a)({},t),{},{date:{from:j(e),to:t.date.to}}))},maxLength:10}),Object(s.jsx)(ie.a,{icon:Pi.faMinus,ml:2,mr:2,style:{width:"4px",color:"neutral_8"}}),Object(s.jsx)(Pr.a,{width:"140px",invalid:!x&&"Custom"===o.label,placeholder:"dd/mm/yyyy",value:f,onChangeValue:function(e){p(e),n(Object(_.a)(Object(_.a)({},t),{},{date:{from:t.date.from,to:e.length>0?j(e):null}}))},maxLength:10})]})})},"custom")]})})}function Hi(e){var t=e.filter,n=e.onChange,r=Object(m.d)((function(e){return e.examples.entityTypes}));return Object(s.jsx)(Di,{items:r,selected:t.entities,onChange:function(e){return n(Object(_.a)(Object(_.a)({},t),{},{entities:e}))},searchBoxPlaceholder:"Search entities...",emptyListPlaceholder:"There are no entities to filter by.",noResultsPlaceholder:"There are no entities matching your search."})}function Gi(e){var t=e.selected,n=e.count,r=e.children,a=e.onClick;return Object(s.jsxs)(H.Flex,{pl:4,pr:2,sx:{backgroundColor:t?"neutral_1":"neutral_0","&:hover":{backgroundColor:"neutral_1"},height:"40px",width:"100%",alignItems:"center",justifyContent:"space-between",cursor:"pointer",userSelect:"none"},onClick:a,children:[Object(s.jsx)(Y.a,{variant:"bodySecondary",sx:{flexGrow:1},children:r}),0!==n&&Object(s.jsx)(H.Flex,{sx:{borderRadius:"4px",backgroundColor:t?"neutral_0":"neutral_1",minWidth:"20px",height:"20px",alignItems:"center",justifyContent:"center"},children:Object(s.jsx)(Y.a,{variant:"captionSecondary",children:n})}),Object(s.jsx)(H.Box,{ml:2,sx:{backgroundColor:"primary_2",height:"100%",width:"4px",marginRight:"-8px",borderRadius:"2px",visibility:t?"normal":"hidden"}})]})}function Vi(e){var t=e.filter,n=e.onChange,r=Object(m.d)((function(e){return e.messages.intents})),a=Object(m.d)((function(e){return e.examples.intents})),o="Conversation"===t.type?r:a;return Object(s.jsx)(Di,{items:o,selected:t.intents,onChange:function(e){return n(Object(_.a)(Object(_.a)({},t),{},{intents:e}))},searchBoxPlaceholder:"Search intents...",emptyListPlaceholder:"There are no intents to filter by.",noResultsPlaceholder:"There are no intents matching your search."})}qi.title="Date received",qi.count=function(e){return e.date.from?1:0},Hi.title="Entities",Hi.count=function(e){return e.entities.length},Vi.title="Intents",Vi.count=function(e){return e.intents.length};var zi={fontWeight:"bold"};function Yi(e){var t=e.filter,n=e.onChange,r=t.flaggedOnly,o=a.useCallback((function(){var e=!r;n(Object(_.a)(Object(_.a)({},t),{},{flaggedOnly:e}))}),[t,n,r]),c=t.storiesNotRecognised,i=a.useCallback((function(){var e=!c;n(Object(_.a)(Object(_.a)({},t),{},{storiesNotRecognised:e}))}),[t,n,c]),l=a.useState(t.minimumMessages||10),u=Object(F.a)(l,2),d=u[0],b=u[1],f=null!==t.minimumMessages,p=a.useCallback((function(e){var r=e||0;f&&n(Object(_.a)(Object(_.a)({},t),{},{minimumMessages:r})),b(r)}),[t,n,f]),j=a.useCallback((function(){var e=null===t.minimumMessages?d:null;n(Object(_.a)(Object(_.a)({},t),{},{minimumMessages:e}))}),[t,n,d]);return Object(s.jsxs)("div",{children:[Object(s.jsxs)(H.Flex,{as:"label",my:2,alignItems:"center",mb:4,children:[Object(s.jsx)(ea.a,{onChange:o,checked:r}),Object(s.jsx)(Y.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:zi,children:"Includes flagged messages"})]}),Object(s.jsxs)(H.Flex,{as:"label",my:2,alignItems:"center",mb:4,children:[Object(s.jsx)(ea.a,{onChange:i,checked:c}),Object(s.jsx)(Y.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:zi,children:"Stories not included in training data"})]}),Object(s.jsxs)(H.Flex,{as:"label",my:2,alignItems:"flex-start",mb:4,children:[Object(s.jsx)(ea.a,{onChange:j,checked:f}),Object(s.jsxs)(H.Box,{children:[Object(s.jsx)(Y.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:zi,children:"Conversation length (number of user messages)"}),Object(s.jsxs)(H.Flex,{justifyContent:"space-between",width:"224px",mt:3,children:[Object(s.jsxs)(Y.a,{ml:"12px",mt:2,variant:"bodySecondary",children:["At least"," "]}),Object(s.jsx)(Pr.a,{noValidate:!0,min:"0",type:"number",value:d||0,onChangeValue:function(e){return p(""!==e?Number(e):null)},width:"146px",ml:2,disabled:!f})]})]})]})]})}Yi.title="Other",Yi.count=function(e){return 0+(e.flaggedOnly?1:0)+(e.storiesNotRecognised?1:0)+(null!==e.minimumMessages?1:0)};var Wi=n(2272),Ki=function(e){return Object(A.a)("".concat(e,",").matchAll(/([^,]*:[^:]*),/g)).map((function(e){return e[1]})).map((function(e){var t=e.split(":");return{name:t[0],value:t[1]}}))};function Qi(e){var t=e.filter,n=e.onChange,r=Object(m.d)((function(e){return e.messages.slotNames})),o=Object(m.d)((function(e){return e.messages.slotValues})),c=a.useState(null),i=Object(F.a)(c,2),l=i[0],u=i[1],d=a.useState(),b=Object(F.a)(d,2),f=b[0],p=b[1],j=a.useState(),h=Object(F.a)(j,2),O=h[0],x=h[1],g=a.useState([{slotName:{},slotValues:[]}]),v=Object(F.a)(g,2),y=v[0],C=v[1],S=a.useMemo((function(){return y.map((function(e){return e.slotName}))}),[y]),w=a.useMemo((function(){return r&&r.map((function(e){return{label:e,value:e}}))}),[r]),E=a.useMemo((function(){return Object.entries(o).reduce((function(e,t){var n=Object(F.a)(t,2),r=n[0],a=n[1];return Object(_.a)(Object(_.a)({},e),{},{[r]:a.map((function(e){return{value:e,label:e}}))})}),{})}),[o]),k=Object(m.c)();Object(R.a)((function(){f&&k(Hc.n.request({slot:f,q:O||""}))}),300,[O]);var T=a.useCallback((function(){var e=y[y.length-1];e.slotName.value&&0!==e.slotName.value.length&&e.slotValues&&0!==e.slotValues.length?u(null):u(e);var t=y.filter((function(e){return e.slotName.value&&e.slotName.value.length>0&&e.slotValues&&e.slotValues.length>0}));return t&&t.map((function(e){return e.slotValues&&e.slotValues.map((function(t){var n=e.slotName,r=t;return"".concat(n.value,":").concat(r.value)})).join(",")}))}),[y]),D=a.useCallback((function(e){var t=e?[].concat(Object(A.a)(S),[e]):S;return w.filter((function(e){return!t.some((function(t){return e.value===t.value}))}))}),[w,S]);a.useEffect((function(){var e=T();mi()(t.slots,e)||n(Object(_.a)(Object(_.a)({},t),{},{slots:e}))}),[n,T,t]);var I=a.useCallback((function(){var e=[],n={},r=0;return t.slots.forEach((function(t,a){var o=Ki(t);o.length>0&&o.forEach((function(t){var a=t.name,o=t.value,c={label:o,value:o};if(a in n){var i=n[a];e[i].slotValues.push(c)}else{var s={slotName:{label:a,value:a},slotValues:[c]};e=[].concat(Object(A.a)(e),[s]);var l={[a]:r};r++,n=Object(_.a)(Object(_.a)({},n),l)}}))})),e}),[t.slots]);a.useEffect((function(){var e=I();if(!mi()(t.slots,e)){var n=e.length>0?e:[{slotName:{},slotValues:[]}];l&&n.push(l),C(n)}}),[I,t.slots,l]);var L=a.useCallback((function(e,t,n){var r=!1;C(y.map((function(a){var o=y.indexOf(a);if(o===e&&!r)return r=!0,{slotName:n.slotName,slotValues:t||[]};if(a.slotName.value===n.slotName.value&&!r){if(-1===a.slotValues.findIndex((function(e){return e.value===t[t.length-1].value}))){r=!0;var c=o===e?t:[].concat(Object(A.a)(a.slotValues),Object(A.a)(t));return{slotName:n.slotName,slotValues:c}}r=!0}return a})))}),[y]),N=a.useMemo((function(){return y.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)(H.Box,{as:"td",width:.4,sx:{maxWidth:"152px"},pt:2,pr:2,pl:0,children:Object(s.jsx)(qr.a,{fullWidth:!0,placeholder:"Select a slot",value:e.slotName.value?e.slotName:null,disabled:!1,items:D(e.slotName.value?e.slotName:void 0),onChange:function(e){p(e.value),x(null),C(y.map((function(n){return y.indexOf(n)===t?{slotName:e,slotValues:n.slotValues}:n})))}})}),Object(s.jsx)(H.Box,{as:"td",width:.6,sx:{maxWidth:"224px"},pt:2,pr:2,pl:0,children:Object(s.jsx)(Wi.a,{disabled:!e.slotName.value,placeholder:"Select a value",value:e.slotValues?e.slotValues:[""],items:E[e.slotName.value]||[],onMenuOpen:function(){p(e.slotName.value),x(null)},onChange:function(n){return L(t,n,e)},onInputFieldChange:x,fullWidth:!0})}),Object(s.jsx)(H.Box,{as:"td",pt:2,sx:{verticalAlign:"middle"},children:t===y.length-1?Object(s.jsx)(B.a,{disabled:0===e.slotValues.length,variant:"plainIcon",fontSize:4,p:0,onClick:function(){return function(e,t){if(e&&t){var n={slotName:{},slotValues:[]};C((function(e){return[].concat(Object(A.a)(e),[n])}))}}(e.slotName,e.slotValues)},children:Object(s.jsx)(ie.a,{icon:mo.faPlus})}):Object(s.jsx)(B.a,{variant:"plainIcon",fontSize:4,p:0,onClick:function(){return C((function(e){return e.filter((function(e,n){return n!==t}))}))},children:Object(s.jsx)(ie.a,{icon:ce.faTimes})})})]},t)}))}),[y,L,D,E]);return Object(s.jsxs)(H.Box,{sx:{height:"100%",width:"100%",overflow:"scroll"},children:[Object(s.jsx)(kc,{variant:"generic",m:0,py:"12px",mb:4,children:Object(s.jsx)(Y.a,{variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0,children:'Select a slot and the slot values you want to filter by. Click the "+" icon to add multiple slots.'})}),Object(s.jsx)(z.a,{variant:"h4",children:"Slots"}),Object(s.jsx)(H.Box,{width:1,as:"table",sx:{width:"100%",borderSpacing:0,textAlign:"left"},children:Object(s.jsx)("tbody",{style:{verticalAlign:"initial"},children:N})})]})}function Xi(e){var t=e.filter,n=e.onChange,r=Li.b;return Object(s.jsx)(H.Flex,{flexDirection:"column",children:r.map((function(e){return Object(s.jsxs)(H.Flex,{as:"label",alignItems:"center",mb:4,sx:{color:"neutral_8"},children:[Object(s.jsx)(ea.a,{variant:"radio",fontSize:"8px",width:"12px",checked:t.reviewStatus===e.status,onChange:function(){return n(Object(_.a)(Object(_.a)({},t),{},{reviewStatus:e.status}))}}),Object(s.jsx)(Y.a,{ml:3,variant:"bodySecondary",inheritColor:!0,children:e.label})]},e.label)}))})}Qi.title="Slots",Qi.count=function(e){return e.slots.length},Xi.title="Review status",Xi.count=function(e){return e.reviewStatus&&e.reviewStatus.length>0?1:0};var $i=n(1142),Zi=n.n($i);function Ji(e){var t=e.borderColor,n=e.color,r=e.radius,a=Object(V.a)(e,["borderColor","color","radius"]);return Object(s.jsx)(H.Box,Object(_.a)(Object(_.a)({width:r,height:r,sx:{borderRadius:"50%",border:"2px solid ".concat(t),flexShrink:0}},a),{},{bg:n,children:"\xa0"}))}function es(e){var t=e.filter,n=e.onChange,r=Object(m.d)((function(e){return e.suggestions.tags})),o=a.useMemo((function(){return Zi()(r,(function(e){return e.value}))}),[r]),c=a.useMemo((function(){return t.tags.map((function(e){return e.value}))}),[t.tags]),i=a.useCallback((function(e){return Object(s.jsx)(Ji,{ml:"12px",mr:"-6px",color:"#".concat(o[e].color)})}),[o]);return Object(s.jsx)(Di,{items:r.map((function(e){return e.value})),icon:i,selected:c,onChange:function(e){return n(Object(_.a)(Object(_.a)({},t),{},{tags:e.map((function(e){return o[e]}))}))},searchBoxPlaceholder:"Search tags...",emptyListPlaceholder:"There are no tags to filter by.",noResultsPlaceholder:"There are no tags matching your search."})}Ji.defaultProps={borderColor:"white",radius:"12px"},es.title="Tags",es.count=function(e){return e.tags.length};var ts=[es,Vi,Hi,qi],ns=[Xi,es,Vi,Ii,Ni,Hi,Qi,Mi,Yi],rs=[Vi];function as(e){var t=e.children,n=e.filter,r=e.onApply,o=e.onClose,c=e.offset,i=e.visible,l=a.useState(0),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useState(n),p=Object(F.a)(f,2),j=p[0],h=p[1],O=a.useState(!1),x=Object(F.a)(O,2),g=x[0],v=x[1],m=a.useCallback((function(){return r(j)}),[r,j]),y=a.useMemo((function(){return function(e){switch(e){case"Conversation":return ns;case"Suggestion":return ts;case"Example":return rs;default:return console.warn("Trying to filter for unknown filter type."),[]}}(j.type)}),[j.type]),C=a.useMemo((function(){return y[d]}),[d,y]),S=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(H.Flex,{sx:{borderStyle:"solid",borderWidth:"1px 0 1px 0",borderColor:"#e8ebf4",flexGrow:1,height:"406px",overflow:"hidden"},children:[Object(s.jsx)(Io.a,{right:!0,pt:4,sx:{minWidth:"176px"},children:y.map((function(e,t){return Object(s.jsx)(Gi,{count:e.count(j),onClick:function(){return b(t)},selected:t===d,children:e.title},e.title)}))}),Object(s.jsx)(H.Box,{sx:{flexGrow:"1"},p:4,children:Object(s.jsx)(C,{filter:j,onChange:h,onValidation:v})})]}),Object(s.jsxs)(H.Flex,{justifyContent:"flex-end",px:4,py:3,children:[Object(s.jsx)(B.a,{large:!0,onClick:function(){h(n),o()},variant:"secondary",children:"Cancel"}),Object(s.jsx)(B.a,{disabled:g,large:!0,ml:2,onClick:m,children:"Done"})]})]});return Object(s.jsx)(ba.a,{popupWidth:"640px",content:S,hideCloseIcon:!0,title:Object(s.jsx)(z.a,{variant:"h2",children:"Filter by:"}),offset:c,onClose:o,visible:i,children:t})}function os(e){var t=e.children,n=e.expanded,r=e.filter,a=e.offset,o=e.onApply,c=e.onCancel;return Object(s.jsx)(s.Fragment,{children:n&&Object(s.jsx)(as,{filter:r,visible:n,offset:a,onApply:o,onClose:c,children:t})})}var cs=a.memo(os),is=n(2248),ss=n(232),ls=ss.a.filter,us={date:{label:"Date",test:function(e){return e.from&&e.from.length>0},transformContent:function(e){var t=Object(Ci.g)(e);return"Custom"===t.label?Object(Ci.d)(Yo()(e.from,["YYYY-MM-D","D/M/YYYY"]))+" - "+(e.to?Object(Ci.d)(Yo()(e.to,["YYYY-MM-D","D/M/YYYY"])):"Today"):t.label}},intents:{label:"Intents",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},entities:{label:"Entities",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},tags:{label:"Tags",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return e.value})).join(", ")}}},ds=a.memo((function(e){var t=e.filter,n=e.onChange,r=Object.keys(us).filter((function(e){return us[e].test(t[e])}));return 0===r.length?null:Object(s.jsx)(H.Flex,{pl:2,alignItems:"center",sx:{minWidth:"auto"},children:r.map((function(e){return Object(s.jsx)(H.Box,{children:Object(s.jsx)(is.a,{label:us[e].label,content:us[e].transformContent(t[e]),active:!0,onChange:function(){return n(Object(_.a)(Object(_.a)({},t),{},{[e]:ls[e]}))},mr:2})},e)}))})})),bs=n(1143),fs=n(563),ps=n(115),js=Object(l.default)(W.a).withConfig({displayName:"Dropdown__Tooltip",componentId:"sc-1mdiyw5-0"})([""," "," max-width:max-content !important;box-shadow:0 2px 8px 0 rgba(116,118,123,0.31) !important;"],se.border,se.color),hs=Object(l.default)(H.Flex).withConfig({displayName:"Dropdown__Option",componentId:"sc-1mdiyw5-1"})(["text-align:left;cursor:pointer;transition:all ease 0.15s;",""],ps.d);function Os(e){var t=e.children,n=e.options,r=e.onClose,o=e.clearDateRangeInputs,c=e.onClickOutside,i=e.width,l=e.listHeight,u=e.header,d=e.footer,b=Object(V.a)(e,["children","options","onClose","clearDateRangeInputs","onClickOutside","width","listHeight","header","footer"]),f=a.useMemo((function(){return Object(s.jsxs)(H.Box,{width:i||348,my:2,children:[u&&u,Object(s.jsx)(H.Box,{as:"ul",style:{listStyle:"none",overflow:"scroll"},height:l||"auto",p:0,children:n.map((function(e,t){var n=e.label,a=e.action,c=e.customLabel,i=e.dataQA;return c?Object(s.jsx)(hs,{as:"li","data-qa":i,sx:{marginTop:"8px"},onClick:function(){a&&(a(),r(),o&&o())},children:c(r)},t):Object(s.jsx)(hs,{bgHover:"neutral_1",as:"li","data-qa":i,onClick:function(){a&&a(),r(),o&&o()},children:Object(s.jsx)(Y.a,{width:1,as:"div",variant:"bodySecondary",lineHeight:"48px",px:4,children:n})},t)}))}),d&&d]})}),[n,r,o,i,l,u,d]);return Object(s.jsx)(js,Object(_.a)(Object(_.a)({content:f,borderRadius:"normal",bg:"neutral_0",onClickOutside:c||r},b),{},{children:Object(s.jsx)(H.Box,{children:t})}))}function xs(e){var t=e.sortBy,n=e.sortOrder,r=e.updateSorting,a=e.onClick,o=Object(R.n)(!1),c=Object(F.a)(o,2),i=c[0],l=c[1],u=function(e,t,n){return Object(s.jsxs)(H.Flex,{width:"100%",alignItems:"center",sx:{"&:hover":{bg:"neutral_1"}},children:[Object(s.jsx)(H.Box,{ml:4,width:"13px",children:t&&Object(s.jsx)(ie.a,{icon:fs.faCheck,color:"primary_2",width:"13px"})}),Object(s.jsxs)(Y.a,{width:1,as:"div",variant:"bodySecondary",lineHeight:"48px",pl:3,pr:4,children:[e,n&&Object(s.jsx)(Y.a,{as:"span",display:"inline",pl:1,color:"neutral_6",children:"(default)"})]})]})},d=[{label:"Message received - new to old",action:function(){r("time","desc")},customLabel:function(e){return u("Message received - new to old","time"===t&&"desc"===n,!0)}},{label:"Message received - old to new",action:function(){r("time","asc")},customLabel:function(e){return u("Message received - old to new","time"===t&&"asc"===n)}},{label:"Confidence - low to high",action:function(){r("confidence","asc")},customLabel:function(e){return u("Confidence - low to high","confidence"===t&&"asc"===n)}},{label:"Confidence - high to low",action:function(){r("confidence","desc")},customLabel:function(e){return u("Confidence - high to low","confidence"===t&&"desc"===n)}}];return Object(s.jsx)(Os,{animation:"shift-toward",offset:[0,-8],options:d,onClose:l,visible:i,header:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Y.a,{width:1,as:"div",variant:"bodySecondary",fontWeight:"bold",sx:{cursor:"auto"},lineHeight:"48px",px:4,children:"Sort by:"}),Object(s.jsx)(Ic.a,{})]}),children:Object(s.jsx)(B.a,{variant:"headerIcon",onClick:function(){l(),a&&a()},active:i,children:Object(s.jsx)(ie.a,{icon:bs.faSortAmountDown})})})}Os.defaultProps={animation:"shift-away",placement:"bottom-end",offset:[0,8],interactive:!0,role:"dropdown",arrow:!1,appendTo:document.body};var gs=a.memo(xs),vs=n(1144),ms=n.n(vs),ys=function(e){return Number(e)<.01?"< 0.01":Number(e).toPrecision(2)},Cs=function(e){return e.confidence&&Object(s.jsxs)(Y.a,{sx:{whiteSpace:"nowrap"},mx:1,display:"inline-block",variant:"bodySecondary",color:"neutral_6",overflow:"visible",children:["(",e.confidence,")"]})},Ss=a.memo((function(e){var t=e.intent,n=e.intents,r=e.onChange,o=e.predictedIntent,c=e.rankedIntents,i=void 0===c?[]:c,l=e.variant,u=Object(V.a)(e,["intent","intents","onChange","predictedIntent","rankedIntents","variant"]),d=a.useState(!1),b=Object(F.a)(d,2),f=b[0],p=b[1],j=a.useMemo((function(){if(!i||0===i.length)return n.map((function(e){return{value:e,label:e,data:{name:e}}}));var e=n.map((function(e){return{name:e}})),t=i.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{confidence:e.confidence||0})})).sort((function(e,t){return Number(t.confidence)-Number(e.confidence)})).map((function(e){return Object(_.a)(Object(_.a)({},e),{},{confidence:Number(e.confidence)})}));return ms()(t.concat(e),"name").map((function(e){return{value:e.name,label:e.name,confidence:e.confidence?ys(e.confidence):void 0,data:e}})).filter((function(e){return null!==e.value}))}),[i,n]),h=a.useMemo((function(){return null===t?null:j.find((function(e){return e.value===t}))||{value:t,label:t,data:{name:t}}}),[t,j]),O=a.useCallback((function(e){return e&&r(e.data||{name:e.value})}),[r]),x=a.useState(h),g=Object(F.a)(x,2),v=g[0],m=g[1],y=Object(_e.a)(f);a.useEffect((function(){f&&!y&&m(h)}),[f,h,y]);var C=a.useState(""),S=Object(F.a)(C,2),w=S[0],E=S[1];Object(R.a)((function(){""!==w&&w!==t&&O({value:w})}),200,[w]);var k=Object(R.f)(Te.d.Domain,Te.a.Update);return f?Object(s.jsx)(Pr.a,{block:u.block,autoFocus:!0,onChangeValue:E,value:w,fullWidth:u.fullWidth,variant:l,suffix:Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(B.a,{fontSize:"12px",onClick:function(){E(""),O(v),p(!1)},ml:3,py:2,variant:"inverse"===l?"plain":"plainDropdown",children:Object(s.jsx)(ie.a,{icon:ce.faTimes})})})}):Object(s.jsx)(qr.a,Object(_.a)({renderItem:function(e,t){return function(e,t,n){return e.confidence?Object(s.jsxs)(H.Flex,{sx:{height:"100%",alignItems:"center"},children:[Object(s.jsx)(Y.a,{display:"inline-block",title:t,variant:"bodySecondary","data-qa":"intent-select-item",children:t}),Cs(e),e.value===n&&Object(s.jsx)(Y.a,{ml:1,display:"inline-block",variant:"bodySecondary",color:"neutral_6",overflow:"visible",children:"predicted"})]}):Object(s.jsx)(Y.a,{display:"inline-block",title:t,variant:"bodySecondary","data-qa":"intent-select-item",children:t})}(e,t,o||null)},onChange:O,onCreate:k?function(e){E(e),p(!0)}:void 0,createNewText:"Create new intent",items:j,value:h&&h.value.length?h:null,variant:l,"data-qa":"intent-select"},u))})),ws=n(205),Es=n(569),ks=n(1145);function Ts(e){var t=e.overflowThreshold,n=void 0===t?5:t,r=e.tags,a=r.slice(0,n),o=r.length-a.length,c=Object(s.jsx)(U.d,{children:Object(s.jsxs)("ul",{style:{listStyle:"none",padding:0,margin:0},children:[a.map((function(e){return Object(s.jsx)("li",{children:Object(s.jsxs)(U.d,{width:"100%",alignItems:"center",py:2,sx:{lineHeight:"24px"},children:[Object(s.jsx)(Ji,{borderColor:"neutral_8",color:"#".concat(e.color),ml:"2px",mr:"12px",radius:"8px",title:e.value},e.id),e.value]})},e.id)})),o>0&&Object(s.jsx)("li",{children:Object(s.jsxs)(U.d,{width:"100%",alignItems:"center",py:2,sx:{lineHeight:"24px",fontWeight:400,color:"neutral_6"},children:["+ ",o," more tags"]})},"plusmore")]})});return Object(s.jsx)(U.d,{px:36,sx:{width:"140px",height:"40px",visibility:"visible",alignItems:"center",justifyContent:"flex-start"},children:Object(s.jsx)(Mr.a,{py:0,px:3,content:c,children:Object(s.jsxs)(U.d,{sx:{width:"100%",flexDirection:"row",alignItems:"center",textAlign:"center"},children:[a.map((function(e){return Object(s.jsx)(Ji,{color:"#".concat(e.color),title:e.value,mr:"-4px"},e.id)})),o>0&&Object(s.jsxs)(Y.a,{ml:2,fontSize:"11px",variant:"captionPrimary",children:["+\xa0",o]})]})})})}var As=a.memo(Ts),_s=function(e){return-1===e?h.a[0]:h.a[e%(h.a.length-1)]},Fs=n(1186),Rs=n(305),Ds=n.n(Rs),Is=n(31),Ls=n(172),Ns=n(568);function Bs(e){var t=e.tag,n=e.checked,r=e.onChange;return Object(s.jsxs)(Nr.Flex,{p:3,alignItems:"center",sx:{"&:hover":{bg:"neutral_1"}},onClick:function(){return r(!n)},children:[Object(s.jsx)(H.Box,{mr:2,sx:{visibility:n?"visible":"hidden"},children:Object(s.jsx)(ie.a,{color:"primary_2",icon:Ns.faCheck})}),Object(s.jsx)(Ji,{color:"#".concat(t.color),mr:2}),Object(s.jsx)(Y.a,{color:"neutral_8",children:t.value}),Object(s.jsx)(H.Box,{flex:1}),Object(s.jsx)(Nr.Box,{children:n&&Object(s.jsx)(ie.a,{color:"neutral_5",icon:ce.faTimes})})]})}var Us=a.memo(Bs);function Ms(e){var t=e.onCreate,n=e.onTagChange,r=e.selectedTags,o=e.onOpenModal,c=a.useState(""),i=Object(F.a)(c,2),l=i[0],u=i[1],d=a.useState(!1),b=Object(F.a)(d,2),f=b[0],p=b[1],j=a.useState(""),O=Object(F.a)(j,2),x=O[0],g=O[1],v=Object(m.c)(),y=Object(m.d)((function(e){return e.projects.tags})),C=a.useMemo((function(){return 0===y.length?_s(0):function(e){var t=h.a.indexOf(e);return-1===t?h.a[0]:_s(t+1)}(y[y.length-1].color)}),[y]),S=a.useCallback((function(){t({value:l,color:C}),v(Is.e.request()),p(!1)}),[v,C,l,t]),w=a.useMemo((function(){return y.length>0&&Object(s.jsx)(H.Box,{sx:{maxHeight:240,overflow:"auto"},children:y.map((function(e){return""!==x&&e.value.toLowerCase().indexOf(x.toLowerCase())<0?null:Object(s.jsx)(H.Box,{children:Object(s.jsx)(Us,{checked:r.includes(e.id),tag:e,onChange:function(t){return n(e,t)}})},e.id)}))})||Object(s.jsx)(s.Fragment,{})}),[n,x,r,y]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(H.Flex,{flexDirection:"column",pb:2,children:[Object(s.jsxs)(H.Box,{px:20,py:2,children:[Object(s.jsx)(Y.a,{my:2,variant:"bodySecondary",sx:{fontWeight:"bold"},children:"Manage tags"}),Object(s.jsx)(Pr.a,{active:!0,fullWidth:!0,my:2,onChangeValue:g,placeholder:"Search tags...",value:x,variant:"search"})]}),Object(s.jsx)(Ic.a,{}),w,Object(s.jsx)(Ic.a,{}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(Fs.a,{px:20,py:3,onClick:function(){u(x),p(!0),o&&o()},variant:"primary",children:"Create new tag"})}),Object(s.jsx)(Ic.a,{}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(Fs.a,{px:20,py:3,onClick:function(){return Object(Ls.c)("https://rasa.com/docs/rasa-x/user-guide/track-progress/#tagging-conversations-via-the-api")},variant:"primary",children:"Use the API to create tags"})})]}),Object(s.jsxs)(oi,{title:"Create tag",open:f,onClose:function(){return p(!1)},style:{width:"412px"},noSeparator:!0,children:[Object(s.jsx)(go.a,{text:"Tag name",children:Object(s.jsx)(Pr.a,{placeholder:"Create new tag...",fullWidth:!0,value:l,onChangeValue:u,autoFocus:!0})}),Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",mr:-1,mt:4,children:[Object(s.jsx)(B.a,{mx:1,variant:"primary",onClick:S,children:"Create and add"}),Object(s.jsx)(B.a,{mx:1,variant:"secondary",onClick:function(){return p(!1)},children:"Cancel"})]})]})]})}var Ps=a.memo(Ms,(function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];if("selectedTags"===a){if(!Ds()(e[a],t[a]))return!1}else if(e[a]!==t[a])return!1}return!0})),qs=function(){return Object(s.jsx)(H.Box,{height:40,width:40,mx:1})};function Hs(e){var t,n=e.suggestion,r=e.bulkSelectedTags,o=e.onDelete,c=e.onTagCreation,i=e.onTagChange,l=e.onMarkCorrect,u=e.hasIntent,d=e.highlight,b=e.interactive,f=e.buttonVariant,p=void 0===f?"icon":f,j=e.canCreate,h=e.canDelete,O=e.canModify,x=Object(R.n)(!1),g=Object(F.a)(x,2),v=g[0],y=g[1],C=Object(m.d)((function(e){return e.projects.tags})),S=u||!!(null===n||void 0===n||null===(t=n.user_input.intent)||void 0===t?void 0:t.name),w=(null===n||void 0===n?void 0:n.conversation_id)&&(null===n||void 0===n?void 0:n.event_id),E="context"===d,k="delete"===d,T="correct"===d,A=a.useCallback((function(e){c(e,n)}),[c,n]),_=a.useCallback((function(e,t){i(e,!!t,n)}),[i,n]),D=a.useCallback((function(){return y()}),[y]),I=a.useMemo((function(){return C.filter((function(e){return null===n||void 0===n?void 0:n.tags.find((function(t){return e.id===t}))}))}),[null===n||void 0===n?void 0:n.tags,C]),L=function(e){return{visibility:b||d?"visible":"hidden",[".table-row:hover & .".concat(e)]:{visibility:"visible"}}},N=a.useMemo((function(){var e;return Object(s.jsx)(Mr.a,{content:S?"Mark Correct":"You need to define an intent before marking this correct",children:Object(s.jsx)(H.Box,{className:"mark-btn",sx:(e="mark-btn",{visibility:(null===n||void 0===n?void 0:n.isDirty)||b||d?"visible":"hidden",[".table-row:hover & .".concat(e)]:{visibility:"visible"}}),"data-qa":"mark-button",children:Object(s.jsx)(B.a,{mx:1,onClick:function(){l(n)},disabled:!S,hover:T,variant:p,active:null===n||void 0===n?void 0:n.isDirty,children:Object(s.jsx)(ie.a,{icon:ws.faCheckCircle})})})})}),[p,S,T,l,n,d,b]);return Object(s.jsxs)(H.Flex,{sx:{width:"100%",alignItems:"flex-start",justifyContent:"flex-end"},children:[I.length>0&&Object(s.jsx)(As,{tags:I}),Object(s.jsxs)(H.Flex,{sx:{flexShrink:0,justifySelf:"flex-end",justifyContent:"flex-end",alignItems:"flex-end"},children:[O?Object(s.jsx)(ba.a,{visible:v,popupWidth:"320px",content:Object(s.jsx)(Ps,{onCreate:A,onTagChange:_,selectedTags:n?n.tags:r||[],onOpenModal:D}),borderRadius:"normal",onClose:function(){return y()},children:Object(s.jsx)(H.Box,{className:"tags-btn",sx:L("tags-btn"),children:Object(s.jsx)(B.a,{mx:1,onClick:y,variant:p,children:Object(s.jsx)(ie.a,{icon:ks.faTags})})})}):Object(s.jsx)(qs,{}),n&&w?Object(s.jsx)(Mr.a,{content:"See Conversation Context",children:Object(s.jsx)(H.Box,{className:"conversations-btn",sx:L("conversations-btn"),children:Object(s.jsx)(B.a,{as:"a",target:"_blank",href:"".concat(Ce.a,"/conversations/").concat(n.conversation_id,"#").concat(n.event_id),rel:"noopener,noreferrer",mx:1,hover:E,variant:p,onClick:function(){},children:Object(s.jsx)(ie.a,{icon:Es.faComments})})})}):Object(s.jsx)(qs,{}),j?N:Object(s.jsx)(qs,{}),h?Object(s.jsx)(Mr.a,{content:"Delete",children:Object(s.jsx)(H.Box,{className:"delete-btn",sx:L("delete-btn"),children:Object(s.jsx)(B.a,{mx:1,onClick:function(){o(n)},hover:k,variant:p,children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})}):Object(s.jsx)(qs,{})]})]})}var Gs=a.memo(Hs);function Vs(e){var t=e.intent,n=e.bulkSelectedTags,r=e.total,a=e.onClearSelection,o=e.onDelete,c=e.onMarkCorrect,i=e.onTagChange,l=e.onTagCreation,u=e.onChangeIntent,d=e.intents,b=Object(R.f)(Te.d.Examples,Te.a.Create),f=Object(R.f)(Te.d.Logs,Te.a.Delete),p=Object(R.f)(Te.d.Examples,Te.a.Update);return Object(s.jsxs)(Qc.a,{label:"item selected",pluralLabel:"items selected",total:r,onClearSelection:a,children:[Object(s.jsx)(H.Box,{width:"50%",children:Object(s.jsx)(H.Flex,{width:"100%",alignItems:"flex-start",children:Object(s.jsx)(Ss,{intent:t||"Multiple intents selected",onChange:u,intents:d,fullWidth:!0,variant:"inverse"})})}),Object(s.jsx)(H.Box,{width:"50%",children:Object(s.jsx)(Gs,{bulkSelectedTags:n,highlight:"hover",hasIntent:!0,onDelete:o,onMarkCorrect:c,onTagChange:i,onTagCreation:l,canCreate:b,canDelete:f,canModify:p,buttonVariant:"iconInverse"})})]})}var zs=n(1134),Ys=null;var Ws="400 13px Lato";function Ks(e){if(void 0===e&&(e=Ws),null===Ys)try{Ys="undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(1e3,1e3).getContext("2d"):document.createElement("canvas").getContext("2d")}catch(t){console.warn(t)}return Ys.font=e,Ys}function Qs(e,t){return Math.round(e.measureText(t).width)}var Xs=n(368),$s=function(){var e=o.a.useState({}),t=Object(F.a)(e,2),n=t[0],r=t[1],a=o.a.useCallback((function(e){return function(t){r(Object(_.a)(Object(_.a)({},n),{},{[e]:!t}))}}),[n]);return{expandedRows:n,getOnCollapseRow:a}};function Zs(e){var t=e.intents,n=e.suggestion,r=e.onChangeIntent,o=a.useCallback((function(e){return r(n,e)}),[r,n]);return n?Object(s.jsx)(H.Flex,{width:"100%",alignItems:"flex-start",children:Object(s.jsx)(Ss,{intent:n.user_input.intent.name,rankedIntents:n.user_input.intent_ranking,onChange:o,intents:t,fullWidth:!0})}):null}var Js=a.memo(Zs),el=n(981),tl=n(982),nl=n(1146),rl=n(1181),al=function(e){Object(nl.a)(n,e);var t=Object(rl.a)(n);function n(){var e;Object(el.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(tl.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.message;return Object(s.jsx)(Cc,{children:e})}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.Component);function ol(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor}function cl(){return Object(s.jsxs)(H.Flex,{as:"tr",children:[Object(s.jsx)(H.Box,{as:"td",width:.2,pt:2,pr:2,pl:0,children:Object(s.jsx)(Pr.a,{fullWidth:!0,value:"Select word...",disabled:!0,title:"Select word..."})}),Object(s.jsx)(H.Box,{as:"td",width:.2,pt:2,pr:2,pl:0,children:Object(s.jsx)(qr.a,{items:[{value:"Item",label:"Entity type"}],value:{value:"Item",label:"Entity type"},disabled:!0,onChange:function(){},fullWidth:!0})}),Object(s.jsx)(H.Box,{as:"td",width:.2,pt:2,pr:2,pl:0,children:Object(s.jsx)(qr.a,{placeholder:"Select a role",items:[{value:"Item",label:"Role"}],value:{value:"Item",label:"Role"},disabled:!0,onChange:function(){},fullWidth:!0})}),Object(s.jsx)(H.Box,{as:"td",width:.2,pt:2,pr:2,pl:0,children:Object(s.jsx)(qr.a,{placeholder:"Select a group",items:[{value:"Item",label:"Group"}],value:{value:"Item",label:"Group"},disabled:!0,onChange:function(){},fullWidth:!0})}),Object(s.jsx)(H.Box,{as:"td",width:.2,pt:2,pr:4,pl:0,children:Object(s.jsx)(qr.a,{placeholder:"Select a synonym",disabled:!0,items:[{value:"Item",label:"Synonym"}],value:{value:"Item",label:"Synonym"},onChange:function(){},fullWidth:!0})}),Object(s.jsx)(B.a,{variant:"plainIcon",fontSize:4,p:0,disabled:!0,onClick:function(){},children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})]},"emptyrowplaceholder")}al.defaultProps={message:"Something went wrong!"};function il(e){var t=e.disableRolesAndGroups,n=a.useContext(l.ThemeContext),r=t?1/3:.2;return Object(s.jsxs)(H.Flex,{sx:{marginRight:40},children:[Object(s.jsx)(H.Flex,{width:r,children:Object(s.jsx)(z.a,{variant:"h5",children:"Word/phrase"})}),Object(s.jsx)(H.Flex,{width:r,children:Object(s.jsx)(z.a,{variant:"h5",children:"Entity type"})}),!t&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(H.Flex,{width:r,children:Object(s.jsx)(z.a,{variant:"h5",children:"Role"})}),Object(s.jsx)(H.Flex,{width:r,children:Object(s.jsx)(z.a,{variant:"h5",children:"Group"})})]}),Object(s.jsx)(H.Flex,{width:r,children:Object(s.jsx)(z.a,{variant:"h5",children:Object(s.jsxs)(H.Flex,{alignItems:"center",children:["Synonym"," ",Object(s.jsx)(zc,{ml:1,color:"neutral_5",content:Object(s.jsxs)(H.Box,{sx:{cursor:"default",textAlign:"left"},children:["Whenever this entity is extracted, it will use this value instead of the actual text in the message."," ",Object(s.jsx)("a",{style:{color:Object(se.get)(n,"colours.neutral_0")},target:"_blank",rel:"noopener noreferrer",href:"https://rasa.com/docs/rasa/nlu/training-data-format/#entity-synonyms",children:"Learn more"})]})})]})})})]})}var sl={value:null,label:"No role"},ll={value:null,label:"No group"},ul=a.memo((function(e){var t=e.entity,n=e.entityTypes,r=e.entityRoles,o=e.entityGroups,c=e.onChangeEntity,i=e.onRemoveEntity,l=e.canCreate,u=e.newEntities,d=e.onSetNewEntityByKey,b=e.synonyms,f=e.disableRolesAndGroups,p="".concat(t.start,"-").concat(t.end,"-").concat(t.extractor||"none"),h=function(e){return!!e.extractor&&!1===e.trainable}(t),O=t.value,x=a.useMemo((function(){return t.entity_synonym_id&&b.find((function(e){return e.value===t.entity_synonym_id}))||null}),[t.entity_synonym_id,b]),g=h||!l&&0===n.length,v=h||!l&&0===r.length,m=h||!l&&0===o.length,y=t.role?{value:t.role,label:t.role}:sl,C=t.group?{value:t.group,label:t.group}:ll,S=a.useState(n),w=Object(F.a)(S,2),E=w[0],k=w[1],T=a.useMemo((function(){return t.entity?E.find((function(e){return e.value===t.entity})):null}),[t.entity,E]),A=a.useState(""),R=Object(F.a)(A,2),D=R[0],I=R[1],L=a.useState(""),N=Object(F.a)(L,2),U=N[0],M=N[1],P=a.useState(!1),q=Object(F.a)(P,2),G=q[0],V=q[1],z=""!==D,Y=a.useCallback((function(){return I("")}),[]),W=a.useMemo((function(){return"Enter the name of the entity ".concat(U,"...")}),[U]),K=a.useMemo((function(){return"Entity ".concat(U)}),[U]),Q=a.useMemo((function(){return"Create entity ".concat(U)}),[U]),X=function(e){return function(n){n&&!Array.isArray(n)&&c(Object(_.a)(Object(_.a)({},t),{},{[e]:n.value}))}},$=function(e){return l?function(){M(e),I(""),ae(!0),V(!0)}:void 0},Z=a.useCallback((function(){V(!1),Y()}),[Y]),J=a.useCallback((function(){return function(e){I(e)}}),[]),ee=a.useCallback((function(e){e.includes("type")?(e="entity",k((function(e){return e.concat({value:D,label:D})}))):e.includes("role")?r.push({value:D,label:D}):o.push({value:D,label:D}),d(p,Object(_.a)(Object(_.a)({},u[p]),{},{entity:Object(_.a)(Object(_.a)({},t),{},{[e]:D})}))}),[t,u,d,o,r,p,D]),te=a.useMemo((function(){return Object(s.jsx)(H.Box,{width:320,children:Object(s.jsx)(go.a,{text:K,children:Object(s.jsx)(Pr.a,{value:D,placeholder:W,onChangeValue:J(),fullWidth:!0,autoFocus:!0,"data-qa":"create-entity-input"})})})}),[D,W,J,K]),ne=a.useMemo((function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{large:!0,disabled:!z,onClick:function(){ee(U),V(!1)},variant:"primary","data-qa":"create-entity-apply",children:Q}),Object(s.jsx)(B.a,{large:!0,mr:1,onClick:Z,variant:"secondary","data-qa":"create-entity-cancel",children:"Cancel"})]})}),[z,Q,ee,Z,U]),re=Object(j.b)(te,{header:"".concat(Q),footer:ne,closeOnClickOutside:!1,closeOnEscape:!1,showCloseButton:!0,variant:"default"}),ae=Object(F.a)(re,2)[1];a.useEffect((function(){ae((function(){return G}))}),[ae,G]);var oe=f?1/3:.2;return Object(s.jsxs)(H.Flex,{"data-qa":"entity-table-row",children:[Object(s.jsx)(H.Box,{width:oe,pt:2,pr:2,pl:0,children:Object(s.jsx)(Pr.a,{fullWidth:!0,value:O,disabled:!0,title:O,"data-qa":"word-input"})}),Object(s.jsx)(H.Box,{width:oe,pt:2,pr:2,pl:0,children:Object(s.jsx)(qr.a,{onCreate:$("type"),items:E,value:T,disabled:g,onChange:X("entity"),fullWidth:!0,closeOnCreate:!0,"data-qa":"entity-type-select"})}),!f&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(H.Box,{width:oe,pt:2,pr:2,pl:0,children:Object(s.jsx)(qr.a,{onCreate:$("role"),items:[sl].concat(r),value:y,disabled:v,onChange:X("role"),fullWidth:!0,closeOnCreate:!0,"data-qa":"role-select"})}),Object(s.jsx)(H.Box,{width:oe,pt:2,pr:2,pl:0,children:Object(s.jsx)(qr.a,{onCreate:$("group"),items:[ll].concat(o),value:C,disabled:m,onChange:X("group"),fullWidth:!0,closeOnCreate:!0,"data-qa":"group-select"})})]}),Object(s.jsx)(H.Box,{width:oe,pt:2,pr:2,pl:0,children:Object(s.jsx)(qr.a,{placeholder:"Select a synonym",value:x,disabled:h||0===b.length,items:b,onChange:X("entity_synonym_id"),fullWidth:!0,"data-qa":"synonym-select"})}),Object(s.jsx)(H.Box,{width:"40px",sx:{alignSelf:"center",flexShrink:0},pt:2,children:h?Object(s.jsx)(Mr.a,{content:"This entity is read-only since it was extracted by a pre-trained model.",children:Object(s.jsx)(H.Box,{width:"100%",textAlign:"center",children:Object(s.jsx)(ie.a,{icon:Vc.faInfoCircle,color:"neutral_5"})})}):Object(s.jsx)(B.a,{"data-qa":"entity-remove-button",variant:"icon",fontSize:4,onClick:function(){return i(t)},children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})]},p)})),dl=function(e){return{label:e,value:e}},bl=function(e){return"#".concat(e)},fl=function(e,t){return Object(_.a)(Object(_.a)({},dl(e)),{},{color:bl(_s(t))})},pl=function(e){return Object(s.jsx)(H.Box,Object(_.a)({sx:{maxHeight:200,overflowY:"auto"}},e))},jl=a.memo((function(e){var t=e.entities,n=e.entityTypes,r=e.entityRoles,o=e.entityGroups,c=e.synonyms,i=e.onRemoveEntity,l=e.onChangeEntity,u=e.enableCreation,d=e.disableRolesAndGroups,b=a.useMemo((function(){return Object(A.a)(t).sort((function(e,t){return e.start-t.start}))}),[t]),f=a.useState({}),p=Object(F.a)(f,2),j=p[0],h=p[1],O=Object(_e.a)(j);Object(R.a)((function(){mi()(O,j)||Object.values(j).forEach((function(e){var t=e.entity,n=e.previous;null===t&&null!==n?l(n):t&&l(t)}))}),200,[j,O]);var x=a.useCallback((function(e,t){h((function(n){return Object(_.a)(Object(_.a)({},n),{},{[e]:t})}))}),[h]),g=a.useMemo((function(){return n.map(fl)}),[n]),v=a.useMemo((function(){return r.map(dl)}),[r]),m=a.useMemo((function(){return o.map(dl)}),[o]),y=a.useMemo((function(){return c.map((function(e){return{value:e.id,label:e.synonym_reference}}))}),[c]);return Object(s.jsxs)(H.Box,{width:"100%",sx:{width:"100%"},children:[Object(s.jsx)(il,{disableRolesAndGroups:d}),Object(s.jsx)(pl,{children:b&&0!==b.length?b&&c&&b.map((function(e){return Object(s.jsx)(ul,{entity:e,entityTypes:g,entityRoles:v,entityGroups:m,disableRolesAndGroups:d,synonyms:y,onChangeEntity:l,newEntities:j,onSetNewEntityByKey:x,canCreate:u,onRemoveEntity:i},"".concat(e.start,"-").concat(e.end,"-").concat(e.extractor||"none"))})):Object(s.jsx)(cl,{})})]})})),hl=a.memo((function(e){var t=e.entities,n=e.entityTypes,r=e.entityRoles,a=e.entityGroups,o=e.onChangeEntity,c=e.onRemoveEntity,i=e.synonyms,l=e.text,u=e.disableRolesAndGroups,d=Object(R.f)(Te.d.Domain,Te.a.Update),b=0===n.length&&!d;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(jl,{entities:t,entityTypes:n,entityRoles:r,entityGroups:a,onChangeEntity:o,onRemoveEntity:c,text:l,synonyms:i,enableCreation:d,disableRolesAndGroups:u}),b&&Object(s.jsx)(kc,{variant:"warning",m:0,py:"10px",mt:3,mb:2,children:Object(s.jsx)(Y.a,{variant:"bodySecondary",lineHeight:"initial",color:"inherit",children:"You don't have permission to create entities."})})]})})),Ol=a.memo((function(e){var t=e.entities,n=e.entityTypes,r=e.entityRoles,o=e.entityGroups,c=e.hasChanges,i=e.onChangeEntity,l=e.onRemoveEntity,u=e.onCancel,d=e.onClose,b=e.onSave,f=e.hidePopover,p=e.showPopover,j=e.text,h=e.children,O=e.synonyms,x=Object(V.a)(e,["entities","entityTypes","entityRoles","entityGroups","hasChanges","onChangeEntity","onRemoveEntity","onCancel","onClose","onSave","hidePopover","showPopover","text","children","synonyms"]);return function(e,t){var n=a.useRef(e),r=a.useRef(t);a.useEffect((function(){n.current=e}),[e]),a.useEffect((function(){r.current=t}),[t]),a.useEffect((function(){return function(){n.current&&r.current()}}),[])}(p,d),f?Object(s.jsx)(s.Fragment,{children:h}):Object(s.jsx)(ba.a,Object(_.a)(Object(_.a)({zIndex:111,content:Object(s.jsxs)(H.Flex,{p:5,flexDirection:"column",alignItems:"start",width:920,style:{textAlign:"left"},children:[Object(s.jsx)(hl,{entities:t,entityTypes:n,entityRoles:r,entityGroups:o,onChangeEntity:i,onRemoveEntity:l,text:j,synonyms:O}),Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1,mt:3,children:[Object(s.jsx)(B.a,{ml:2,large:!0,disabled:!c,variant:"primary","data-qa":"annotate-entities-apply-button",onClick:function(){b(),d()},children:"Apply"}),Object(s.jsx)(B.a,{large:!0,variant:"secondary","data-qa":"annotate-entities-cancel-button",onClick:function(){return u()},children:"Cancel"})]})]}),visible:p,placement:"top",arrow:!0,offset:[0,24],title:Object(s.jsx)(z.a,{variant:"h2",children:"Annotate Entities"}),hideCloseIcon:!1,disabled:f,onClickOutside:function(){},onClose:function(){return u()}},x),{},{children:h}))})),xl=n(2273),gl=n(582),vl=n(367),ml=function(e,t){e.findStyleRanges((function(e){return e.getStyle().size>0}),t)},yl=function(e,t){return"".concat(e.entity,"/").concat(t,"/").concat(e.start)},Cl=function(e){var t=(e||"").split("/"),n=Object(F.a)(t,2),r=n[0],a=n[1];return{entityType:r,entityTypeIndex:a?parseInt(a):0}},Sl=function(e){var t,n=function(e){return e.map((function(e){var t,n=e.entityTypeIndex;return new gl.a((t=_s(n),"#".concat(t)))})).reduce((function(e,t){return e?e.mix(t):t})).toHexString()}(e.toArray().map(Cl)),r=(t=n,Object(ha.c)(.75,t));return{bg:r,borderColor:n,color:function(e){return Object(xl.a)(e,[h.b.colours.neutral_0,h.b.colours.neutral_8]).toHexString()}(r)}},wl=function(e){var t=e.children,n=e.disabled,r=e.contentState,a=e.start,o=e.isPopupShown,c=e.onMarkClick,i=r.getBlocksAsArray(),l=Object(F.a)(i,1)[0].getInlineStyleAt(a),u=Sl(l),d=u.bg,b=u.borderColor,f=u.color,j=function(e){var t=e.toArray().map(Cl),n=Array.from(new Set(t.map((function(e){return e.entityType})))),r=Object(s.jsx)(U.d,{ml:1,sx:{display:"inline-flex",fontWeight:700},children:n.join(", ")});return Object(s.jsxs)(U.d,{children:[n.length>1?"Edit entities ":"Edit entity ",r]})}(l),h=Object(p.b)(j,{placement:"top",disabled:n||o});return Object(s.jsx)(H.Text,{as:"span",ref:h,sx:{bg:d,color:f,cursor:n?"inherit":"pointer",borderBottom:"4px solid ".concat(b),borderRadius:2,px:"2px",py:"1px"},onClick:function(e){e.stopPropagation(),c&&c()},children:t})},El=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+\x08*/g,kl=function(e,t){var n,r=e.getText().matchAll(El),a=Object(xi.a)(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;Object(sa.a)(o.index)&&t(o.index,o.index+o[0].length)}}catch(c){a.e(c)}finally{a.f()}},Tl=function(e){var t=e.start,n=e.end,r=e.decoratedText,a=e.children,o=e.isMouseDown,c=e.disabled,i=e.onTokenClick;return Object(s.jsx)(H.Text,{as:"span",onClick:function(){i&&i(r,t,n)},sx:{height:"20px",borderRadius:"2px",p:"2px",m:"-2px","&:hover":o||c?{}:{bg:"neutral_4"},"&:active":{bg:"transparent"}},children:a})},Al=function(e,t,n,r){return vl.EditorState.createWithContent(Object(vl.convertFromRaw)({blocks:[{key:"key",type:"unstyled",text:e,depth:0,inlineStyleRanges:t.map((function(e){var t=n.indexOf(e.entity),r=n.length;return{style:yl(e,-1===t?r:t),offset:e.start,length:e.end-e.start}})),entityRanges:[]}],entityMap:{}}),function(e){return new vl.CompositeDecorator([{strategy:ml,component:wl,props:e},{strategy:kl,component:Tl,props:e}])}(r))},_l=function(e){return[e.getCurrentContent().getPlainText(),Object(vl.convertToRaw)(e.getCurrentContent()).blocks.reduce((function(e,t){return[].concat(Object(A.a)(e),Object(A.a)(t.inlineStyleRanges.map((function(e){var n=e.style.indexOf("/"),r=e.style.lastIndexOf("/");return{start:e.offset,end:e.offset+e.length,entity:e.style.substring(0,n),id:e.style.substring(r),value:t.text.substr(e.offset,e.length)}}))))}),[])]},Fl=function(e,t){var n=e.getSelection(),r=n.getStartOffset(),a=n.getEndOffset();return r!==a&&!t.some((function(e){return t=r,n=a,o=e.start,c=e.end,Math.max(t,o)<Math.min(n,c);var t,n,o,c}))},Rl=a.forwardRef((function(e,t){var n=e.entities,r=e.entityTypes,o=e.onChange,c=e.onClick,i=e.onEntityAdded,l=e.text,u=e.isPopupShown,d=e.disabled,b=void 0!==d&&d,f=a.useState(!1),p=Object(F.a)(f,2),j=p[0],h=p[1],O=Object(_e.a)(j),x=Object(_e.a)(u),g=a.useCallback((function(e,t,a){var c=function(e,t,n,r){return{id:xa()(),start:t,end:n,value:e,entity:r}}(e,t,a,r[0]);o(l,[].concat(Object(A.a)(n),[c])),i&&i()}),[l,r,n,o,i]),v=a.useCallback((function(e,t,n){g(e,t,n)}),[g]),m=a.useCallback((function(){return Al(l,n,r,{disabled:b,onMarkClick:c,onTokenClick:v,isMouseDown:j,isPopupShown:u})}),[l,n,b,c,v,r,j,u]),y=a.useState(m()),C=Object(F.a)(y,2),S=C[0],w=C[1],E=Object(_e.a)(n),k=a.useMemo((function(){return!Ds()(n,E)}),[n,E]);a.useEffect((function(){var e=_l(S),t=Object(F.a)(e,2),r=t[0],a=t[1];if(l!==r||n.length!==a.length||k||O!==j){var o=m();w(o)}}),[l,n,k,S,w,m,O,j,x,u]);var T=a.useCallback((function(){var e=S.getSelection(),t=e.getStartOffset(),n=e.getEndOffset(),r=_l(S),a=Object(F.a)(r,1)[0];g(a.substring(t,n),t,n)}),[S,g]);a.useEffect((function(){Fl(S,n)&&T()}),[S,n,T]);return Object(s.jsx)(H.Box,{sx:{width:"100%"},onClick:c,ref:t,onMouseDown:function(e){h(!0),e.detail>1&&e.preventDefault()},onMouseUp:function(){return h(!1)},children:Object(s.jsx)(vl.Editor,{editorState:S,onChange:function(e){return w(e)},blockStyleFn:function(){return"defaultEditorStyles"},keyBindingFn:function(){return"not-handled-command"},readOnly:b})})})),Dl=function(e){return e.length>160},Il=function(e){return e.substring(0,160)+"..."};function Ll(e){var t=e.entityTypes,n=e.entityRoles,r=e.entityGroups,o=e.entities,c=e.onChange,i=e.collapsed,l=e.onCollapse,u=e.interactive,d=e.setShowPopup,b=e.showPopup,f=e.synonyms,p=e.text,j=a.useState(""),h=Object(F.a)(j,2),O=h[0],x=h[1],g=a.useState(p),v=Object(F.a)(g,2),m=v[0],y=v[1],C=a.useState(o),S=Object(F.a)(C,2),w=S[0],E=S[1],k=a.useMemo((function(){return!mi()(o,w)}),[w,o]);a.useEffect((function(){return E(o)}),[o]);var T=a.useCallback((function(){k&&(y(p),E(o))}),[k,o,p]),A=Dl(p);a.useEffect((function(){var e=p||"";A&&i&&(e=Il(e)),x(e)}),[A,i,x,p]);var _=a.useCallback((function(e){var t=function(e,t){return e.map((function(e){return ol(e,t)?t:e}))}(w,e);E(t)}),[w]),R=a.useCallback((function(e){var t=function(e,t){return e.filter((function(e){return!ol(e,t)}))}(w,e);E(t)}),[w]),D=a.useMemo((function(){return Object(s.jsx)(Rl,{entities:w,entityTypes:t,onChange:function(e,t){l(!1),y(e),E(t)},text:O,onEntityAdded:function(){return d(!0)},onClick:function(){l(!1),w.length>0&&d(!0)},isPopupShown:b,disabled:!u})}),[w,O,t,b,u,d,l]),I=a.useMemo((function(){return Object(s.jsx)(Rl,{entities:w,entityTypes:t,onChange:function(e,t){},text:O,disabled:!0,isPopupShown:b})}),[w,t,O,b]);return u||b||k?Object(s.jsx)(Ol,{hidePopover:!u||!b,text:m,entities:w,entityTypes:t,entityRoles:n,entityGroups:r,hasChanges:k,onChangeEntity:_,onCancel:function(){d(!1),T()},onClose:function(){return d(!1)},onSave:function(){return c(m,w)},onRemoveEntity:R,showPopover:b,synonyms:f,containerStyle:{width:"100%"},children:Object(s.jsxs)(U.d,{sx:{flexDirection:"column",alignItems:"flex-start",flexGrow:"1"},children:[D,A&&Object(s.jsxs)(B.a,{paddingTop:2,alignSelf:"flex-start",variant:"link",onClick:function(){return l(!i)},children:["See ",i?"more":"less"]})]})}):I}function Nl(e){var t=e.onShowAnnotationPopup,n=e.suggestion,r=e.onChange,o=e.onFetchSynonymByMappedValue,c=e.showEntityPopup,i=Object(V.a)(e,["onShowAnnotationPopup","suggestion","onChange","onFetchSynonymByMappedValue","showEntityPopup"]),l=a.useCallback((function(e,t){return r(Object(_.a)(Object(_.a)({},n),{},{user_input:Object(_.a)(Object(_.a)({},n.user_input),{},{text:e,entities:t})}))}),[n,r]),u=a.useCallback((function(e){t(e),e&&!c&&n.user_input.entities.length>0&&o({suggestionId:n.id,entities:n.user_input.entities})}),[o,t,c,n.id,n.user_input.entities]);return Object(s.jsx)(Ll,Object(_.a)({setShowPopup:u,text:n.user_input.text,entities:n.user_input.entities,onChange:l,showPopup:c},i))}var Bl=function(e,t,n){return e?null===n?t:n:null};function Ul(e){var t=e.entities,n=e.onChange,r=e.onShowAnnotationPopup,o=e.text,c=a.useState(o),i=Object(F.a)(c,2),l=i[0],u=i[1],d=a.useState(!1),b=Object(F.a)(d,2),f=b[0],p=b[1],h=a.useState(!1),O=Object(F.a)(h,2),x=O[0],g=O[1],v=a.useCallback((function(){return u(o)}),[o]),m=t.length>0,y=a.useMemo((function(){return t.map((function(e){return e.value})).join(", ")}),[t]),C=o!==l,S=a.useCallback((function(){n(l,[]),g(!1)}),[l,n]),w=a.useCallback((function(){g(!1),v()}),[v]),E=a.useMemo((function(){return Object(s.jsxs)(H.Box,{width:512,children:[m&&Object(s.jsxs)(kc,{mx:0,mt:0,variant:"warning",children:["Editing this message will remove entity annotations for: ",y]}),Object(s.jsx)(Pr.a,{value:l,onChangeValue:function(e){return u(e)},fullWidth:!0,"data-qa":"message-edit-input"})]})}),[y,m,l]),k=a.useMemo((function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{large:!0,disabled:!C,onClick:S,variant:"primary","data-qa":"message-edit-apply-button",children:m?"Remove entities and apply":"Apply"}),Object(s.jsx)(B.a,{large:!0,mr:1,onClick:w,variant:"secondary","data-qa":"message-edit-cancel-button",children:"Cancel"})]})}),[C,m,S,w]),T=Object(j.b)(E,{header:"Edit message",footer:k,showCloseButton:!0,variant:"contextualBoxShadow"}),A=Object(F.a)(T,2)[1];return a.useEffect((function(){A((function(){return x}))}),[A,x]),Object(s.jsx)(Os,{animation:"shift-toward",offset:[0,0],options:[{label:"Edit entities",dataQA:"sentence-dropdown-edit-entities",action:function(){return r(!0)}},{label:"Edit message",dataQA:"sentence-dropdown-edit-message",action:function(){A(!0),g(!0)}}],onClose:function(){return p(!1)},visible:f,width:240,children:Object(s.jsx)(B.a,{hover:f,onClick:function(){return p((function(e){return!e}))},variant:"icon",children:Object(s.jsx)(ie.a,{icon:Ve.faEdit})})})}var Ml=a.memo(Ul);function Pl(e){var t=e.collapsed,n=e.onCollapse,r=e.entityTypes,a=e.entityRoles,o=e.entityGroups,c=e.interactive,i=e.selected,l=e.showEdit,u=e.showEntityPopup,d=e.onShowAnnotationPopup,b=e.suggestion,f=e.synonyms,j=e.onChange,h=e.onChangeSelected,O=e.onFetchSynonymByMappedValue,x=Object(p.b)("Click words or select text to edit entities",{placement:"top",disabled:!c||u});return b?Object(s.jsxs)(H.Flex,{sx:{flexGrow:1,alignItems:"flex-start",justifyContent:"space-between"},children:[Object(s.jsx)(H.Box,{as:"label",py:"12px",sx:{flexShrink:0,width:32},children:Object(s.jsx)(ea.a,{checked:i,onChange:function(e){return h("shiftKey"in e&&e.shiftKey)}})}),Object(s.jsx)(H.Box,{py:"".concat(8,"px"),sx:{flexGrow:1},ref:x,children:Object(s.jsx)(al,{children:Object(s.jsx)(Nl,{showEntityPopup:u,suggestion:b,onChange:j,onShowAnnotationPopup:d,entityTypes:r,entityRoles:a,entityGroups:o,interactive:c,synonyms:f,onFetchSynonymByMappedValue:O,collapsed:t,onCollapse:n})})}),Object(s.jsx)(H.Box,{"data-qa":"sentence-edit-button",className:"edit-btn",mx:"".concat(16,"px"),sx:{flexShrink:0,width:40,visibility:l?"visible":"hidden",".table-row:hover & .edit-btn":{visibility:"visible"}},children:Object(s.jsx)(Ml,{entities:b.user_input.entities,interactive:l,onChange:function(e,t){return j(Object(_.a)(Object(_.a)({},b),{},{user_input:Object(_.a)(Object(_.a)({},b.user_input),{},{text:e,entities:t})}))},onShowAnnotationPopup:d,text:b.user_input.text})})]}):null}var ql=a.memo(Pl),Hl=function(e){return Object(s.jsx)(U.d,Object(_.a)({py:"".concat(12,"px")},e))};function Gl(e){var t=e.emptyTablePlaceholder,n=e.entityTypes,r=e.entityRoles,o=e.entityGroups,c=e.fetchSynonym,i=e.highlightedRow,l=e.setHighlightedRow,u=e.intents,d=e.items,b=e.loadingInboxItems,f=e.loadMore,p=e.noMoreItems,j=e.onTagChange,h=e.onTagCreation,O=e.acceptInboxItem,g=e.deleteInboxItem,v=e.updateInboxItem,m=e.updateIntent,y=e.updateItemSelection,C=e.selectedItemsIndices,S=e.synonyms,w=e.total,E=Object(R.f)(Te.d.Examples,Te.a.Create),k=Object(R.f)(Te.d.Examples,Te.a.Delete),T=Object(R.f)(Te.d.Examples,Te.a.Update),A=$s(),_=A.expandedRows,D=A.getOnCollapseRow,I=a.useState(null),L=Object(F.a)(I,2),N=L[0],B=L[1],U=null!==N,M=Object(R.m)(200),P=Object(F.a)(M,2),q=P[0],H=P[1],G=Object(R.m)(200),V=Object(F.a)(G,2),z=V[0],Y=V[1],W=Object(R.m)(200),K=Object(F.a)(W,2),Q=K[0],X=K[1],$=(q?"correct":Q&&"context")||z&&"delete"||void 0;Object(Xs.a)("j",(function(){return!U&&l((function(e){return Math.min(e+1,d.length)}))}),[d,U]),Object(Xs.a)("k",(function(){return!U&&l((function(e){return Math.max(e-1,0)}))}),[U]),Object(Xs.a)("s",(function(){return!U&&H((function(){return O(d[i])}))}),[H,O,U,d,i]),Object(Xs.a)("d",(function(){return!U&&Y((function(){return g(d[i])}))}),[Y,g,U,d,i]),Object(Xs.a)("c",(function(){return!U&&X((function(){var e=d[i];e.conversation_id&&e.event_id&&Object(Ls.c)("/conversations/".concat(e.conversation_id,"#").concat(e.event_id))}))}),[X,g,U,d,i]);var Z=a.useMemo((function(){return{highlightAction:$,selectedItemsIndices:C}}),[$,C]),J=a.useCallback((function(e,t){var n=Bl(e,t,N);B(n)}),[N]),ee=a.useCallback((function(e){U||l(e)}),[U,l]),te=x(),ne=te.sentenceEditor.lineHeight,re=a.useCallback((function(e,t){var a=t.index,i=t.highlighted,l=t.metadata.selectedItemsIndices,u=U&&N!==a;return Object(s.jsx)(Hl,{"data-content":e.user_input.text,children:Object(s.jsx)(ql,{collapsed:!_[a],entityTypes:n,entityRoles:r,entityGroups:o,showEdit:null===N&&i,interactive:!u,onShowAnnotationPopup:function(e){return J(e,a)},showEntityPopup:N===a,onChange:v,onChangeSelected:function(e){return y(a,e)},onCollapse:D(a),onFetchSynonymByMappedValue:c,selected:l.includes(a),suggestion:e,synonyms:S})})}),[_,D,n,r,o,N,J,S,v,y,c,U]),ae=a.useMemo((function(){return p||0===w?w:w+2}),[p,w]);return Object(s.jsxs)(yo.a,{emptyStatePlaceholder:t,loading:b,variant:"flattened",rows:d,rowStyle:{alignItems:"flex-start"},highlight:i,setHighlightedRow:ee,total:ae,metadata:Z,onLoadMore:f,getKey:function(e){return e.id},stripeSelection:!0,rowHeight:function(e){var t=e.index,n=e.size;if(!d[t])return 40+te.sentenceEditor.lineHeight;var r=d[t].user_input.text,a=(n.width-zs.b)/3-104,o=Dl(r),c=!_[t],i=40+function(e,t,n){var r=n.fontConfig||Ws,a=n.wordPx||0,o=n.wordFactor||1,c=Ks(r);if(!c)return 1;for(var i=Qs(c," "),s=1,l=0,u=e.split(" "),d=0;d<u.length;){var b=Qs(c,u[d])*o+a;(l+=(0===d?0:i)+b)>=t&&(s+=1,l=b),d++}return s}(o&&c?Il(r):r,a,{fontConfig:te.sentenceEditor.canvasFontConfig,wordFactor:1.1,wordPx:1})*te.sentenceEditor.lineHeight;return o?i+ne:i},disableExpensiveHeightMeasuring:!0,children:[Object(s.jsx)(Co.a,{title:"Sentence",width:"33.333%",dataQA:"sentence-column",children:re}),Object(s.jsx)(Co.a,{title:"Predicted Intent and Confidence",width:"33.333%",dataQA:"intent-column",children:function(e){return Object(s.jsx)(Hl,{children:Object(s.jsx)(Js,{suggestion:e,intents:u,onChangeIntent:m},e.id)})}}),Object(s.jsx)(Co.a,{width:"33.333%",children:function(e,t){var n=t.highlighted,r=t.metadata.highlightAction;return Object(s.jsx)(Hl,{children:Object(s.jsx)(Gs,{suggestion:e,highlight:n&&(r||"hover")||void 0,interactive:null===N&&n,onDelete:g,onMarkCorrect:O,onTagChange:j,onTagCreation:h,canCreate:E,canDelete:k,canModify:T})})}})]})}var Vl=a.memo(Gl),zl=n.p+"static/media/SaraWithMailbox.bae2510e.svg",Yl={fetchInboxItems:Si.e.request,fetchDataTags:Si.d.request,fetchEntityDetails:yi.f.request,fetchIntents:yi.l.request,fetchSynonyms:Ai.b.request,fetchSynonym:Si.g.request,matchEmptyTags:Si.i,updateInboxItem:Si.a,acceptInboxItem:yi.p.request,deleteInboxItem:Si.c.request,saveSuggestionTags:Si.l.request,removeSuggestionTag:Si.j.request};var Wl=Object(m.b)((function(e){return{items:e.suggestions.suggestions,intents:e.examples.intents,entityGroups:e.examples.entityGroups,entityRoles:e.examples.entityRoles,entityTypes:e.examples.entityTypes,filter:e.suggestions.filter,filterPresentOnLoad:e.suggestions.filterPresentOnLoad,initialFetchComplete:e.suggestions.initialFetchComplete,loading:e.suggestions.loading,noMoreItems:e.suggestions.noMoreSuggestions,suggestionsEntityGroups:ki(e.suggestions),suggestionsEntityRoles:Ei(e.suggestions),suggestionsEntityTypes:Ti(e.suggestions),synonyms:e.synonyms.synonyms,tags:e.suggestions.tags,totalFetched:e.suggestions.totalFetched,searchQuery:e.suggestions.searchQuery}}),Yl)((function(e){var t=e.fetchInboxItems,n=e.fetchDataTags,r=e.fetchEntityDetails,o=e.fetchIntents,c=e.fetchSynonyms,i=e.fetchSynonym,l=e.matchEmptyTags,u=e.updateInboxItem,d=e.acceptInboxItem,b=e.deleteInboxItem,f=e.saveSuggestionTags,p=e.removeSuggestionTag,j=e.items,h=e.intents,O=e.entityTypes,x=e.entityRoles,g=e.entityGroups,v=e.filter,m=e.filterPresentOnLoad,C=e.initialFetchComplete,S=e.loading,w=e.noMoreItems,E=e.synonyms,k=e.tags,T=e.totalFetched,D=e.searchQuery,I=e.suggestionsEntityGroups,L=e.suggestionsEntityRoles,U=e.suggestionsEntityTypes,M=a.useState("time"),P=Object(F.a)(M,2),q=P[0],G=P[1],V=a.useState("desc"),z=Object(F.a)(V,2),Y=z[0],W=z[1],K=te().currentOnboardingStep,Q=Object(y.i)().pathname,X=Object(_e.a)(Q),$=a.useMemo((function(){return Object(A.a)(new Set([].concat(Object(A.a)(g),Object(A.a)(I))))}),[g,I]),Z=a.useMemo((function(){return Object(A.a)(new Set([].concat(Object(A.a)(x),Object(A.a)(L))))}),[x,L]),J=a.useMemo((function(){return Object(A.a)(new Set([].concat(Object(A.a)(O),Object(A.a)(U))))}),[O,U]),ee=a.useCallback((function(e){if(e){var t=Array.isArray(e)?e:[e];d(t)}}),[d]),ne=a.useCallback((function(e){e&&b(e)}),[b]),re=a.useState(D),ae=Object(F.a)(re,2),oe=ae[0],ce=ae[1],se=a.useState(v),le=Object(F.a)(se,2),ue=le[0],de=le[1],be=a.useMemo((function(){return v.tags.filter((function(e){return 0===e.color.length||0===e.value.length})).length}),[v.tags]);a.useEffect((function(){!be&&k.length>0&&de(v)}),[v,be,k.length]),a.useEffect((function(){be&&k.length>0&&l()}),[be,l,k]),Object(R.a)((function(){var e=0===j.length&&!C,n=Q!==X,r=oe!==D,a=!mi()(v,ue);(e||n||r||a||m||K===N.a["NLU::MESSAGE_ANNOTATED"])&&t({search:oe,filter:ue,offset:0,limit:50,sortBy:q,sortOrder:Y})}),200,[ue,m,D,oe,q,Y]);var fe=a.useCallback((function(e){S||t({search:D,filter:v,offset:Math.max(1,e-50),limit:50,sortBy:q,sortOrder:Y})}),[t,S,v,D,q,Y]);a.useEffect((function(){r()}),[r]),a.useEffect((function(){o()}),[o]),a.useEffect((function(){c({search:""})}),[c]),a.useEffect((function(){n()}),[n]);var pe=a.useCallback((function(e,t){return u(Object(_.a)(Object(_.a)({},e),{},{user_input:Object(_.a)(Object(_.a)({},e.user_input),{},{intent:t})}))}),[u]),je=Object(R.i)(j,"id"),he=je.updateItemSelection,Oe=je.clearItemSelection,xe=je.idArray,ge=je.selectedItems,ve=je.selectedItemsIndices,me=je.mapOverSelectedItemsWithCallback,ye=a.useMemo((function(){var e=null;if(0!==ge.length){var t,n=Object(xi.a)(ge);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,o=null===(r=j[xe.indexOf(a)])||void 0===r?void 0:r.user_input.intent.name;if(null===e)e=o;else if(o!==e)return null}}catch(c){n.e(c)}finally{n.f()}}return e}),[ge,xe,j]),Ce=ve.length>0,Se=Object(R.n)(!1),we=Object(F.a)(Se,2),Ee=we[0],ke=we[1],Te=a.useCallback((function(e,t){t&&f({tags:[e],suggestionId:t.id})}),[f]),Ae=a.useCallback((function(e,t,n){t?n&&f({tags:[e],suggestionId:n.id}):n&&p({suggestionId:n.id,tag:e})}),[p,f]),Fe=a.useCallback((function(e){ve.forEach((function(t){f({tags:[e],suggestionId:j[t].id})}))}),[j,f,ve]),Re=a.useCallback((function(e){ve.forEach((function(t){p({suggestionId:j[t].id,tag:e})}))}),[j,p,ve]),Ie=a.useCallback((function(e,t){t?Fe(e):Re(e)}),[Fe,Re]),Le=a.useCallback((function(e){ve.forEach((function(t){pe(j[t],e)}))}),[ve,j,pe]),Ne=a.useMemo((function(){var e=ve.map((function(e){var t;return null===(t=j[e])||void 0===t?void 0:t.tags})).filter(sa.a);return e.length>0?e.reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))})):[]}),[j,ve]),Be=a.useCallback((function(e){return"Search ".concat(e<1e3?e:"1000+"," item").concat(1!==e?"s":"")}),[]),Ue=a.useCallback((function(e){de(e)}),[de]),Me=a.useState(0),Pe=Object(F.a)(Me,2),He=Pe[0],Ge=Pe[1],Ve=a.useMemo((function(){return oe.length>0||!Object(Ci.h)(v)}),[v,oe.length]),ze=a.useMemo((function(){return j.some((function(e){return e.isDirty}))}),[j]);va({hasChanges:ze});var Ye=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{variant:"headerIcon",onClick:ke,active:Ee,children:Object(s.jsx)(ie.a,{icon:gi.faSlidersH})}),Object(s.jsx)(cs,{filter:ue,expanded:Ee,offset:[-4,-4],onApply:function(e){"Suggestion"===e.type&&Ue(e),Ee&&ke()},onCancel:function(){Ee&&ke()}})]}),We=Object(s.jsx)(gs,{sortBy:q,sortOrder:Y,updateSorting:function(e,n){G(e),W(n),Ge(0),t({search:oe,filter:ue,offset:0,limit:50,sortBy:e,sortOrder:n})},onClick:function(){return Ee&&ke()}}),Ke=Object(s.jsx)(ds,{filter:ue,onChange:function(e){Ue(e)}});return Object(s.jsx)(oc.a,{children:Object(s.jsxs)(H.Box,{sx:{minWidth:"790px",width:"100%",height:"calc(100% - 56px)"},children:[Object(s.jsx)(H.Flex,{width:"100%",sx:{backgroundColor:"netural_0",borderTopLeftRadius:"large",borderTopRightRadius:"large"},children:Object(s.jsx)(De.a,{buttons:[We,Ye],count:j.length,filterTablets:Ke,query:oe,label:Be,onChange:ce,loading:S&&oe.length>0})}),Ce&&Object(s.jsx)(Vs,{intent:ye,total:ve.length,onClearSelection:Oe,onDelete:function(){return me(ne)},onTagChange:Ie,onTagCreation:Fe,onMarkCorrect:function(){return me(ee)},onChangeIntent:Le,intents:h,bulkSelectedTags:Ne}),Object(s.jsx)(Vl,{emptyTablePlaceholder:Object(s.jsx)(qe,{heading:Ve?"No results for this search":"You have no messages yet",image:zl,body:Ve?"You could try shortening or changing your search query or filters.":"When users talk to your assistant, their messages will show up here"}),entityTypes:J,entityRoles:Z,entityGroups:$,fetchSynonym:i,highlightedRow:He,setHighlightedRow:Ge,intents:h,items:j,total:T,loadingInboxItems:!C||S&&!C,loadMore:fe,noMoreItems:w,onTagChange:Ae,onTagCreation:Te,acceptInboxItem:ee,deleteInboxItem:ne,updateInboxItem:u,updateIntent:pe,updateItemSelection:he,selectedItemsIndices:ve,synonyms:E})]})})}));function Kl(e){return Object(s.jsx)(Ee.a,{title:"NLU Inbox",noPadding:!0,children:Object(s.jsx)(H.Box,{height:"100%",width:"100%",px:10,pt:7,children:Object(s.jsx)(Wl,{})})})}var Ql=n(744),Xl=function(){return(Xl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function $l(e){var t=e.children;return Object(s.jsx)(U.a,Xl({as:"span",sx:{fontFamily:"sansSerif",whiteSpace:"pre-wrap"},"data-qa":"markdown-text"},{children:t}),void 0)}function Zl(e){var t=e.children,n=e.href;return Object(s.jsx)(U.a,Xl({as:"a",href:n,onClick:function(e){return e.stopPropagation()},rel:"noopener noreferrer",target:"_blank",sx:{color:"inherit",overflowWrap:"break-word",fontFamily:"sansSerif"}},{children:t}),void 0)}function Jl(e){var t=e.text,n=e.markdown,r=e.truncate;return n?Object(s.jsx)(mn.a,{skipHtml:!1,allowedElements:["p","br","em","strong","a","li","ul","img"],components:{p:$l,a:Zl},plugins:[kn.a,wn.a],rehypePlugins:r?[[Cn.a,{maxChars:200}]]:[],children:t},void 0):Object(s.jsx)($l,{children:t},void 0)}function eu(e){var t=e.latestModelIsNew,n=e.modelIsTraining,r=e.trainingError,o=e.uploadingModel,c=e.cleanUploadState,i=e.cleanTrainState,l=e.conversationDeletionFailed,u=e.children,d=e.onNavigate,b=e.modelUploadError,f=e.modelExists,p=me(),j=p.addToast,h=p.removeToast;return a.useEffect((function(){c||(o||b||j({head:"Model uploaded",timeout:-1,content:"Your model was successfully uploaded. Don\u2019t forget to make it active if you want to use it!",key:"modelUploadStatus"}),o&&j({head:"Uploading model",timeout:-1,key:"modelUploadStatus",icon:Object(s.jsx)(ie.a,{icon:Ql.faSpinner,spin:!0,mr:2})}),o||!b||f||j({head:"Upload failed",timeout:-1,content:"Something went wrong. Please try again.",variant:"error",key:"modelUploadStatus"}),!o&&b&&f&&j({head:"Model already exists",timeout:-1,content:"A model with that name already exists.",variant:"error",key:"modelUploadStatus"}))}),[j,c,o,b,f]),a.useEffect((function(){if(!i&&(t&&!n&&j({head:"Training is done",timeout:-1,actions:Object(s.jsx)(B.a,{variant:"inverse",large:!0,width:1,onClick:function(){d("/models"),h("modelTrainingStatus")},children:"See new model"}),key:"modelTrainingStatus",icon:Object(s.jsx)(ie.a,{icon:Go.faCheckCircle,mr:2})}),t||n||j({head:"Nothing has changed",content:"It seems no changes were made to your model, so we skipped training a new one!",timeout:-1,key:"modelTrainingStatus",actions:Object(s.jsx)(B.a,{variant:"inverse",large:!0,onClick:function(){d("/models"),h("modelTrainingStatus")},children:"See latest model"})}),n&&j({head:"Training started",timeout:-1,key:"modelTrainingStatus",icon:Object(s.jsx)(ie.a,{icon:Ql.faSpinner,spin:!0,mr:2})}),r)){var e=r.message,a="TrainingError"===r.reason;j({head:"Training failed",timeout:-1,content:a&&e?Object(s.jsx)(Jl,{markdown:!0,text:e}):"Your model training has failed.",variant:"error",key:"modelTrainingStatus"})}}),[j,t,n,r,i,d,h]),a.useEffect((function(){l&&j({head:"Failed to delete conversation",timeout:-1,content:"Something went wrong. Please try again later.",variant:"error",key:"conversationDeletionFailed"})}),[j,l]),Object(s.jsx)(s.Fragment,{children:u})}var tu=n(116);function nu(e){var t=e.open,n=e.userId,r=e.onClose,o=e.onDataSubmit,c=Object(m.c)(),i=a.useState(""),l=Object(F.a)(i,2),u=l[0],d=l[1],b=a.useState(""),f=Object(F.a)(b,2),p=f[0],j=f[1],h=a.useState(!0),O=Object(F.a)(h,2),x=O[0],g=O[1];return Object(s.jsxs)(oi,{title:"Got some feedback?",onBackgroundClick:function(){},open:t,style:{width:"584px"},onClose:r,footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{large:!0,ml:2,disabled:0===u.length||0===p.length,onClick:function(){c(tu.b.request({userId:n,name:u,email:p,checkboxChecked:x})),o(),r()},children:"Submit"}),Object(s.jsx)(B.a,{variant:"secondary",onClick:r,large:!0,ml:2,children:"Nevermind"})]}),children:[Object(s.jsx)(kc,{variant:"generic",m:0,py:"12px",mb:4,children:Object(s.jsx)(Y.a,{variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0,children:"Congrats! You have earned some free Rasa swag and the chance to let us know how we can make Rasa X work better for you. Let us know your name and email below, so we can contact you."})}),Object(s.jsxs)(H.Flex,{flexDirection:"column",mb:5,children:[Object(s.jsx)(go.a,{text:"Name",children:Object(s.jsx)(Pr.a,{value:u,onChangeValue:function(e){return d(e)},placeholder:"Enter your name",fullWidth:!0})}),Object(s.jsx)(go.a,{text:"Email",mt:4,children:Object(s.jsx)(Pr.a,{value:p,onChangeValue:function(e){return j(e)},placeholder:"Enter your email",fullWidth:!0})}),Object(s.jsxs)(H.Flex,{as:"label",mt:3,alignItems:"flex-start",children:[Object(s.jsx)(ea.a,{onChange:function(){return g(!x)},checked:x,mr:3,mt:"2px"}),Object(s.jsx)(Y.a,{variant:"bodySecondary",children:"I'm okay with Rasa storing my name, email, and user id to allow me to participate in feedback and user research to improve Rasa X."})]})]})]})}var ru=n(363),au=n(1150),ou=n(1156),cu=n(1151),iu=n(1155),su=n(1153),lu=n(571),uu=n(1152),du=n(1154),bu=n(1157),fu={primary:{bg:"primary_2",color:"neutral_0"},secondary:{bg:"neutral_0",color:"neutral_8"}},pu=function(){return(pu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ju=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function hu(e){var t=e.variant,n=void 0===t?"primary":t,r=e.maxCount,o=void 0===r?99:r,c=e.narrow,i=e.count,l=ju(e,["variant","maxCount","narrow","count"]),u=a.useMemo((function(){return i<o?i:o+"+"}),[i,o]);return Object(s.jsx)(U.a,pu({sx:pu({padding:c?"0 4px":"0 8px",borderRadius:"4px",fontWeight:"bold",fontSize:"12px",lineHeight:"24px"},fu[n])},l,{children:u}),void 0)}var Ou=function(){return(Ou=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},xu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function gu(e){var t,n=e.sx,r=e.variant,a=void 0===r?"medium":r,o=e.children,c=e.username,i=xu(e,["sx","variant","children","username"]);return Object(s.jsx)(U.d,Ou({variant:"avatar."+a,justifyContent:"center",alignItems:"center",fontSize:4,color:"neutral_0",bg:"cyan_2"},i,{sx:Ou({textAlign:"center",borderRadius:"50%",lineHeight:"1em"},n||{})},{children:o||(t=c,t?t.split(" ").slice(0,2).map((function(e){return e.slice(0,1).toUpperCase()})).join(""):null)||null}),void 0)}var vu=n(32);function mu(e){switch(e){case"noChanges":return"#84a861";case"changes":return"#f7c86e";case"conflicts":case"notAuthenticated":return"#cd6c6a";default:return"neutral_6"}}function yu(e){switch(e){case"noChanges":return"You are up to date with the Git server.";case"changes":return"You have changes the Git server does not include.";case"conflicts":return"You have changes the Git server does not include. You also do not have the latest changes from the Git server.";case"notAuthenticated":return"You need to enter your password";default:return"Integrated Version Control has not been set up."}}var Cu=n(189);function Su(e){var t=e.value;return Object(s.jsx)(Y.a,{as:"div",color:"neutral_0",backgroundColor:"primary_2",py:1,px:2,sx:{fontWeight:"bold",fontSize:"12px",borderRadius:"14px"},children:t})}var wu=a.memo(Su);function Eu(){var e=Object(E.a)(["\n            transform: scaleY(0);\n            opacity: 0;\n          "]);return Eu=function(){return e},e}function ku(){var e=Object(E.a)(["\n            transform: scaleY(1);\n            opacity: 1;\n          "]);return ku=function(){return e},e}function Tu(){var e=Object(E.a)(["\n      "," ","\n    "]);return Tu=function(){return e},e}var Au=Object(se.variant)({key:"menuItem"}),_u=Object(l.default)(H.Box).withConfig({displayName:"MenuItem__Container",componentId:"sc-1k0m975-0"})([""," "," "," "," position:relative;flex-shrink:0;transition:background-color 0.2s ease,color 0.2s ease;"," &:before{content:'';width:4px;height:100%;"," position:absolute;left:0;"," border-radius:2px;transition:transform cubic-bezier(0.51,0.92,0.24,1.15) 0.2s;","}"],Au,se.height,se.alignItems,se.display,(function(e){return e.active&&Object(l.css)(Tu(),ps.c,ps.b)}),Object(se.system)({lineBeforeColor:{property:"backgroundColor",scale:"colors"}}),(function(e){return e.active?Object(l.css)(ku()):Object(l.css)(Eu())}),(function(e){return!e.lineBefore&&"display: none;"}));function Fu(e){var t=e.rightIcon,n=e.children,r=e.icon,a=e.p,o=e.badge,c=Object(V.a)(e,["rightIcon","children","icon","p","badge"]);return Object(s.jsx)(_u,Object(_.a)(Object(_.a)({width:"100%",p:a,sx:{cursor:c.onClick?"pointer":"default"}},c),{},{"data-e2e":"component:menu-item",children:Object(s.jsxs)(H.Flex,{width:"100%",flexDirection:"row",alignItems:"center",children:[r&&Object(s.jsx)(H.Box,{flex:"0 0 40px",style:{textAlign:"center",lineHeight:1},pr:3,children:r}),Object(s.jsx)(Y.a,{style:{whiteSpace:"nowrap",flexGrow:1},inheritColor:!0,variant:"text_regular",as:"div",children:n}),o&&"string"===typeof o?Object(s.jsx)(wu,{value:o}):o,t&&Object(s.jsx)(H.Box,{pr:3,children:t})]})}))}function Ru(e){var t=e.onNavigate;return Object(s.jsxs)(Cu.a,{flexDirection:"column",width:248,py:2,children:[Object(s.jsx)(qc.a,{resource:Te.d.Users,action:Te.a.Read,yes:Object(s.jsx)(Fu,{p:2,"aria-label":"navbar-admin-users",onClick:function(){return t("/users")},height:48,pl:5,children:"Manage users"})}),Object(s.jsx)(qc.a,{resource:Te.d.Roles,action:Te.a.Read,yes:Object(s.jsx)(Fu,{p:2,onClick:function(){return t("/roles")},height:48,pl:5,children:"Manage roles"})})]})}_u.defaultProps={lineBeforeColor:"primary_2",colorActive:"neutral_0",bgActive:"neutral_8"},Fu.defaultProps={as:"li",icon:null,textAlign:"left",height:48,alignItems:"center",p:3,display:"flex",variant:"default",lineBefore:!0};var Du=Object(se.system)({widthHover:{property:"width",scale:"space"}}),Iu=Object(l.default)(H.Flex).withConfig({displayName:"Aside",componentId:"p8q4xd-0"})(["height:100%;position:absolute;transition:width 0.2s cubic-bezier(0.51,0.92,0.24,1.15);&:hover,&.force-focus{"," box-shadow:0 0 4px 0 rgba(24,30,46,0.55);}"],Du);Iu.defaultProps={as:"aside",bg:"neutral_7",width:"56px",widthHover:"248px",flexDirection:"column",alignItems:"flex-start"};var Lu=a.memo(Iu);function Nu(e){var t=e.activeGitRepository,n=e.activeRepositoryStatus,r=e.gitStatus,a=e.gitStatusColor,o=e.gitStatusCopy,c=e.isCommittingToNewBranch,i=e.setCommittingToNewBranch,l=e.newBranchName,u=e.setNewBranchName,d=e.commitMessage,b=e.setCommitMessage,f=e.requestError,p=e.validationError;return Object(s.jsxs)(s.Fragment,{children:[f&&Object(s.jsx)(kc,{block:!0,fullBleed:!0,variant:"error",children:Object(s.jsx)(H.Box,{textAlign:"center",py:1,fontSize:2,width:"100%",children:f})}),p&&c&&Object(s.jsx)(kc,{block:!0,fullBleed:!0,variant:"error",children:Object(s.jsx)(H.Box,{textAlign:"center",py:1,fontSize:2,width:"100%",children:p})}),Object(s.jsxs)(H.Flex,{sx:{borderBottom:"solid 1px #f2f4fa"},px:4,py:4,children:[Object(s.jsx)(H.Box,{size:20,bg:a(r),sx:{borderRadius:"4px"},mr:"12px"}),Object(s.jsxs)(Y.a,{as:"div",variant:"bodySecondary",children:[Object(s.jsx)(H.Box,{as:"strong",children:"Status:"})," ",o(r)]})]}),Object(s.jsxs)(H.Box,{px:6,py:4,color:"conflicts"===r?"neutral_6":"neutral_8",children:[Object(s.jsx)(z.a,{variant:"h5",mb:2,children:"Push to:"}),Object(s.jsx)(H.Box,{as:"label",mb:2,sx:{display:"block"},children:Object(s.jsxs)(H.Flex,{alignItems:"center",color:"conflicts"===r||(null===t||void 0===t?void 0:t.is_target_branch_protected)?"neutral_6":"inherit",children:[Object(s.jsx)(H.Box,{mr:2,children:Object(s.jsx)(ea.a,{variant:"radio",checked:!c,onChange:function(){return i(!1)},disabled:"conflicts"===r||!!(null===t||void 0===t?void 0:t.is_target_branch_protected)})}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(Y.a,{as:"div",variant:"bodySecondary",inheritColor:!0,"data-testid":"Committer-current-branch",children:null===n||void 0===n?void 0:n.current_branch})})]})}),Object(s.jsx)(H.Box,{as:"label",children:Object(s.jsxs)(H.Flex,{alignItems:"center",children:[Object(s.jsx)(H.Box,{mr:2,children:Object(s.jsx)(ea.a,{variant:"radio",checked:c,onChange:function(){return i(!0)}})}),Object(s.jsxs)(H.Flex,{alignItems:"center",justifyContent:"space-between",flexGrow:1,children:[Object(s.jsx)(Y.a,{as:"div",variant:"bodySecondary",children:"new branch:"}),Object(s.jsx)(Pr.a,{invalid:!!p,width:"400px",value:l,onChangeValue:u,disabled:!c})]})]})}),Object(s.jsx)(go.a,{text:"Commit message:",pt:4,fontSize:1,children:Object(s.jsx)(H.Flex,{alignItems:"center",children:Object(s.jsx)(Pr.a,{value:d,onChangeValue:b,placeholder:"Optional commit message",fullWidth:!0})})}),c&&Object(s.jsx)(kc,{variant:"generic",m:0,py:"14px",mt:4,mb:2,children:Object(s.jsxs)(Y.a,{variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[Object(s.jsx)(H.Box,{as:"strong",children:"Note:"})," When you add your changes, you will return to match the latest Git server changes. You must merge your new branch into"," ",null===n||void 0===n?void 0:n.current_branch," on the Git server to see those changes reflected here."]})})]})]})}var Bu=/^(http(|s):\/\/)([^\s]+(:\d+)?)(\/)([^\s]+?)?$/,Uu=/^(ssh:\/\/)?([^\s]+@)([^\s]+(:\d+)?)(?::)([^\s]+?)$/;function Mu(e){var t=e.activeGitRepository,n=e.generatedSshKey,r=e.gitStatus,o=e.httpsUsername,c=e.httpsPassword,i=e.protectedBranch,l=e.repositoryUrl,u=e.setHttpsUsername,d=e.setHttpsPassword,b=e.setProtectedBranch,f=e.setRepositoryUrl,p=e.setTargetBranch,j=e.targetBranch,h=e.toggleSSH,O=e.usingSSH,x=Object(R.b)(),g=a.useState(null),v=Object(F.a)(g,2),y=v[0],C=v[1],S=a.useState(!1),w=Object(F.a)(S,2),E=w[0],k=w[1],T=a.useState(null),A=Object(F.a)(T,2),_=A[0],D=A[1],I=Object(m.d)((function(e){return e.gitRepositories.error.connectGitRepository})),L=Object(m.d)((function(e){return e.gitRepositories.error.connectGitRepositoryUnauthorized})),N=Object(m.d)((function(e){return e.gitRepositories.error.connectGitRepositoryBranchNotFound})),U=Object(m.d)((function(e){return e.gitRepositories.error.updateGitRepository})),M=Object(m.d)((function(e){return e.gitRepositories.error.updateGitRepositoryBranchNotFound})),P=Object(m.d)((function(e){return e.gitRepositories.error.deleteGitRepository})),q=Object(m.c)(),G=a.useCallback((function(){return q(vu.i.request())}),[q]);a.useEffect((function(){"notConnected"===r&&G()}),[r,G]),a.useEffect((function(){t&&(p(t.target_branch),b(t.is_target_branch_protected))}),[t,p,b]);var V=I||L||N||U||M||P||null!==y&&!y,z=a.useCallback((function(){k(!1),C(!1),O&&Uu.test(l)?C(!0):Bu.test(l)&&(k(!0),O?D(l.replace(Bu,"git@$3:$6$7")):C(!0))}),[l,O]);return a.useEffect((function(){l.length>0&&z()}),[z,l.length,O]),Object(s.jsxs)(H.Box,{sx:{height:"483px",overflow:"auto",position:"relative"},children:[V&&Object(s.jsx)(H.Box,{width:1,sx:{position:"fixed",zIndex:1},children:Object(s.jsx)(kc,{variant:"error",p:0,m:0,block:!0,py:"14px",children:Object(s.jsx)(Y.a,{variant:"bodySecondary",inheritColor:!0,textAlign:"center",width:1,children:L?"Unable to access repository. Please check your credentials and try again.":N||M?"This branch does not exist. Try entering a branch that\u2019s already in the repository.":U?"Something went wrong. Please try again.":P?"Disconnect failed. Please check your internet connection and try again.":!y&&E&&_&&O?Object(s.jsxs)(s.Fragment,{children:["Did you mean to enter the SSH url: ",Object(s.jsx)("strong",{children:_}),"?"]}):y?"Something went wrong. Please try again.":"Please provide valid values for the highlighted fields."})})}),Object(s.jsxs)(H.Box,{mt:V?7:0,children:[t&&Object(s.jsxs)(Y.a,{variant:"bodySecondary",px:6,py:4,backgroundColor:"neutral_1",children:["You are connected to the repository:"," ",Object(s.jsx)(H.Box,{as:"strong",children:t.repository_url})]}),Object(s.jsxs)(H.Box,{px:6,py:4,children:[!t&&Object(s.jsx)(go.a,{onClick:function(e){return e.preventDefault()},text:Object(s.jsxs)(H.Flex,{flexDirection:"row",justifyContent:"space-between",children:[Object(s.jsxs)(H.Flex,{children:["".concat(O?"SSH":"HTTPS"," URL for repository"),Object(s.jsx)(zc,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"Rasa X will clone the repository using the given ".concat(O?"SSH":"HTTPS","  URL.")})]}),x&&Object(s.jsx)("div",{children:Object(s.jsx)(B.a,{color:"primary_1",fontWeight:0,style:{textDecoration:"underline"},variant:"plain",onClick:h,children:O?"Use HTTPS":"Use SSH"})})]}),mb:4,children:Object(s.jsx)(Pr.a,{"data-testid":"ConnectRepoForm-input-repo-url",invalid:!!L||null!==y&&!y,fullWidth:!0,placeholder:"".concat(O?"user@domain:organization/repo.git":"https://domain/organization/repo.git"),value:l,onChangeValue:f,onBlur:z,suffix:y?Object(s.jsx)(H.Flex,{alignItems:"center",justifyContent:"center",backgroundColor:"primary_2",my:2,sx:{width:"16px",height:"16px",borderRadius:"50%"},children:Object(s.jsx)(ie.a,{icon:Ns.faCheck,color:"neutral_0",fontSize:"8px"})}):null})}),Object(s.jsx)(go.a,{text:Object(s.jsxs)(H.Flex,{flexDirection:"row",children:[Object(s.jsx)(H.Flex,{children:"Target branch "}),Object(s.jsx)(zc,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"This is the branch Rasa X will use to show the initial data, branch off from when you make new changes, and return to after you discard or push changes."})]}),mb:4,children:Object(s.jsx)(Pr.a,{"data-testid":"ConnectRepoForm-input-branch-name",fullWidth:!0,placeholder:"Enter branch name...",value:j,onChangeValue:p,invalid:Object(sa.a)(N)||Object(sa.a)(M)})}),Object(s.jsx)(H.Box,{as:"label",mb:6,children:Object(s.jsxs)(H.Flex,{alignItems:"center",children:[Object(s.jsx)(H.Box,{mr:2,children:Object(s.jsx)(ea.a,{checked:i,onChange:function(){return b(!i)}})}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(Y.a,{as:"div",variant:"bodySecondary",inheritColor:!0,children:"Require users to add changes to a new branch."})})]})})]}),!t&&Object(s.jsxs)(H.Box,{px:6,py:4,sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:[O&&n&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(go.a,{text:Object(s.jsxs)(H.Flex,{flexDirection:"row",children:[Object(s.jsx)(H.Flex,{children:"Copy and add this SSH deploy key to your remote Git repository "}),Object(s.jsx)(zc,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"You need to add this generated public SSH key as a Deploy key to your repository on GitHub, GitLab, BitBucket, etc."})]}),children:Object(s.jsx)(Wo.a,{fullSize:!0,children:n})}),Object(s.jsx)(kc,{variant:"generic",m:0,py:"14px",px:"20px",mt:3,mb:2,children:Object(s.jsxs)(Y.a,{variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[Object(s.jsx)(H.Box,{as:"strong",children:"Note:"})," Once you have added the SSH key above as a deploy key on your remote Git repository, confirm that you have successfully connected by clicking \u201cVerify Connection\u201d below."]})})]}),!O&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(go.a,{text:Object(s.jsxs)(H.Flex,{flexDirection:"row",children:["Username",Object(s.jsx)(zc,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"The username for the account you want to use to access your repository on. GitHub, GitLab, BitBucket, etc."})]}),mb:4,children:Object(s.jsx)(Pr.a,{"data-testid":"ConnectRepoForm-input-username",fullWidth:!0,placeholder:"Enter username...",value:o,onChangeValue:u})}),Object(s.jsx)(go.a,{text:Object(s.jsxs)(H.Flex,{flexDirection:"row",children:["Password",Object(s.jsx)(zc,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"The password for the account you want to use to access your repository on GitHub, GitLab, BitBucket, etc. If you have Two-Factor Authentication (2FA) enabled, you will need to use a personal access token in place of your password."})]}),children:Object(s.jsx)(Pr.a,{"data-testid":"ConnectRepoForm-input-password",fullWidth:!0,placeholder:"Enter password...",value:c,type:"password",onChangeValue:d})})]})]})]})]})}function Pu(e){var t=e.open,n=e.loadingUpdateGitRepository,r=e.onClose,o=e.onCredentialsSubmitCallback,c=e.username,i=a.useState(""),l=Object(F.a)(i,2),u=l[0],d=l[1];return Object(s.jsx)(oi,{title:"Enter the password to your Git repository",px:0,py:0,onBackgroundClick:r,open:t,style:{width:"600px"},onClose:r,footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Be,{onClick:function(){return o(u)},large:!0,disabled:""===u,ml:2,loading:n,children:"Connect"}),Object(s.jsx)(B.a,{variant:"secondary",onClick:r,large:!0,ml:2,children:"Cancel"})]}),children:Object(s.jsxs)(H.Box,{px:6,py:4,children:[Object(s.jsx)(go.a,{text:Object(s.jsxs)(H.Flex,{flexDirection:"row",children:["Username",Object(s.jsx)(zc,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The username you used to initially set up Integrated Version Control. You can edit it in the IVC settings."})]}),mb:4,children:Object(s.jsx)(Pr.a,{fullWidth:!0,disabled:!0,placeholder:"Enter your username...",value:c})}),Object(s.jsx)(go.a,{text:Object(s.jsxs)(H.Flex,{flexDirection:"row",children:["Password",Object(s.jsx)(zc,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The password for the account referenced above. If you have Two-Factor Authentication (2FA) enabled, you will need to use a personal access token in place of your password."})]}),mb:4,children:Object(s.jsx)(Pr.a,{fullWidth:!0,placeholder:"Enter your password...",value:u,type:"password",onChangeValue:d})})]})})}var qu=n(570),Hu=function(e){var t=e.gitStatus,n=e.activeGitRepository,r=e.activeRepositoryStatus,a=e.onRequestConnect,o=e.onRequestAuthentication,c=e.onRequestCommit,i=e.onRequestDiscardChanges,l=r&&(r.first_annotator_id||r.first_annotated_at)?" changed":"",u=r&&r.first_annotator_id&&" by ".concat(r.first_annotator_id)||"",d=r&&r.first_annotated_at&&" at ".concat(Yo.a.unix(r.first_annotated_at).format("hh:mm A on Do MMM YYYY"))||"";return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(z.a,{variant:"h4",color:"neutral_0",children:Object(s.jsxs)(H.Flex,{justifyContent:"space-between",children:[Object(s.jsxs)(H.Box,{children:["notAuthenticated"===t?"Not logged in to your repository":n&&n.target_branch," "]}),Object(s.jsx)(H.Box,{mr:-2,color:"neutral_6",sx:{cursor:"pointer",transition:"all ease .2s","&:hover":{color:"neutral_0"}},children:Object(s.jsx)(ie.a,{icon:qu.faCog,fontSize:"16px",onClick:function(){return a()}})})]})}),Object(s.jsxs)(Y.a,{as:"div",variant:"captionSecondary",color:"neutral_6",mt:2,lineHeight:"normal",children:[r&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(H.Box,{color:"neutral_0",as:"strong",children:"Status".concat(l).concat(u).concat(d,":")})," "]}),yu(t),"notAuthenticated"===t&&Object(s.jsx)(B.a,{width:1,mt:3,large:!0,onClick:function(){return o()},variant:"primaryDark",children:"Enter password"})]}),("changes"===t||"conflicts"===t)&&Object(s.jsxs)(H.Box,{mt:3,children:[" ",Object(s.jsx)(qc.a,{resource:Te.d.Commit,action:Te.a.Create,yes:Object(s.jsx)(B.a,{width:1,mb:2,large:!0,onClick:function(){c()},variant:"primaryDark",children:"Add changes to Git server"})}),Object(s.jsx)(B.a,{width:1,large:!0,variant:"dark",onClick:function(){return i()},children:"Discard changes"})]})]})},Gu=function(e){var t=e.onRequestConnect;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(z.a,{variant:"h4",color:"neutral_0",children:"'Not connected to a Git repository'"}),Object(s.jsxs)(H.Box,{mt:3,children:[" ",Object(s.jsx)(B.a,{width:1,large:!0,mb:2,onClick:function(){return t()},variant:"primaryDark",children:"Connect to a repository"}),Object(s.jsx)(B.a,{as:"a",target:"_blank",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#integrated-version-control",width:1,variant:"dark",large:!0,onClick:function(){},children:"Learn more in the docs"})]})]})},Vu='This branch name isn\'t valid. Try using just letters and "-"',zu="The current branch name is empty. Please provide a name for your new branch.",Yu="The branch you entered already exists. You can only push to a new branch.",Wu="Commit failed because another version control operation is in process.\n Please try again shortly.",Ku=[/\/\.|\.\.|\@\{|\/\/|[ \~\^\:\?\*\[\\]/,/^(\/|\.)|(\/|.lock|\.)$/,/^\@$/,/\/\.|.lock\//];function Qu(e){var t=e.activeGitRepository,n=e.activeRepositoryStatus,r=e.commitModalOpen,o=e.connectModalOpen,c=e.credentialsModalOpen,i=e.disconnectModalOpen,l=e.discardModalOpen,u=e.gitStatus,d=e.onRequestConnect,b=e.onRequestDisconnect,f=e.onFinishDisconnect,p=e.onCancelDisconnect,j=e.onCancelConnect,h=e.onRequestAuthentication,O=e.onRequestDiscardChanges,x=e.onRequestCommit,g=e.onCancelCommit,v=e.onFinishCommit,y=e.onCancelDiscardChanges,C=e.onFinishChanges,S=e.onCloseCredentials,w=Object(R.b)(),E=Object(m.c)(),k=a.useState(""),T=Object(F.a)(k,2),A=T[0],_=T[1],D=a.useState(""),I=Object(F.a)(D,2),L=I[0],N=I[1],U=a.useState(""),M=Object(F.a)(U,2),P=M[0],q=M[1],G=a.useState(""),V=Object(F.a)(G,2),W=V[0],K=V[1],Q=a.useState(!1),X=Object(F.a)(Q,2),$=X[0],J=X[1],ee=a.useState(!1),te=Object(F.a)(ee,2),ne=te[0],re=te[1],ae=a.useState(""),ce=Object(F.a)(ae,2),ie=ce[0],se=ce[1],le=Object(R.n)(!0),ue=Object(F.a)(le,2),de=ue[0],be=ue[1],fe=a.useState(!1),pe=Object(F.a)(fe,2),je=pe[0],he=pe[1];a.useEffect((function(){t&&t.username&&q(t.username)}),[t]);var Oe=Z(),xe=Object(m.d)((function(e){return e.gitRepositories.generatedSshKey})),ge=Object(m.d)((function(e){return e.auth.username})),ve=a.useCallback((function(){return"Rasa-x-".concat(Yo()().format("MMM-Do-YY--h-mm-ss-a"),"-").concat(w?ge||"":oe()())}),[w,ge]),me=a.useState(ve()),ye=Object(F.a)(me,2),Ce=ye[0],Se=ye[1],we=Object(m.d)((function(e){return!!e.gitRepositories.loading.connectGitRepository})),Ee=Object(m.d)((function(e){return!!e.gitRepositories.loading.updateGitRepository})),ke=Object(m.d)((function(e){return!!e.gitRepositories.loading.deleteGitRepository})),Te=Object(m.d)((function(e){return e.gitRepositories.loading.commitGitChanges})),Ae=Object(m.d)((function(e){return e.gitRepositories.error.commitGitChanges}));a.useEffect((function(){Te?he(!0):Te||!je||Ae?Ae&&je&&he(!1):(he(!1),v())}),[je,he,se,Se,ve,v,Te,Ae]),a.useEffect((function(){t&&(N(t.target_branch),J(t.is_target_branch_protected))}),[t]),a.useEffect((function(){("conflicts"===u||t&&t.is_target_branch_protected)&&re(!0)}),[u,re,t]);var _e,Fe,Re=a.useCallback((function(){Oe("gitCredentials"),S()}),[S,Oe]),De=a.useCallback((function(){se(""),Se(ve())}),[se,Se,ve]),Ie=a.useCallback((function(e){return E(vu.f.request({repositoryId:e}))}),[E]),Le=a.useCallback((function(e){var t=e.repositoryId,n=e.branchName,r=e.force,a=void 0!==r&&r;return E(vu.c.request({repositoryId:t,branchName:n,force:a}))}),[E]),Ne=a.useCallback((function(e){var t=e.repositoryId,n=e.activeGitRepository,r=ne?Ce:n.target_branch;r.trim().match(" ")||""!==r.trim()&&E(vu.d.request({repositoryId:t,branchName:r,commitMessage:ie}))}),[ne,ie,Ce,E]),Ue=a.useCallback((function(e){var t=e.repositoryUrl,n=e.targetBranch,r=e.protectedBranch,a=e.username,o=e.password;return E(vu.e.request({repositoryUrl:t,targetBranch:n,protectedBranch:r,username:a,password:o}))}),[E]),Me=a.useCallback((function(e){var t=e.repositoryId,n=e.targetBranch,r=e.protectedBranch,a=e.password;return E(vu.m.request({repositoryId:t,targetBranch:n,protectedBranch:r,username:P||"",password:a}))}),[E,P]),Pe=a.useCallback((function(e){t&&Me({repositoryId:t.id,targetBranch:L,protectedBranch:$,password:e})}),[t,Me,$,L]);return ne&&Ku.some((function(e){return Ce.match(e)}))?_e=Vu:ne&&""===Ce.trim()&&(_e=zu),je||"BranchAlreadyExists"!==(null===Ae||void 0===Ae?void 0:Ae.name)?je||"AnotherIVCOperationInProgress"!==(null===Ae||void 0===Ae?void 0:Ae.name)||(Fe=Wu):Fe=Yu,Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(H.Box,{p:3,pr:4,pb:4,bg:"neutral_7",sx:{borderLeft:"8px solid",borderColor:mu(u),borderRadius:"8px"},width:296,children:"notConnected"===u?Object(s.jsx)(Gu,{onRequestConnect:d}):Object(s.jsx)(Hu,{gitStatus:u,activeRepositoryStatus:n,activeGitRepository:t,onRequestAuthentication:h,onRequestDiscardChanges:O,onRequestCommit:x,onRequestConnect:d})}),Object(s.jsx)(oi,{title:"Commit changes to git",px:0,py:0,open:r,style:{width:"600px"},onClose:g,afterClose:De,footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Be,{onClick:function(){t&&Ne({repositoryId:t.id,activeGitRepository:t})},large:!0,loading:!!Te,disabled:!!_e,ml:2,"data-testid":"IVCStatusBar-commit-git-changes",children:"Add changes"}),Object(s.jsx)(B.a,{variant:"secondary",onClick:g,large:!0,ml:2,children:"Cancel"})]}),children:Object(s.jsx)(Nu,{activeGitRepository:t,gitStatusColor:mu,gitStatusCopy:yu,gitStatus:u,isCommittingToNewBranch:ne,setCommittingToNewBranch:re,activeRepositoryStatus:n,newBranchName:Ce,setNewBranchName:Se,commitMessage:ie,setCommitMessage:se,requestError:Fe,validationError:_e})}),Object(s.jsxs)(oi,{open:l,style:{width:"512px"},onClose:y,px:5,py:5,children:[Object(s.jsx)(z.a,{variant:"h2",mb:3,children:"Discard changes"}),Object(s.jsxs)(Y.a,{variant:"bodySecondary",children:["Are you sure you want to discard changes?",Object(s.jsx)("br",{}),Object(s.jsx)(H.Box,{as:"strong",mt:2,sx:{display:"inline-block"},children:"Warning:"})," ","Once you confirm, you will lose all changes that have not been added to the Git server. This action cannot be undone."]}),Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",mt:6,children:[Object(s.jsx)(B.a,{onClick:function(){t&&n&&Le({repositoryId:t.id,branchName:n.current_branch,force:!0}),C()},large:!0,ml:2,"data-testid":"IVCStatusBar-change-git-branch",children:"Yes, discard"}),Object(s.jsx)(B.a,{variant:"secondary",onClick:function(){return y()},large:!0,ml:2,children:"Cancel"})]})]}),t&&n&&P&&Object(s.jsx)(Pu,{open:c&&!n.authenticated,loadingUpdateGitRepository:Ee,onClose:Re,onCredentialsSubmitCallback:Pe,username:P}),Object(s.jsx)(oi,{title:Object(s.jsxs)(H.Flex,{alignItems:"center",sx:{cursor:"default"},children:["Connect to a remote Git repository"," ",Object(s.jsx)(zc,{content:Object(s.jsxs)(H.Box,{children:[Object(s.jsx)(H.Box,{as:"a",color:"neutral_0",target:"_blank",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-a-git-repository",children:"Learn more in our docs"})," ","about connecting to a remote Git repository"]})})]}),px:0,py:0,onBackgroundClick:function(){return t?j():null},open:o,style:{width:"600px"},onClose:j,footer:t?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Be,{large:!0,ml:2,loading:Ee,onClick:function(){L!==t.target_branch||$!==t.is_target_branch_protected?Me({repositoryId:t.id,targetBranch:L,protectedBranch:$}):j()},"data-testid":"IVCStatusBar-update-git-repo",children:"Done"}),Object(s.jsx)(Be,{variant:"secondary",onClick:b,loading:ke,large:!0,ml:2,children:"Disconnect"})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Be,{onClick:function(){Ue({repositoryUrl:A,targetBranch:L,protectedBranch:$,username:P.length>0?P:void 0,password:W.length>0?W:void 0})},large:!0,disabled:""===L||""===A,ml:2,loading:we,"data-testid":"IVCStatusBar-connect-git-repo",children:"Verify connection"}),Object(s.jsx)(B.a,{variant:"secondary",onClick:j,large:!0,ml:2,children:"Cancel"})]}),children:Object(s.jsx)(Mu,{activeGitRepository:t,httpsUsername:P,httpsPassword:W,repositoryUrl:A,setRepositoryUrl:_,targetBranch:L,setHttpsPassword:K,setHttpsUsername:q,setTargetBranch:N,protectedBranch:$,setProtectedBranch:J,generatedSshKey:xe,gitStatus:u,usingSSH:de,toggleSSH:be})}),Object(s.jsx)(oi,{title:"Do you want to disconnect?",px:0,py:0,open:i,style:{width:"600px"},onClose:p,footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{"data-testid":"IVCStatusBar-delete-git-repo",large:!0,ml:2,onClick:function(){t&&Ie(t.id),f()},children:"Disconnect"}),Object(s.jsx)(B.a,{variant:"secondary",onClick:d,large:!0,ml:2,children:"Cancel"})]}),children:Object(s.jsx)(Y.a,{as:"div",variant:"bodySecondary",px:5,py:4,children:"This will disconnect from your remote Git repository and your changes will no longer be able to be pushed or sycned."})})]})}var Xu=Object(l.default)(H.Box).withConfig({displayName:"IconBadge__Box",componentId:"sc-1k437im-0"})([""]),$u=Xu;function Zu(e){var t=e.top,n=e.right,r=void 0===n?"default":n,a=e.left,o=void 0===a?"default":a,c=e.show,i=e.color,l=void 0===i?"primary_1":i,u=e.borderColor,d=void 0===u?"neutral_0":u,b=e.size,f=void 0===b?"9px":b;return c?Object(s.jsx)(Xu,{bg:l,sx:{top:t,right:r,left:o,position:"absolute",width:f,height:f,borderRadius:"50%",borderWidth:"2px",borderStyle:"solid",borderColor:d}}):null}function Ju(e){var t=e.children,n=e.content,r=e.title,a=Object(V.a)(e,["children","content","title"]);return Object(s.jsx)(W.a,Object(_.a)(Object(_.a)({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"rgba(44, 57, 81, 0.96)",placement:"right-start",animation:"shift-away",content:Object(s.jsx)(H.Box,{sx:{width:"320px"},children:n}),delay:[500,0],arrow:!0,offset:[0,16],px:4,pt:3,pb:4,textAlign:"left",heading:Object(s.jsx)(z.a,{flex:1,variant:"h4",inheritColor:!0,mb:2,children:r}),inlinePositioning:!0},a),{},{children:Object(s.jsx)(H.Box,{width:1,children:t})}))}var ed={primary:{},secondary:{height:48,pl:5,lineBefore:!1}};function td(e){var t=e.permission,n=void 0===t?[]:t,r=e.title,o=e.description,c=e.path,i=e.match,l=e.icon,u=e.badge,d=e.variant,b=void 0===d?"primary":d,f=Object(y.h)().push,p=Object(y.i)(),j=a.useCallback((function(){return f(c)}),[f,c]),h=a.useMemo((function(){return!!Object(y.g)(p.pathname,{path:i||c})}),[p.pathname,i,c]),O=Object(F.a)(n,2),x=O[0],g=O[1];if(!Object(R.f)(x,g))return null;var v=ed[b];return o?Object(s.jsx)(Ju,{title:r,content:o,children:Object(s.jsx)(Fu,Object(_.a)(Object(_.a)({onClick:j,active:h,"aria-label":r,icon:l&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Zu,{show:!!u,top:"10px",left:"28px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),Object(s.jsx)(ie.a,{icon:l})]}),badge:u},v),{},{children:r}))}):Object(s.jsx)(Fu,Object(_.a)(Object(_.a)({onClick:j,active:h,icon:l&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Zu,{show:!!u,top:"10px",left:"28px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),Object(s.jsx)(ie.a,{icon:l})]}),badge:u},v),{},{children:r}))}function nd(e){return Object(s.jsx)(W.a,Object(_.a)({boxShadow:"-3px 5px 13px 0 rgba(0, 0, 0, 0.18)",bg:"neutral_7",arrow:!1,placement:"right-end",offset:[0,4],appendTo:"parent",borderRadius:"normal",interactive:!0,animation:"shift-away",sticky:!0,inertia:!0,interactiveBorder:4,delay:[100,100]},e))}function rd(e){var t=e.children,n=e.disabled,r=e.disableTrainModelItem,o=e.onHide,c=e.onShow,i=e.onTrigger,l=e.onModelUpload,u=e.onUploadItemClick,d=e.onUploadViaApiClick,b=e.onTrainModelClick,f=r?void 0:b,p=Object(a.useRef)();return Object(s.jsx)(nd,{placement:"right-start",offset:[0,28],disabled:n,hideOnClick:!1,onHide:o,onShow:c,onTrigger:i,containerStyle:{flex:1},content:Object(s.jsxs)(Cu.a,{flexDirection:"column",width:248,py:2,ref:p,children:[Object(s.jsx)(di,{accept:"application/gzip, .gz",onUpload:l,children:Object(s.jsx)(Fu,{as:"span",p:2,onClick:u,pl:5,children:"Upload from files"})}),Object(s.jsx)(Fu,{p:2,onClick:d,pl:5,children:Object(s.jsxs)(H.Flex,{alignItems:"center",justifyContent:"space-between",pr:"12px",children:[Object(s.jsx)(H.Flex,{children:"Upload via API"}),Object(s.jsx)(H.Box,{fontSize:3,children:Object(s.jsx)(zc,{appendTo:p.current,popperOptions:{modifiers:[{name:"flip",enabled:!1}]},color:"inherit",interactive:!0,placement:"right",offset:[0,27],content:Object(s.jsxs)(H.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"},children:[Object(s.jsx)(H.Box,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/",onClick:function(e){return e.stopPropagation()},children:"Learn more"})," ","about training a model in a CI/CD pipeline"]})})})]})}),Object(s.jsx)(Fu,{p:2,onClick:f,pl:5,sx:{cursor:r?"not-allowed":"pointer"},children:"Train model"})]}),children:t})}function ad(e){var t=e.children,n=e.offset;return Object(s.jsx)(ei,{title:"Upload or train your first model",content:"In order for your assistant to respond to messages it receives, you will need upload or train a model.",links:[{title:"Learn more about models",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#trainupload-a-model"}],sticky:!0,name:"upload_model",placement:"right-start",offset:[0,n],moveTransition:"transform 0.2s cubic-bezier(0, 0.92, 0.24, 1.15)",children:t})}function od(e){var t=e.onClose,n=e.onShow,r=e.onHide,a=e.onUploadModel,o=e.visible;return Object(s.jsx)(ba.a,{onClose:t,content:Object(s.jsx)(ji,{onClose:t,onUploadModel:a,allowFileUpload:!1}),onShow:n,onHide:r,offset:[0,31],sticky:!0,appendTo:"parent",visible:o,placement:"right-start",containerStyle:{flex:1}})}function cd(e){var t=e.onTrainModel,n=e.modelIsTraining,r=e.onUploadModel,a=e.asideExpanded,c=e.setAsideForceExpanded,i=Object(m.d)((function(e){return e.models.total})),l=o.a.useState(!1),u=Object(F.a)(l,2),d=u[0],b=u[1],f=o.a.useState(!1),p=Object(F.a)(f,2),j=p[0],h=p[1],O=o.a.useState(!1),x=Object(F.a)(O,2),g=x[0],v=x[1],y=te(),C=y.setOnboardingShown,S=y.currentOnboardingHint,w=o.a.useCallback((function(){"upload_model"===S&&C(!1)}),[S,C]),E=o.a.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FormData;n.append("model",t),r(n)}h(!1),w()}),[r,w]);o.a.useEffect((function(){a&&!g&&h(!1)}),[a,g]);var k=function(){return c(!0)},T=function(){return c(!1)};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(od,{onClose:function(){return b(!1)},onShow:k,onHide:T,onUploadModel:r,visible:d}),Object(s.jsx)(ad,{offset:g||j?287:43,children:Object(s.jsx)(rd,{disabled:d,disableTrainModelItem:n,onHide:function(){if(v(!1),j)return!1},onShow:function(){return v(!0)},onTrigger:function(){j&&h(!1)},onModelUpload:E,onUploadItemClick:function(){return h(!0)},onUploadViaApiClick:function(){b(!0),k(),w()},onTrainModelClick:function(){T(),w(),t()},children:Object(s.jsxs)(Be,{width:1,large:!0,onClick:function(){},variant:"primaryDark",loading:n,children:[0===i?"Add":"Update"," model"]})})})]})}var id=n(1149);function sd(e){var t=e.features,n=e.onChangeFeature;return Object(s.jsxs)(H.Box,{children:[Object(s.jsx)(Y.a,{variant:"bodySecondary",children:"Toggle which experimental features you would like to try. Enabling/Disabling a feature will affect all users of this instance."}),Object(s.jsx)(H.Box,{as:"ul",p:0,m:0,mb:2,style:{listStyle:"none"},children:t.map((function(e){var t=e.name,r=e.enabled;return Object(s.jsx)(H.Box,{as:"li",children:Object(s.jsx)(H.Box,{as:"label",pr:3,pt:3,style:{display:"inline-block"},children:Object(s.jsxs)(H.Flex,{flex:"1 1",children:[Object(s.jsx)(H.Box,{children:Object(s.jsx)(ea.a,{checked:r,onChange:function(){return n({name:t,enabled:!r})}})}),Object(s.jsx)(Y.a,{variant:"bodySecondary",px:2,lineHeight:"initial",children:t})]})})},t)}))})]})}function ld(e){var t=e.currentVersion,n=e.latestVersion,r=e.changelog;return Object(s.jsxs)(H.Box,{px:4,pt:3,pb:2,children:[Object(s.jsxs)(z.a,{variant:"h5",inheritColor:!0,mb:1,children:["Update to Rasa X ",n]}),Object(s.jsxs)(Y.a,{color:"neutral_6",mb:3,sx:{fontSize:1},children:["You are running Rasa X ",t,". Upgrade to the latest available version."]}),Object(s.jsx)(B.a,{large:!0,width:1,mb:2,variant:"primaryDark",as:"a",target:"_blank",href:"https://rasa.com/docs/rasa-x/changelog/updating/",onClick:function(){},children:"Learn how to update"}),Object(s.jsx)(B.a,{large:!0,width:1,variant:"dark",as:"a",target:"_blank",href:r,onClick:function(){},children:"See what's new"})]})}function ud(e){var t=e.username,n=e.features,r=e.passwordModalOpen,a=e.featuresModalOpen,o=e.onChangePasswordModal,c=e.onChangeFeaturesModal,i=e.onChangePassword,l=e.onChangeFeature,u=e.onLogout,d=e.onSupport,b=e.onSendFeedback,f=e.onPowerUserIconClick,p=Object(R.o)(),j=p.currentVersion,h=p.latestVersion,O=p.changelog,x=p.updateAvailable;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Cu.a,{flexDirection:"column",width:280,py:2,children:[x&&h&&j&&O&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ld,{currentVersion:j,latestVersion:h,changelog:O}),Object(s.jsx)(Ic.a,{opacity:.1,my:2})]}),Object(s.jsx)(Fu,{p:2,height:48,pl:4,mt:3,onClick:b,rightIcon:f&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(B.a,{variant:"plainIcon",fontSize:"14px",backgroundColor:"primary_3",style:{borderRadius:"50%",zIndex:999},onClick:function(e){e.stopPropagation(),f()},children:Object(s.jsx)(ie.a,{color:"white",icon:id.faStar})})}),children:"Send Feedback"}),Object(s.jsx)(Fu,{p:2,onClick:d,height:48,pl:4,children:"Support"}),n.length>0&&Object(s.jsx)(qc.a,{resource:Te.d.Features,action:Te.a.Update,yes:Object(s.jsx)(Fu,{p:2,onClick:function(){return c(!0)},height:48,pl:4,children:"Experimental"})}),Object(s.jsx)(qc.a,{resource:Te.d.User,action:Te.a.Update,attributes:["password"],yes:Object(s.jsx)(Fu,{p:2,onClick:function(){return o(!0)},height:48,pl:4,children:"Change Password"})}),Object(s.jsx)(Fu,{"aria-label":"navbar-user-logout",p:2,onClick:u,height:48,pl:4,children:"Logout"})]}),Object(s.jsx)(oi,{title:"Change Password",open:r,onClose:function(){return o(!1)},children:Object(s.jsx)(Sc,{onCancel:function(){return o(!1)},onChangePassword:function(e){i(Object(_.a)({username:t},e)),o(!1)},confirmButtonText:"Change Password",collectOldPassword:!0})}),Object(s.jsx)(oi,{title:"Toggle Features",open:a,onClose:function(){return c(!1)},style:{maxWidth:"630px"},footer:Object(s.jsx)(B.a,{onClick:function(){return c(!1)},large:!0,ml:2,children:"Ok"}),children:Object(s.jsx)(sd,{onChangeFeature:l,features:n})})]})}var dd=Object(l.default)(Cu.a).withConfig({displayName:"NavBar__SubMenu",componentId:"yup4zg-0"})(["opacity:0;transition:opacity ease 0.2s;"]),bd=Object(l.default)(Ic.a).withConfig({displayName:"NavBar__StyledSep",componentId:"yup4zg-1"})([""]),fd=Object(l.default)(Lu).withConfig({displayName:"NavBar__AnimatedAside",componentId:"yup4zg-2"})(["&:hover,&.force-focus{.top-level-menu ","{display:none;}","{opacity:1;}","{opacity:0.23;}}"],$u,dd,bd),pd=ss.a.filter;function jd(e){var t=e.features,n=e.modelIsTraining,r=e.gitLoading,o=e.onChangeFeature,c=e.onChangePassword,i=e.onSupport,l=e.onSendFeedback,u=e.onLogout,d=e.onNavigate,b=e.onTrainModel,f=e.username,p=e.onFetchGitRepositories,j=e.activeRepositoryStatus,h=e.activeGitRepository,O=e.onStartPollingStatus,x=e.onStopPollingStatus,g=e.onPowerUserIconClick,v=e.onUploadModel,y=Object(R.b)(),C=Object(R.c)(),S=Object(m.c)(),w=a.useRef(null),E=a.useState(!1),k=Object(F.a)(E,2),T=k[0],A=k[1],D=a.useState(!1),I=Object(F.a)(D,2),L=I[0],N=I[1],B=a.useState(!1),U=Object(F.a)(B,2),M=U[0],P=U[1],q=a.useState(!1),G=Object(F.a)(q,2),V=G[0],Y=G[1],W=a.useState(!1),K=Object(F.a)(W,2),Q=K[0],X=K[1],Z=a.useState(!1),J=Object(F.a)(Z,2),ee=J[0],ne=J[1],re=a.useState(!1),ae=Object(F.a)(re,2),oe=ae[0],ce=ae[1],se=a.useState(!1),le=Object(F.a)(se,2),ue=le[0],de=le[1],be=a.useState(!1),fe=Object(F.a)(be,2),pe=fe[0],je=fe[1],he=a.useState(!1),Oe=Object(F.a)(he,2),xe=Oe[0],ge=Oe[1],ve=te(),me=ve.onboardingShown,ye=ve.setOnboardingShown,Ce=ve.currentOnboardingHint,Se=Object(m.d)((function(e){return e.users.currentUser})),we=a.useMemo((function(){var e;return(null===Se||void 0===Se||null===(e=Se.data)||void 0===e?void 0:e.viewed_hints)||[]}),[Se]),Ee=Object(_e.a)(h);a.useEffect((function(){C&&p()}),[C,p]),a.useEffect((function(){"upload_model"===Ce&&Y(!1)}),[Ce]),a.useEffect((function(){ge(!(!me||"upload_model"!==Ce))}),[me,Ce,ge]),Object(ia.b)(w,(function(){me&&"upload_model"===Ce&&ge(!1)})),a.useEffect((function(){return h?(C&&O({repositoryId:h.id}),function(){return C&&x()}):function(){}}),[C,h,O,x]),a.useEffect((function(){var e=j&&j.authenticated,t=j&&!j.authenticated,n=we.includes("gitCredentials");if(t&&!n)X(!0);else if(Se&&e&&n){var r=Object(_.a)(Object(_.a)({},Se),{},{data:{viewed_hints:we.filter((function(e){return"gitCredentials"!==e}))}});S($.j.request(r))}}),[j,h,Se,we,S,X]);var ke=a.useMemo((function(){return function(e,t){return e?t&&!t.authenticated?"notAuthenticated":t&&t.are_there_local_changes?t.is_committing_to_target_branch_allowed?"changes":"conflicts":"noChanges":"notConnected"}(h,j)}),[h,j]),Ae=Object(R.o)().updateAvailable;a.useEffect((function(){S(Si.f.request({search:"",filter:pd}))}),[S]);var Fe=Object(m.d)((function(e){return e.suggestions.total})),Re=a.useMemo((function(){return{offset:[0,ue?312:10],moveTransition:"transform 0.2s cubic-bezier(0, 0.92, 0.24, 1.15)"}}),[ue]);a.useEffect((function(){Ee&&h&&Ee!==h&&Y(!1)}),[Ee,h]),a.useEffect((function(){Ee&&!h&&Y(!1)}),[Ee,h]);var De=a.useCallback((function(){ee&&ne(!1),Y(!0),"connect_repo"===Ce&&ye(!1)}),[ee,Ce,ye,ne]),Ie=a.useCallback((function(){Y(!1),S(Object(vu.a)()),S(Object(vu.b)())}),[S,Y]),Le=a.useCallback((function(){ne(!0)}),[ne]),Ne=a.useCallback((function(){ne(!1)}),[ne]),Ue=a.useCallback((function(){ne(!1)}),[ne]),Me=a.useCallback((function(){return X(!0)}),[X]),Pe=a.useCallback((function(){return ce(!0)}),[ce]),qe=a.useCallback((function(){return ce(!1)}),[ce]),He=a.useCallback((function(){return ce(!1)}),[ce]),Ge=a.useCallback((function(){P(!0),"push_changes"===Ce&&ye(!1)}),[P,Ce,ye]),Ve=a.useCallback((function(){return P(!1)}),[P]),ze=a.useCallback((function(){return P(!1)}),[P]),Ye=a.useCallback((function(){return X(!1)}),[X]);a.useEffect((function(){je(xe)}),[xe]);var Ke=Object(R.f)(Te.d.Blueprints,Te.a.Read),Qe=y&&Ke;return Object(s.jsx)(H.Box,{sx:{position:"relative",zIndex:110,height:"100%",width:"56px"},children:Object(s.jsx)(fd,{ref:w,onMouseEnter:function(){return je(!0)},onMouseLeave:function(){return je(!1)},className:xe?"force-focus":"",children:Object(s.jsxs)(Cu.a,{sx:{overflow:"hidden",height:"100%"},width:1,flexDirection:"column",children:[Object(s.jsxs)(H.Box,{flex:"1",pt:5,sx:{overflowX:"hidden"},className:"top-level-menu",children:[y&&Object(s.jsx)(td,{title:"Analytics",description:"See how users engage with your assistant.",path:"/analytics",icon:au.faChartLine,permission:[Te.d.Analytics,Te.a.Read]}),Object(s.jsx)(td,{title:"Talk to your bot",description:"Try out your assistant. Switch on interactive learning mode to correct any mistakes it makes!",path:"/interactive",icon:cu.faComment,permission:[Te.d.Messages,Te.a.Create]}),Qe&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(td,{title:"Blueprints",description:"Design and plan your assistant.",path:"/blueprints/flows",match:"/(blueprints|blueprints/dialogues)",icon:uu.faProjectDiagram,permission:[Te.d.Messages,Te.a.Create]})}),Object(s.jsx)(td,{title:"Conversations",description:"Scan conversations real users have had with your assistant. Correct mistakes your model has made and help it improve.",path:"/conversations",icon:Es.faComments,permission:[Te.d.Metadata,Te.a.Read]}),Object(s.jsx)(td,{title:"NLU Inbox",description:"View NLU predictions. Correct any mistakes and create training data.",path:"/nlu-inbox",icon:su.faInbox,badge:"number"===typeof Fe&&Fe>0&&Object(s.jsx)(hu,{count:Fe,variant:"primary",maxCount:1e3}),permission:[[Te.d.Examples,Te.d.Logs],Te.a.Read]}),Object(s.jsx)(td,{title:"Insights",path:"/insights",icon:lu.faLightbulb,permission:[Te.d.Insights,Te.a.Read]}),Object(s.jsx)(td,{title:"Models",description:y?"View your models and deploy them to different environments.":"View your models. To update your assistant, mark a new model as active.",path:"/models",icon:du.faTachometerAlt,permission:[Te.d.Models,Te.a.Read]}),Object(s.jsx)(td,{title:"Training",path:"/data/training-data",match:"/(data|responses|rules|stories|config|domain)",icon:iu.faFileCheck,permission:[[Te.d.Examples,Te.d.Logs],Te.a.Read]}),Object(s.jsx)(qc.a,{resource:[Te.d.Examples,Te.d.Logs],action:Te.a.Read,yes:Object(s.jsx)(dd,{pt:1,flexDirection:"column",children:Object(s.jsxs)(H.Card,{ml:5,sx:{borderLeft:"2px solid",borderColor:"rgba(216,216,216,0.08)"},children:[Object(s.jsx)(td,{title:"NLU data",description:"View and edit your NLU examples, synonyms, regexes, and lookup tables.",path:"/data/training-data",variant:"secondary",permission:[Te.d.Examples,Te.a.Read]}),Object(s.jsx)(td,{title:"Responses",description:"View and edit the responses your assistant will use to send messages.",path:"/responses",variant:"secondary",permission:[Te.d.Responses,Te.a.Read]}),Object(s.jsx)(td,{title:"Stories",description:"View, edit and compare your stories.",path:"/stories",variant:"secondary",permission:[Te.d.Stories,Te.a.Read]}),Object(s.jsx)(td,{title:"Rules",description:"View, edit and compare your rules.",path:"/rules",variant:"secondary",permission:[Te.d.Rules,Te.a.Read]}),Object(s.jsx)(qc.a,{resource:Te.d.Models,action:Te.a.Read,attributes:["settings"],yes:Object(s.jsx)(td,{title:"Configuration",description:"Edit your model configuration",path:"/config",variant:"secondary"})}),Object(s.jsx)(td,{title:"Domain",description:"Edit your domain files",path:"/domain",variant:"secondary",permission:[Te.d.Domain,Te.a.Read]}),Object(s.jsxs)(H.Box,{pl:5,pr:4,pb:2,children:[Object(s.jsx)(bd,{mt:2,mb:4,opacity:.1}),C?Object(s.jsx)(cd,{onUploadModel:v,onTrainModel:b,modelIsTraining:n,asideExpanded:pe,setAsideForceExpanded:ge}):Object(s.jsx)(Be,{width:1,large:!0,variant:"primaryDark",onClick:b,loading:n,children:"Train"})]})]})})})]}),C?Object(s.jsx)(qc.a,{resource:Te.d.RepositoryStatus,action:Te.a.Read,yes:Object(s.jsx)(ei,Object(_.a)(Object(_.a)({title:"Connect Rasa X to Git",content:"Connecting to a Git repository will import your initial assistant to Rasa X. It also makes it easier to version your data and use CI/CD to test your assistant.",links:[{title:"Learn more about connecting Rasa X to git",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#integrated-version-control"}],sticky:!0,name:"connect_repo",placement:"right-end",containerStyle:{width:"100%"}},Re),{},{children:Object(s.jsx)(ei,Object(_.a)(Object(_.a)({title:"Push your improvements to git",content:"You now have improvements to your training data. Push those changes to Git so you can use them to train a new model.",sticky:!0,name:"push_changes",placement:"right-end",containerStyle:{width:"100%"}},Re),{},{children:Object(s.jsx)(nd,{onShow:function(){de(!0)},onHide:function(){de(!1)},containerStyle:{width:"100%"},disabled:M||oe||V||Q,content:Object(s.jsx)(Qu,{gitStatus:ke,activeGitRepository:h,activeRepositoryStatus:j,commitModalOpen:M,connectModalOpen:V,credentialsModalOpen:Q,discardModalOpen:oe,disconnectModalOpen:ee,currentOnboardingHint:Ce,onRequestConnect:De,onCancelConnect:Ie,onRequestDisconnect:Le,onCancelDisconnect:Ue,onFinishDisconnect:Ne,onRequestAuthentication:Me,onRequestDiscardChanges:Pe,onRequestCommit:Ge,onCancelCommit:Ve,onFinishCommit:ze,onFinishChanges:qe,onCancelDiscardChanges:He,onCloseCredentials:Ye}),children:Object(s.jsx)(Fu,{icon:Object(s.jsx)(ie.a,{icon:r?We.faSync:ou.faCodeMerge,spin:r}),height:48,lineBefore:!1,sx:{backgroundColor:"neutral_8",borderLeft:"6px solid",borderColor:mu(ke)},paddingLeft:"10px",rightIcon:Object(s.jsx)(ie.a,{icon:ru.faAngleRight}),children:Object(s.jsx)(z.a,{variant:"h4",inheritColor:!0,children:"notConnected"===ke?"Not connected":h&&h.target_branch})})})}))})),no:Object(s.jsx)(H.Box,{px:3,children:Object(s.jsx)(bd,{sx:{opacity:0,transition:"opacity ease 0.2s"},barColor:"neutral_6"})})}):Object(s.jsx)(H.Box,{px:3,children:Object(s.jsx)(bd,{sx:{opacity:0,transition:"opacity ease 0.2s"},barColor:"neutral_6"})}),y&&Object(s.jsx)(qc.a,{resource:[Te.d.Users,Te.d.Roles],action:Te.a.Read,yes:Object(s.jsx)(nd,{content:Object(s.jsx)(Ru,{onNavigate:d}),children:Object(s.jsx)(Fu,{"aria-label":"navbar-admin",icon:Object(s.jsx)(ie.a,{icon:bu.faUser}),rightIcon:Object(s.jsx)(ie.a,{icon:ru.faAngleRight}),children:"Admin"})})}),Object(s.jsx)(nd,{content:Object(s.jsx)(ud,{username:f,features:t,passwordModalOpen:T,featuresModalOpen:L,onChangePassword:c,onChangeFeature:o,onLogout:u,onSendFeedback:l,onPowerUserIconClick:g,onSupport:i,onChangePasswordModal:function(e){return A(e)},onChangeFeaturesModal:function(e){return N(e)}}),children:Object(s.jsx)(Fu,{"data-qa":"navbar-user-badge_li",icon:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Zu,{show:!!Ae,top:"7px",left:"33px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),Object(s.jsx)(gu,{variant:"small",username:f,m:"-2px"})]}),rightIcon:Object(s.jsx)(ie.a,{icon:ru.faAngleRight}),children:f})})]})})})}var hd={onLogout:mc.i,onChangePassword:mc.a.request,onChangeFeature:mc.j.request,onFetchFeatures:mc.d.request,onTrainModel:Oo.n.request,onFetchGitRepositories:vu.g.request,onStartPollingStatus:vu.k,onStopPollingStatus:vu.l,onUploadModel:Oo.o.request},Od=function(){return Object(Ls.c)("https://rasahq.typeform.com/to/NSJvZM")};var xd=Object(m.b)((function(e){return{username:e.auth.username,role:e.auth.role,features:e.auth.features,modelIsTraining:e.models.modelIsTraining,activeRepositoryStatus:e.gitRepositories.activeRepositoryStatus,activeGitRepository:e.gitRepositories.activeGitRepository}}),hd)((function(e){var t=e.username,n=e.onLogout,r=e.onPowerUserIconClick,o=Object(V.a)(e,["username","onLogout","onPowerUserIconClick"]),c=Object(R.b)(),i=Object(R.o)().currentVersion,l=function(){var e=Object(m.d)((function(e){return e.gitRepositories.loading.fetchGitRepositoryStatus})),t=Object(m.d)((function(e){return e.gitRepositories.loading.updateGitRepository})),n=Object(m.d)((function(e){return e.gitRepositories.loading.deleteGitRepository})),r=Object(m.d)((function(e){return e.gitRepositories.loading.connectGitRepository})),o=Object(m.d)((function(e){return e.gitRepositories.loading.gitBranchSynching}));return a.useMemo((function(){return e||t||n||r||o}),[e,t,n,r,o])}(),u=Object(y.h)().push;return null===t?null:Object(s.jsx)(jd,Object(_.a)({onLogout:function(){return n(null)},onSupport:function(){var e=new URLSearchParams({body:"**Version: Rasa ".concat(c?"Enterprise":"X"," ").concat(i,"**\n\n"),category:"rasa-x"}),t="https://forum.rasa.com/new-topic?".concat(e.toString());window.location.href=t},onSendFeedback:Od,onPowerUserIconClick:r,onNavigate:u,username:t,gitLoading:l},o))})),gd={onStartPollingHealth:Oo.m,onFetchFeatures:mc.d.request};var vd=Object(m.b)((function(e){return{accessToken:e.auth.accessToken,role:e.auth.role,modelIsTraining:e.models.modelIsTraining,latestModelIsNew:e.models.latestModelIsNew,uploadingModel:e.models.loading.uploadModel,trainingError:e.models.error.training,cleanTrainState:e.models.cleanState.training,cleanUploadState:e.models.cleanState.uploading,conversationDeletionFailed:e.messages.conversationDeletionFailed,modelUploadError:e.models.error.uploadModel,modelExists:e.models.modelExists}}),gd)((function(e){var t=e.authRequired,n=e.accessToken,r=e.role,o=e.onFetchFeatures,c=(e.onStartPollingHealth,e.latestModelIsNew),i=e.uploadingModel,l=e.modelIsTraining,u=e.trainingError,d=e.cleanTrainState,b=e.cleanUploadState,f=e.conversationDeletionFailed,p=e.modelUploadError,j=e.modelExists,h=e.component,O=Object(V.a)(e,["authRequired","accessToken","role","onFetchFeatures","onStartPollingHealth","latestModelIsNew","uploadingModel","modelIsTraining","trainingError","cleanTrainState","cleanUploadState","conversationDeletionFailed","modelUploadError","modelExists","component"]),x=Object(m.c)(),g=a.useState(!1),v=Object(F.a)(g,2),C=v[0],S=v[1],w=Object(R.l)(),E=w.userGroups,k=w.userId,T=me(),A=T.addToast,D=T.removeToast,I=Object(m.d)((function(e){return e.users.currentUser})),L=Z();a.useEffect((function(){o()}),[o]),a.useEffect((function(){x($.d.request())}),[x]);var N=a.useCallback((function(){L("powerUser")}),[L]),U=a.useCallback((function(){S(!1)}),[S]),M=a.useCallback((function(){return S(!0)}),[]),P=a.useMemo((function(){return t&&(!n||r&&"none"===r[0])}),[n,t,r]),q=a.useMemo((function(){return null===E||void 0===E?void 0:E.includes("power_user")}),[E]),G=a.useMemo((function(){var e;return(null===I||void 0===I||null===(e=I.data)||void 0===e?void 0:e.viewed_hints)||[]}),[I]);if(a.useEffect((function(){!P&&k&&q&&!G.includes("powerUser")&&A({head:"Congratulations! You have earned free Rasa swag",content:"You have been using Rasa X a lot lately. We want to celebrate this by sending you a t-shirt on us and offer you the opportunity to help shape our roadmap. Let us know how to get a hold of you, and we will send you an email with more details.",variant:"primary",timeout:-1,key:"powerUserToast",onUnmount:function(){N()},actions:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{variant:"inverse",large:!0,ml:4,onClick:function(){D("powerUserToast"),S(!0),N()},children:"Sure, thanks!"}),Object(s.jsx)(B.a,{variant:"plain",large:!0,onClick:function(){D("powerUserToast"),N()},children:"I'll pass"})]})})}),[G,N,q,E,k,A,P,D]),P){var z=window.location.pathname;return Object(s.jsx)(y.b,{to:{pathname:"/login",search:"?redirectTo=".concat(z)}})}return Object(s.jsx)(y.c,Object(_.a)(Object(_.a)({},O),{},{render:function(e){var t=e.history,n=Object(V.a)(e,["history"]);return Object(s.jsx)(eu,{trainingError:u,latestModelIsNew:c,modelIsTraining:l,uploadingModel:i,cleanUploadState:b,cleanTrainState:d,conversationDeletionFailed:f,modelUploadError:!!p,modelExists:j,onNavigate:t.push,children:Object(s.jsxs)(H.Flex,{sx:{height:"100%",minWidth:"".concat(1e3,"px")},children:[Object(s.jsxs)(H.Box,{flex:"0 0 auto",children:[Object(s.jsx)(xd,{onPowerUserIconClick:q&&I&&!G.includes("powerUserSubmitted")?M:void 0}),k&&Object(s.jsx)(nu,{open:C,userId:k,onClose:U,onDataSubmit:function(){return L("powerUserSubmitted")}})]}),Object(s.jsx)(h,Object(_.a)({history:t},n))]})})}}))})),md=n.p+"static/media/SaraWithChatBubbles.f5583e6e.svg";function yd(e){var t=e.active,n=e.conversation,r=e.style,o=e.onClick,c=e.deleteSampleConversation,i=e.editSampleConversation,l=a.useRef(null),u=Object(R.d)({Enter:function(){return o(n.id)}}).onKeyboardEvent,d=a.useState(!1),b=Object(F.a)(d,2),f=b[0],p=b[1],j=function(){return p(!0)},h=function(e){l.current===e.relatedTarget||p(!1)},O=Object(R.f)(Te.d.Blueprints,Te.a.Delete);return Object(s.jsxs)(U.d,{tabIndex:0,sx:Object(_.a)({fontSize:"13px",borderBottom:"1px solid",borderBottomColor:"neutral_3",height:"64px",padding:"0 20px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",":hover, :focus":{backgroundColor:"neutral_1"}},t?{backgroundColor:"neutral_1","&:after":{content:'""',width:"4px",height:"64px",backgroundColor:"primary_2",position:"absolute",right:"0",borderRadius:"2px"}}:{}),style:r,onClick:function(){return o(n.id)},onKeyDown:u,onFocus:j,onBlur:h,onMouseEnter:j,onMouseLeave:h,"data-qa":"dialog-list-row",children:[Object(s.jsx)(Y.a,{sx:Object(_.a)({whiteSpace:"nowrap"},f?{textOverflow:"clip"}:{}),"data-qa":"dialog-list-row-title",children:n.name}),O&&Object(s.jsx)(U.d,{sx:{flexShrink:0},children:Object(s.jsx)(H.Box,{hidden:!f,children:Object(s.jsxs)(U.d,{sx:{justifyContent:"center",paddingLeft:1},children:[Object(s.jsx)(Mr.a,{content:"Edit",children:Object(s.jsx)(H.Box,{children:Object(s.jsx)(B.a,{onClick:function(){return i(n)},variant:"icon","data-qa":"dialog-list-row-edit",children:Object(s.jsx)(ie.a,{icon:Ve.faEdit,fontSize:"16px"})})})}),Object(s.jsx)(Mr.a,{content:"Delete",children:Object(s.jsx)(H.Box,{children:Object(s.jsx)(To,{"aria-label":"Delete ".concat(n.name),cancelButtonText:"Cancel",confirmButtonText:"Yes, delete",dialogBody:Object(s.jsx)(H.Box,{sx:{minWidth:"448px"},children:Object(s.jsxs)(Y.a,{children:["Are you sure you want to delete ",Object(s.jsx)("b",{children:n.name}),"? This action cannot be undone."]})}),dialogHeading:"Delete this Dialogue?",onClick:function(){return c({id:n.id})},ref:l,variant:"icon","data-qa":"dialog-list-row-delete",children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt,fontSize:"16px"})})})})]})})})]})}function Cd(e){var t=e.activeConversationId,n=e.conversations,r=e.total,o=e.onLoadMoreRows,c=e.viewSampleConversation,i=e.loading,l=e.deleteSampleConversation,u=e.editSampleConversation,d=a.useCallback(function(){var e=Object(Jr.a)(Zr.a.mark((function e(t){var n;return Zr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.startIndex,e.abrupt("return",!i&&o({offset:n,limit:30}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,i]),b=a.useCallback((function(e){var r=e.key,a=e.index,o=e.style,i=n[a];return i&&Object(s.jsx)(yd,{active:t===i.id,style:o,conversation:i,onClick:c,deleteSampleConversation:l,editSampleConversation:u},r)}),[t,n,c,l,u]);return Object(s.jsx)(Br.a,{children:function(e){return Object(s.jsx)(Br.c,{isRowLoaded:function(e){var t=e.index;return void 0!==n[t]},loadMoreRows:d,rowCount:r,children:function(t){var n=t.onRowsRendered,a=t.registerChild;return Object(s.jsx)(Br.d,{ref:a,onRowsRendered:n,height:e.height,width:e.width,overscanRowCount:10,rowCount:r,rowHeight:64,rowRenderer:b})}})}})}function Sd(e){var t=e.error,n=e.loading,r=e.open,o=e.onClose,c=e.sampleConversation,i=Object(m.c)(),l=a.useState((null===c||void 0===c?void 0:c.name)||""),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useState((null===c||void 0===c?void 0:c.description)||""),p=Object(F.a)(f,2),j=p[0],h=p[1],O=a.useState(null),x=Object(F.a)(O,2),g=x[0],v=x[1],y=a.useCallback((function(){b((null===c||void 0===c?void 0:c.name)||""),h((null===c||void 0===c?void 0:c.description)||"")}),[c]);a.useEffect((function(){y()}),[y]);var C=d.trim().length>0,S=Object(_e.a)(n);a.useEffect((function(){!(S&&n!==S)||n||t.createSampleConversation||t.updateSampleConversation||g||(o(),y())}),[S,n,t,o,y,g]);var w=a.useMemo((function(){return Object(s.jsxs)(U.a,{children:[Object(s.jsx)(go.a,{text:"Name",children:Object(s.jsx)(Pr.a,{value:d,onChangeValue:function(e){return b(e)},fullWidth:!0,placeholder:"Name the Dialogue","data-qa":"create-dialog-modal-name"})}),Object(s.jsx)(go.a,{text:"Description",mt:4,children:Object(s.jsx)(Pr.a,{textarea:!0,placeholder:"Add a description...",rows:4,fullHeight:!0,value:j,onChangeValue:function(e){return h(e)},characterLimit:150,fullWidth:!0,"data-qa":"create-dialog-modal-description"})})]})}),[d,j]);return Object(s.jsx)(oi,{open:r,onClose:function(){v(null),o(),y()},title:Object(s.jsxs)(s.Fragment,{children:[(t.createSampleConversation||t.updateSampleConversation||g)&&Object(s.jsx)(U.a,{width:1,height:"48px",sx:{position:"fixed",zIndex:1,top:"60px",ml:"-32px",mt:"20px"},children:Object(s.jsx)(kc,{variant:"error",p:0,m:0,block:!0,py:"10px",children:Object(s.jsx)(Y.a,{variant:"bodySecondary",inheritColor:!0,textAlign:"center",width:1,lineHeight:"24px",fontSize:"13px",children:g||"Dialogue with same name already exists"})})}),Object(s.jsx)(U.a,{children:Object(s.jsx)(Y.a,{variant:"bodyPrimary",fontWeight:"bold",fontSize:"16px",children:"".concat(c?"Edit ":"Create new"," Dialogue")})})]}),style:{width:"584px"},footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Be,{onClick:function(){d.length<=100?(i(c?Re.h.request({id:c.id,name:d.trim(),description:j}):Re.c.request({name:d.trim(),description:j})),v(null)):v("Name cannot be longer than 100 characters")},large:!0,disabled:!C,ml:2,loading:n,"data-qa":"create-dialog-modal-submit",children:"".concat(c?"Save ":"Create")}),Object(s.jsx)(B.a,{large:!0,mr:1,onClick:function(){o(),y(),v(null)},variant:"secondary","data-qa":"confirmable-modal-cancel",children:"Cancel"})]}),children:Object(s.jsx)(U.a,{style:{marginTop:t.createSampleConversation||t.updateSampleConversation||g?"40px":"0px",marginBottom:"12px"},children:w})})}function wd(e){var t,n=e.conversations,r=e.total,o=e.onLoadMoreRows,c=e.error,i=e.onViewSampleConversation,l=e.clearError,u=e.activeConversation,d=e.loading,b=e.addSampleConversationItem,f=e.deleteSampleConversation,p=e.deleteSampleConversationItem,j=e.sampleConversationLinkData,h=e.loadMoreLinks,O=me().addToast,x=Object(m.c)(),g=a.useState(""),v=Object(F.a)(g,2),y=v[0],C=v[1],S=a.useState(),w=Object(F.a)(S,2),E=w[0],k=w[1],T=Object(_e.a)(y),A=a.useCallback((function(e){return"Search ".concat(e," dialogues...")}),[]),_=a.useCallback((function(e){o({search:e,offset:0,limit:30})}),[o]),D=Object.values(n)[0],I=u||D||null,L=a.useCallback((function(e){var t=e.offset,n=e.limit;return o({search:y,offset:t,limit:n})}),[y,o]);Object(R.a)((function(){T!==y&&_(y)}),300,[y,T]),a.useEffect((function(){Object.entries(c).forEach((function(e){var t=Object(F.a)(e,2),n=t[0],r=t[1];r&&!["createSampleConversation","updateSampleConversation"].includes(n)&&(O({content:r.message,variant:"error"}),l(n))}))}),[c,l,O]);var N=(null===I||void 0===I?void 0:I.items)&&I.items[I.items.length-1],M=a.useState(!1),P=Object(F.a)(M,2),q=P[0],G=P[1];a.useEffect((function(){x(Ae.e.request({offset:0,limit:30}))}),[x]);var V,Y=Object(R.g)(Ae.e),W=a.useState(!1),K=Object(F.a)(W,2),Q=K[0],X=K[1],$=Object(m.d)((function(e){return e.sampleConversations.loading.fetchSampleConversation})),Z=Object(m.d)((function(e){return e.assistantLinks.loading})),J=Object(m.d)((function(e){return e.businessLogicFlow.total})),ee=Object(m.d)((function(e){return e.businessLogicFlow.flows})),te=j.links,ne=void 0===te?[]:te,re=j.total,ae=Object(m.d)((function(e){return e.assistantLinks.sampleConversations})),oe=u&&ae[u.id],ce=a.useMemo((function(){return oe?ee.filter((function(e){return!oe.links.some((function(t){return t.businessLogicFlow.id===e.id}))})):ee}),[oe,ee]),se=(null===oe||void 0===oe?void 0:oe.total)||0,le=J>se?J-se:ce.length,ue=u&&(null===(t=ae[u.id])||void 0===t?void 0:t.links.length)||0,de=Object(R.f)(Te.d.Blueprints,Te.a.Create),be=Object(R.f)(Te.d.Blueprints,Te.a.Update),fe=""!==y,pe=n&&Object.keys(n).length>0,je=fe&&!pe,he=0===r&&!fe&&!d.fetchSampleConversations;return Object(s.jsxs)(U.d,{height:"100%",children:[Object(s.jsx)(Sd,{loading:E?!!d.updateSampleConversation:!!d.createSampleConversation,open:q,onClose:function(){G(!1),l("createSampleConversation"),l("updateSampleConversation")},error:c,sampleConversation:E}),he?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(qe,{heading:"You have no Dialogues yet",body:"Create Dialogues to illustrate ideal behaviour for the assistant in various scenarios. Tip: Link Dialogues to Flows to be able to plan your assistant",image:md,actions:de&&Object(s.jsx)(B.a,{"data-qa":"create-dialogues-empty-placeholder",onClick:function(){G(!0)},children:"Create a new Dialogue"})})}):Object(s.jsxs)(H.Box,{bg:"neutral_0",sx:{display:"grid",gridTemplateColumns:"2fr 3fr 2fr",gridTemplateRows:"56px 1fr",gridTemplateAreas:'\n            "search search search"\n            "list   detail side-panel"\n          ',width:"100%",flexGrow:1},children:[Object(s.jsx)(H.Box,{sx:{gridArea:"search",borderBottom:"1px solid",borderBottomColor:"neutral_3"},children:Object(s.jsx)(De.a,{variant:"square",count:r,query:y,label:A,onChange:C,onReturn:_})}),!je&&Object(s.jsxs)(H.Box,{sx:{gridArea:"list",borderRight:"1px solid",borderRightColor:"neutral_3",display:"grid",gridTemplateRows:"70px 1fr"},children:[Object(s.jsxs)(U.d,{sx:{gridRow:1,borderBottom:"1px solid",borderColor:"neutral_3"},justifyContent:"space-between",alignItems:"center",px:"20px",py:3,children:[Object(s.jsx)(z.a,{variant:"h4",children:"Dialogues"}),de&&Object(s.jsx)(B.a,{variant:"plainIcon","aria-label":"Add dialogue",onClick:function(){k(void 0),G(!0)},"data-qa":"create-dialog",children:Object(s.jsx)(ie.a,{icon:mo.faPlus,fontSize:"4"})})]}),Object(s.jsx)(H.Box,{sx:{gridRow:2},children:Object(s.jsx)(Cd,{activeConversationId:null===u||void 0===u?void 0:u.id,conversations:n,total:r,onLoadMoreRows:L,viewSampleConversation:i,loading:!!d.fetchSampleConversations,deleteSampleConversation:f,editSampleConversation:function(e){k(e),G(!0)}})})]}),Object(s.jsxs)(H.Box,{sx:{gridArea:"detail",borderRight:je?"none":"1px solid",borderRightColor:"neutral_3",display:"grid",gridTemplateRows:"1fr 80px",gridTemplateAreas:'\n              "messages"\n              "controls"\n            '},children:[!je&&I&&!$&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(H.Box,{sx:{gridArea:"messages"},children:Object(s.jsx)(Xr,{conversation:I,deleteSampleConversationItem:p})}),be&&Object(s.jsx)(H.Box,{sx:{gridArea:"controls",zIndex:1,backgroundColor:"neutral_0",marginTop:"16px"},children:Object(s.jsx)(Yr,{lastMessage:N,onSubmit:b})})]}),je&&Object(s.jsx)(qe,{heading:"No results found",body:"There are no Dialogues that match your search query. Please try again.",image:Fc}),$&&Object(s.jsx)(H.Box,{alignSelf:"center",justifySelf:"center",children:Object(s.jsx)(ie.a,{fontSize:20,icon:Ie.faSpinnerThird,spin:!0,color:"neutral_6","data-qa":"sample-conversation-detail-loading"})})]}),!je&&Object(s.jsx)(H.Box,{sx:{gridArea:"side-panel",overflow:"hidden"},children:I&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(uo,{showBusinessLogicFLow:!0,links:ne,loadMore:h,onRemoveLink:(V=I.id,function(e){return x(Fe.d.request({linkId:e,parentId:V,parentType:"SampleConversation"}))}),onCreateLink:function(){return X(!0)},labels:{placeholderHeading:"No linked Flows",placeholderBody:"This Dialogue is not linked to any Flows.",placeholderButton:"Link to a Flow",heading:"".concat(re," Linked Flow").concat(1===re?"":"s"),subHeading:"This Dialogue is linked to ".concat(re," Flow").concat(1===re?"":"s","."),button:"Create a link",unlinkModalBody:"Are you sure you want to unlink this Dialogue from the Flow?"}}),Object(s.jsx)(na,{items:ce,labels:{noContentPlaceholderHeading:"You don't have any Flows",noContentPlaceholderBody:"In order to link this Dialogue to a Flow, you'll need to create one first.",noSearchResultsBody:"There are no Flows that match that search query. Please try again.",heading:"Create links to Flows",searchPlaceholder:"Search ".concat(le," Flow").concat(1===le?"":"s","...")},loading:Z,onClose:function(){return X(!1)},onCreate:function(e){if(u){var t=e.map((function(e){return{sampleConversationId:u.id,businessLogicFlowId:e.id}}));x(Fe.b.request({pairs:t,parentId:u.id,parentType:"SampleConversation"}))}},offsetFromFiltering:ue,onLoadMoreRows:Y,open:Q,total:le})]})})]})]})}var Ed={clearError:Re.b,fetchSampleConversation:Re.f.request,addSampleConversationItem:Re.a.request,deleteSampleConversation:Re.d.request,deleteSampleConversationItem:Re.e.request,fetchAssistantLinks:Fe.c.request};var kd=Object(m.b)((function(e){var t=e.sampleConversations,n=e.assistantLinks,r=n.sampleConversations,a=n.loading;return Object(_.a)(Object(_.a)({},t),{},{dialogueLinks:r,assistantLinksLoading:a.fetchAssistantLinks})}),Ed)((function(e){var t=e.conversations,n=e.total,r=e.error,o=e.clearError,c=e.fetchSampleConversation,i=e.loading,l=e.addSampleConversationItem,u=e.deleteSampleConversationItem,d=e.deleteSampleConversation,b=e.fetchAssistantLinks,f=e.dialogueLinks,p=e.assistantLinksLoading,j=Object(y.h)().push,h=Object(y.j)().dialogueId,O=parseInt(h),x=a.useMemo((function(){return Object.values(t).find((function(e){return e.id===O}))}),[t,O]),g=Object(_e.a)(x),v=a.useMemo((function(){return(null===g||void 0===g?void 0:g.id)!==(null===x||void 0===x?void 0:x.id)}),[g,x]),C=(null===x||void 0===x?void 0:x.id)&&f[x.id]||{links:[],total:0},S=a.useCallback((function(){return j("/blueprints/dialogues")}),[j]),w=a.useCallback((function(e){return j("/blueprints/dialogues/".concat(e))}),[j]),E=Object(m.d)((function(e){return e.sampleConversations.searchQuery}));a.useEffect((function(){var e;!v||x||E.length>0||((null===(e=t[0])||void 0===e?void 0:e.id)?w(t[0].id):S())}),[t,v,x,w,S,E.length]),a.useEffect((function(){!x&&t[0]&&w(t[0].id)}),[t,x,w]);var k=a.useCallback((function(e){c({id:e}),b({limit:30,offset:0,parentId:e,parentType:"SampleConversation"})}),[b,c]),T=Object(R.g)(Re.g);a.useEffect((function(){T({offset:0,limit:30})}),[T]),a.useEffect((function(){v&&(null===x||void 0===x?void 0:x.id)&&k(x.id)}),[v,x,k]);var A=a.useMemo((function(){return C.links.length>=n||p?function(){}:function(){return b({limit:30,offset:C.links.length,parentId:O,parentType:"BusinessLogicFlow"})}}),[C,b,n]);return Object(s.jsx)(wd,{conversations:t,total:n,onLoadMoreRows:T,error:r,onViewSampleConversation:function(e){return w(e)},clearError:o,activeConversation:x,loading:i,addSampleConversationItem:function(e){x&&l({id:null===x||void 0===x?void 0:x.id,type:e.type,text:e.text})},deleteSampleConversationItem:u,deleteSampleConversation:function(e){d(e)},sampleConversationLinkData:C,loadMoreLinks:A})})),Td=n.p+"static/media/SaraWithFlowChart.332dcae6.svg";function Ad(e){var t=e.children,n=Object(V.a)(e,["children"]);return Object(s.jsx)(so.a,Object(_.a)(Object(_.a)({width:226,height:308,p:0},n),{},{sx:Object(_.a)(Object(_.a)({border:"1px solid transparent",":hover, :focus":{border:"1px solid",borderColor:"primary_3"}},n.sx),{},{cursor:"pointer"}),children:t}))}function _d(e){var t=e.lineColor,n=e.boxColor,r=e.height,a=e.opacity;return Object(s.jsxs)(U.a,{as:"svg",sx:{"> path":{stroke:t,fill:n,fillOpacity:a||1},height:r},viewBox:"0 0 54 66",xmlns:"http://www.w3.org/2000/svg",role:"img",children:[Object(s.jsx)("title",{children:"Flow chart diagram"}),Object(s.jsx)("desc",{children:"Boxes connected by lines to give the appearance of a flow chart"}),Object(s.jsx)("path",{d:"M27.5 11.59v3.79M10.681 15.765h32.638M10.742 15.379v38.842"}),Object(s.jsx)("path",{transform:"rotate(90.118 13.74 29.06) skewX(-.004)",d:"M0-.5h38.925"}),Object(s.jsx)("path",{d:"M.5 19.181h20.363v11.076H.5zM.5 36.691h20.363v11.076H.5zM.5 53.775h20.363v11.076H.5zM33.137 36.691H53.5v11.076H33.137zM33.137 54.201H53.5v11.076H33.137zM33.137 19.181H53.5v11.076H33.137zM17.259.722h20.363v11.076H17.259z"})]})}function Fd(e){var t=e.loading,n=e.flow,r=e.renderAction,o=Object(m.c)(),c=a.useState((null===n||void 0===n?void 0:n.name)||""),i=Object(F.a)(c,2),l=i[0],u=i[1],d=a.useState((null===n||void 0===n?void 0:n.description)||""),b=Object(F.a)(d,2),f=b[0],p=b[1],h=a.useCallback((function(){u((null===n||void 0===n?void 0:n.name)||""),p((null===n||void 0===n?void 0:n.description)||"")}),[n]);a.useEffect((function(){h()}),[h]);var O=l.trim().length>0,x=l.trim().length>100,g=a.useMemo((function(){return Object(s.jsxs)(U.a,{width:512,children:[Object(s.jsx)(go.a,{text:"Name",children:Object(s.jsx)(Pr.a,{value:l,onChangeValue:function(e){return u(e)},fullWidth:!0,placeholder:"Name the Flow...","data-qa":"flow-modal-name-input"})}),Object(s.jsx)(go.a,{text:"Description",mt:4,children:Object(s.jsx)(Pr.a,{textarea:!0,placeholder:"Description...",rows:4,fullHeight:!0,value:f,onChangeValue:function(e){return p(e)},characterLimit:150,fullWidth:!0,"data-qa":"flow-modal-description-input"})})]})}),[f,l]),v=Object(j.b)(g,{header:n?"Edit Flow details":"Create a new Flow",footer:function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Be,{onClick:function(){return function(e){n?o(Ae.f.request({id:n.id,flow:{name:l.trim(),description:f}})):(o(Ae.b.request({name:l.trim(),description:f,elements:[]})),h());e()}(e)},large:!0,disabled:!O||x,ml:2,loading:t.createBusinessLogicFlow||t.updateBusinessLogicFlow,"data-qa":"flow-modal-submit-button",children:n?"Save":"Create"}),Object(s.jsx)(B.a,{large:!0,mr:1,onClick:function(){h(),e()},variant:"secondary","data-qa":"flow-modal-cancel-button",children:"Cancel"})]})},banner:x?{content:"Name cannot be longer than 100 characters.",variant:"error"}:void 0,closeOnClickOutside:!1,closeOnEscape:!1,onAfterClose:h}),y=Object(F.a)(v,2)[1];return Object(s.jsx)(s.Fragment,{children:r({setOpen:y})})}function Rd(e){var t=e.flow,n=e.loading,r=e.deleteBusinessLogicFlow,o=e.hasBlueprintsUpdatePermission,c=e.hasBlueprintsDeletePermission,i=Object(V.a)(e,["flow","loading","deleteBusinessLogicFlow","hasBlueprintsUpdatePermission","hasBlueprintsDeletePermission"]),l=Object(y.h)().push,u=a.useCallback((function(){return l("/blueprints/flows/".concat(t.id))}),[t.id,l]),d=Object(R.d)({Enter:u}).onKeyboardEvent;return Object(s.jsx)(U.a,{onKeyDown:d,children:Object(s.jsxs)(Ad,Object(_.a)(Object(_.a)({},i),{},{onClick:u,bg:"neutral_1",sx:Object(_.a)({tabIndex:0,display:"grid",gridTemplateRows:"1fr 72px",overflow:"hidden",".showWhenHovered":{display:"none"},".doNotShowWhenHovered":{display:"flex"},":hover, :focus":{gridTemplateRows:"1fr auto",".showWhenHovered":{display:"block"},".doNotShowWhenHovered":{display:"none"},".textColorChange":{color:"primary_2"}}},i.sx),children:[Object(s.jsxs)(U.d,{className:"showWhenHovered",sx:{position:"relative"},bg:"neutral_7",opacity:.67,p:3,flexDirection:"column",alignItems:"end",justifyContent:"center",height:"100%",children:[Object(s.jsxs)(U.a,{sx:{position:"absolute",top:"10px",right:"10px"},children:[o&&Object(s.jsx)(Fd,{loading:n,flow:t,renderAction:function(e){var t=e.setOpen;return Object(s.jsx)(B.a,{color:"neutral_0",variant:"plainIconDark","aria-label":"edit",onClick:function(e){e.stopPropagation(),t(!0)},"data-qa":"flow-card-edit",children:Object(s.jsx)(ie.a,{icon:Ve.faEdit,fontSize:"4"})})}}),c&&Object(s.jsx)(To,{"aria-label":"Delete ".concat(t.name),cancelButtonText:"Cancel",confirmButtonText:"Yes, delete",dialogBody:Object(s.jsxs)(U.a,{sx:{minWidth:"448px"},children:[Object(s.jsxs)(Y.a,{children:["Are you sure you want to delete ",Object(s.jsx)("b",{children:t.name}),"?"]}),Object(s.jsx)(Y.a,{sx:{mt:"8px"},children:"This action cannot be undone."})]}),dialogHeading:"Delete this Flow?",onClick:function(){return r({id:t.id})},color:"neutral_0",variant:"plainIconDark","data-qa":"flow-card-delete",children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt,fontSize:"4"})})]}),Object(s.jsx)(U.a,{sx:{position:"absolute",top:"85px",right:"87px"},children:Object(s.jsx)(_d,{lineColor:"neutral_8",boxColor:"neutral_7",opacity:.67,height:65})})]}),Object(s.jsx)(U.d,{className:"doNotShowWhenHovered",p:3,alignItems:"center",justifyContent:"center",height:"100%",children:Object(s.jsx)(_d,{lineColor:"primary_4",boxColor:"neutral_1",height:65})}),Object(s.jsxs)(U.a,{bg:"neutral_0",p:3,textAlign:"left",sx:{zIndex:"1"},children:[Object(s.jsx)(Y.a,{variant:"bodyPrimary",className:"textColorChange",sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",fontWeight:"700",fontSize:"13px",color:"neutral_7"},pb:2,"data-qa":"flow-card-title",children:t.name}),Object(s.jsxs)(Y.a,{variant:"captionSecondary",sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:["Last modified on ",Fr(t.updatedAt)]}),Object(s.jsx)(Y.a,{className:"showWhenHovered",variant:"bodySecondary",sx:{mt:"9px"},children:t.description})]})]}))})}function Dd(e){var t=e.onClick,n=Object(V.a)(e,["onClick"]);return Object(s.jsxs)(Ad,Object(_.a)(Object(_.a)({},n),{},{bg:"primary_3",p:3,color:"neutral_0",sx:Object(_.a)({display:"grid",gridTemplateRows:"1fr min-content"},n.sx),as:"button",onClick:t,children:[Object(s.jsx)(U.a,{height:"100%",justifyContent:"center",alignItems:"center",display:"flex",children:Object(s.jsx)(ie.a,{icon:mo.faPlus,fontSize:"7"})}),Object(s.jsxs)(Y.a,{variant:"bodySecondary",color:"neutral_0",children:["Create a new",Object(s.jsx)("br",{}),"Flow"]})]}))}function Id(){var e=me().addToast,t=Object(m.c)(),n=Object(m.d)((function(e){return e.businessLogicFlow})),r=n.error,o=n.flows,c=n.loading,i=n.total,l=Object(R.f)(Te.d.Blueprints,Te.a.Create),u=Object(R.f)(Te.d.Blueprints,Te.a.Update),d=Object(R.f)(Te.d.Blueprints,Te.a.Delete),b=a.useState(""),f=Object(F.a)(b,2),p=f[0],j=f[1],h=a.useState(""),O=Object(F.a)(h,2),x=O[0],g=O[1],v=Object(_e.a)(x),y=a.useCallback((function(e){return"Search..."}),[]),C=a.useMemo((function(){return function(e){return t(Ae.a(e))}}),[t]),S=function(e){return t(Ae.c.request(e))},w=Object(R.g)(Ae.e);a.useEffect((function(){w({offset:0,limit:30})}),[w]);var E=a.useCallback((function(e){w({search:e,offset:0,limit:30})}),[w]);Object(R.a)((function(){g(p),v!==p&&E(p)}),200,[p,v]),a.useEffect((function(){Object.entries(r).forEach((function(t){var n=Object(F.a)(t,2),r=n[0],a=n[1];if(a){var o,c,i=null===(o=a.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message,s=i||a.message;e({content:s,head:"Something went wrong",variant:"error",timeout:-1}),C(r)}}))}),[C,r,e]);var k=Object(s.jsx)(U.d,{width:"100%",paddingBottom:5,children:Object(s.jsx)(De.a,{variant:"rounded",count:i,query:p,label:y,onChange:j,onReturn:E,loading:c.fetchBusinessLogicFlows})}),T=Object(s.jsxs)(U.d,{width:"100%",flexWrap:"wrap",children:[l&&Object(s.jsx)(Fd,{loading:c,renderAction:function(e){var t=e.setOpen;return Object(s.jsx)(Dd,{onClick:function(){return t(!0)},sx:{marginRight:"20px",marginBottom:"20px"},"data-qa":"flow-card-create"})}}),o.map((function(e){return Object(s.jsx)(Rd,{tabIndex:0,loading:c,flow:e,sx:{marginRight:"20px",marginBottom:"20px"},"data-qa":"flow-card",deleteBusinessLogicFlow:S,hasBlueprintsUpdatePermission:u,hasBlueprintsDeletePermission:d},e.id)})),Object(s.jsx)(oo,{action:function(){c.fetchBusinessLogicFlows||o.length>=i||w({search:p,offset:o.length,limit:30})}})]}),A=""!==x,_=o.length>0,D=A&&!_,I=!_&&!A&&!c.fetchBusinessLogicFlows;return Object(s.jsxs)(U.d,{height:"100%",px:10,pt:7,overflow:"auto",flexWrap:"wrap",alignContent:"flex-start",children:[(_||A||c.fetchBusinessLogicFlows)&&k,_&&T,D&&Object(s.jsx)(qe,{sx:{height:"initial",justifyContent:"flex-start",py:8,backgroundColor:"transparent"},heading:"No results found",body:"There are no Flows that match your search query. Please try again.",image:Fc}),I&&Object(s.jsx)(qe,{sx:{backgroundColor:"transparent"},heading:"You have no Flows yet",body:"Create Flows to document business processes that your assistant should follow. Tip: Link Flows to Dialogues to be able to plan your assistant",image:Td,actions:Object(s.jsx)(Fd,{loading:c,renderAction:function(e){var t=e.setOpen;return l&&Object(s.jsx)(B.a,{"data-qa":"create-flow-empty-placeholder",onClick:function(){return t(!0)},children:"Create a new Flow"})}})})]})}function Ld(e){var t=e.location,n=e.match,r=e.onNavigate,a=n.url,o=null===t||void 0===t?void 0:t.pathname,c={businessLogicFlows:No()(a,"flows"),sampleConversations:No()(a,"dialogues"),sampleConversationsDetail:No()(a,"dialogues/:dialogueId")},i={businessLogicFlows:!!Object(y.g)(o,{path:c.businessLogicFlows}),sampleConversations:!!Object(y.g)(o,{path:c.sampleConversations}),sampleConversationsDetail:!!Object(y.g)(o,{path:c.sampleConversationsDetail})},l=Object(s.jsxs)(Oc.a,{children:[Object(s.jsx)(hc.a,{onClick:function(){return r(c.businessLogicFlows)},active:i.businessLogicFlows,"data-qa":"blueprints-tab-flow",sx:{fontSize:3},children:"Flows"}),Object(s.jsx)(hc.a,{onClick:function(){return r(c.sampleConversations)},active:i.sampleConversations,"data-qa":"blueprints-tab-dialog",sx:{fontSize:3},children:"Dialogues"})]}),u=Object(R.b)(),d=Object(R.f)(Te.d.Blueprints,Te.a.Read),b=u&&d;return Object(s.jsx)(Ee.a,{centreContent:l,rightContent:Object(s.jsx)(s.Fragment,{}),title:Object(s.jsx)(H.Box,{width:251,children:"Blueprints"}),noPadding:!0,children:b?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.c,{exact:!0,path:a,component:Id}),Object(s.jsx)(y.c,{exact:!0,path:c.sampleConversations,component:kd}),Object(s.jsx)(y.c,{exact:!0,path:c.sampleConversationsDetail,component:kd}),Object(s.jsx)(y.c,{exact:!0,path:c.businessLogicFlows,component:Id})]}):Object(s.jsx)(y.b,{to:"/"})})}var Nd=function(){var e=Object(y.h)().push,t=Object(y.i)(),n=Object(y.k)();return Object(s.jsx)(Ld,{onNavigate:e,location:t,match:n})},Bd=n(1160),Ud=(n(1021),n(2038),n(2039),n(2040),n(2041),n(2042),n(2045),n(1158)),Md=n(1159),Pd=n.n(Md);function qd(){var e=Object(E.a)(["\n  .CodeMirror {\n    ","\n    height: auto;\n    margin-left: -24px;\n\n    & * {\n      ","\n      letter-spacing: 1px;\n    }\n\n    &-line {\n      .cm-header,\n      .cm-variable-2,\n      .cm-atom {\n        ","\n      }\n\n      .cm-quote {\n        ","\n      }\n\n      .cm-variable,\n      .cm-variable-3 {\n        ","\n      }\n    }\n\n    &-gutters {\n      background-color: transparent;\n      border: 0;\n      margin-left: 28px;\n\n      &.lineerrors {\n        margin-left: -70px;\n      }\n    }\n\n    &-gutter-elt {\n      left: 28px;\n    }\n\n    &-linenumber {\n      ","\n      padding: 0;\n    }\n\n    &-sizer {\n      padding-left: 28px;\n    }\n\n    &-foldmarker {\n      cursor: pointer;\n      border-radius: 1px;\n      width: 16px;\n      height: 8px;\n      line-height: 1px;\n      display: inline-block;\n      letter-spacing: -3px;\n      margin-left: 4px;\n      ","\n      color: transparent;\n      position: relative;\n\n      &:after {\n        content: '...';\n        position: absolute;\n        left: 0;\n        ","\n      }\n    }\n\n    &-foldgutter {\n      width: 20px;\n\n      &-open,\n      &-folded {\n        cursor: pointer;\n        ","\n        text-align: center;\n      }\n\n      &-open:after {\n        content: '\\25BE';\n      }\n\n      &-folded:after {\n        content: '\\25B8';\n      }\n    }\n  }\n"],["\n  .CodeMirror {\n    ","\n    height: auto;\n    margin-left: -24px;\n\n    & * {\n      ","\n      letter-spacing: 1px;\n    }\n\n    &-line {\n      .cm-header,\n      .cm-variable-2,\n      .cm-atom {\n        ","\n      }\n\n      .cm-quote {\n        ","\n      }\n\n      .cm-variable,\n      .cm-variable-3 {\n        ","\n      }\n    }\n\n    &-gutters {\n      background-color: transparent;\n      border: 0;\n      margin-left: 28px;\n\n      &.lineerrors {\n        margin-left: -70px;\n      }\n    }\n\n    &-gutter-elt {\n      left: 28px;\n    }\n\n    &-linenumber {\n      ","\n      padding: 0;\n    }\n\n    &-sizer {\n      padding-left: 28px;\n    }\n\n    &-foldmarker {\n      cursor: pointer;\n      border-radius: 1px;\n      width: 16px;\n      height: 8px;\n      line-height: 1px;\n      display: inline-block;\n      letter-spacing: -3px;\n      margin-left: 4px;\n      ","\n      color: transparent;\n      position: relative;\n\n      &:after {\n        content: '...';\n        position: absolute;\n        left: 0;\n        ","\n      }\n    }\n\n    &-foldgutter {\n      width: 20px;\n\n      &-open,\n      &-folded {\n        cursor: pointer;\n        ","\n        text-align: center;\n      }\n\n      &-open:after {\n        content: '\\\\25BE';\n      }\n\n      &-folded:after {\n        content: '\\\\25B8';\n      }\n    }\n  }\n"]);return qd=function(){return e},e}var Hd=Object(l.default)(Ud.Controlled)(qd(),se.color,se.typography,Object(se.system)({headerColor:{property:"color",scale:"colors"}}),Object(se.system)({quoteColor:{property:"color",scale:"colors"}}),Object(se.system)({variableColor:{property:"color",scale:"colors"}}),Object(se.system)({lineNumberColor:{property:"color",scale:"colors"}}),Object(se.system)({foldMarkerBg:{property:"color",scale:"colors"}}),Object(se.system)({foldMarkerColor:{property:"color",scale:"colors"}}),Object(se.system)({lineNumberColor:{property:"color",scale:"colors"}}));function Gd(e){var t=e.value,n=e.onChange,r=e.language,o=e.highlight,c=e.readOnly,i=void 0===c?[]:c,u=e.errors,d=e.disabled,b=a.useContext(l.ThemeContext),f=a.useState(null),p=Object(F.a)(f,2),j=p[0],h=p[1],O=me().addToast,x=a.useMemo((function(){return new RegExp("^(".concat(i.map((function(e){return e.title})).join("|"),")\\s*:(\\s*[\\n\\r]+(?:^[-\\s\\t]+.*[\\n\\r]+|^-.*)*)"),"gm")}),[i]),g=a.useCallback((function(e,t){for(var n,r=e.getDoc();null!==(n=x.exec(t));){var a=r.posFromIndex(n.index),o=r.posFromIndex(n.index+n[0].length);if(r.findMarksAt(a).length>0)return;e.foldCode(a),r.markText(a,o,{css:"color: ".concat(Object(se.get)(b,"colors.neutral_6")),inclusiveRight:!1,attributes:{title:n[1],readOnly:!0}})}}),[x,b]),v=a.useState([]),m=Object(F.a)(v,2)[1],y=a.useCallback((function(e,t){if(o){for(var n=e.getDoc(),r=0,a=[];r<t.length;){var c=t.indexOf(o,r);if(-1===c)break;var i=c+o.length;a.push(n.markText(n.posFromIndex(c),n.posFromIndex(i),{css:"background-color: #d1ceee; padding: 2px 0;"})),r=i}m((function(e){return e.forEach((function(e){return e.clear()})),a}))}else m((function(e){return e.forEach((function(e){return e.clear()})),[]}))}),[o,m]),C=a.useCallback((function(){var e=document.createElement("div");return e.innerHTML=Pd.a.renderToStaticMarkup(Object(s.jsx)(H.Box,{children:Object(s.jsx)(ie.a,{icon:Bd.faExclamationCircle,color:Object(se.get)(b,"colors.secondary_3")})})),e}),[b]),S=a.useCallback((function(e){e.clearGutter("lineerrors"),u&&u.map((function(t){return e.setGutterMarker(t-1,"lineerrors",C())}))}),[u,C]);a.useEffect((function(){if(j&&d){var e=j.getDoc();e.markText(e.posFromIndex(0),e.posFromIndex(t.length),{css:"color: ".concat(Object(se.get)(b,"colors.neutral_6")),attributes:{readOnly:!0}})}}),[d,j,b,t]),a.useEffect((function(){j&&!d&&g(j,t)}),[j,t,d,g]),a.useEffect((function(){j&&y(j,t)}),[j,t,y]);var w=a.useCallback((function(e){return h(e)}),[]),E=a.useCallback((function(e,t,r){[].concat(Object(A.a)(e.getDoc().findMarksAt(t.from)),Object(A.a)(e.getDoc().findMarksAt(t.to))).some((function(e){var t;if(null===(t=e.attributes)||void 0===t?void 0:t.readOnly){var n=i.find((function(t){return t.title===e.attributes.title}));n&&n.alert&&O(n.alert)}return!0}))||n(r)}),[O,n,i]);return Object(s.jsx)(Hd,{value:t,options:{mode:r,lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","lineerrors"]},editorDidMount:w,onBeforeChange:E,onChange:S})}function Vd(e){var t=e.config,n=e.error,r=e.onSave,o=e.clearError,c=Object(R.k)();a.useEffect((function(){c("view:config:loaded")}),[c]);var i=a.useState(t),l=Object(F.a)(i,2),u=l[0],d=l[1],b=me().addToast;a.useEffect((function(){Object.entries(n).forEach((function(e){var t=Object(F.a)(e,2),n=t[0],r=t[1];r&&(b({head:r.name,content:r.message,variant:"error"}),o(n))}))}),[n,b,o]),a.useEffect((function(){d(t)}),[t]);var f=u!==t;return Object(s.jsx)(Ee.a,{title:Object(s.jsxs)(H.Flex,{alignItems:"center",children:["Model Configuration"," ",Object(s.jsx)(zc,{content:Object(s.jsxs)(H.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"},children:["Edit the"," ",Object(s.jsx)(H.Box,{as:"a",color:"neutral_0",target:"_blank",rel:"noopener noreferrer",href:"https://rasa.com/docs/rasa/model-configuration",children:"yaml configuration file"})," ","for your Rasa model. You can learn more about the different options for pipeline"," ",Object(s.jsx)(H.Box,{as:"a",color:"neutral_0",target:"_blank",rel:"noopener noreferrer",href:"https://rasa.com/docs/rasa/components",children:"components"})," ","and"," ",Object(s.jsx)(H.Box,{as:"a",color:"neutral_0",target:"_blank",rel:"noopener noreferrer",href:"https://rasa.com/docs/rasa/policies",children:"policies"})," ","in the Rasa documentation."]})})]}),scrollable:!0,rightContent:Object(s.jsx)(qc.a,{resource:Te.d.Models,attributes:["settings"],action:Te.a.Update,yes:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{onClick:function(){d(t)},variant:"secondary",large:!0,mr:2,disabled:!f,children:"Discard"}),Object(s.jsx)(B.a,{onClick:function(){r(u)},large:!0,mr:3,disabled:!f,children:"Save changes"})]})}),children:Object(s.jsxs)(H.Box,{children:[f&&Object(s.jsx)(y.a,{message:"Are you sure you want to navigate away before saving the new configuration file?"}),Object(s.jsx)(so.a,{p:4,sx:{boxShadow:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",border:0,borderRadius:"large"},children:Object(s.jsx)(Gd,{language:"yaml",value:u,onChange:function(e){return d(e)}})})]})})}Hd.defaultProps={color:"neutral_8",headerColor:"primary_1",quoteColor:"green_1",variableColor:"neutral_8",lineNumberColor:"neutral_6",foldMarkerBg:"primary_1",foldMarkerColor:"neutral_0",fontFamily:"mono",fontSize:"1",lineHeight:"normal"};var zd={onFetchConfig:Is.d.request,onSave:Is.i.request,clearError:Is.a};var Yd=Object(m.b)((function(e){return{config:e.projects.config,error:e.projects.error}}),zd)((function(e){var t=e.onFetchConfig,n=Object(V.a)(e,["onFetchConfig"]);return a.useEffect((function(){t()}),[t]),Object(s.jsx)(Vd,Object(_.a)({},n))})),Wd=n(1161);function Kd(e){var t=e.children,n=e.content,r=e.docs,o=e.nextStep,c=e.step,i=e.title,l=e.canBeShown,u=Object(V.a)(e,["children","content","docs","nextStep","step","title","canBeShown"]),d=Object(m.d)((function(e){return e.users.currentUser})),b=Z(),f=L(),p=f.hintsEnabled,j=f.currentHint,h=f.allHints,O=f.nextHints,x=f.setHintsEnabled,g=f.addHint,v=f.updateCurrentHint;a.useEffect((function(){if(d){var e=d.data&&d.data.viewed_hints&&d.data.viewed_hints.includes(c);g({source:c,nextSource:o,canBeShown:l&&!e})}}),[d,g,c,o,l]);var y=a.useMemo((function(){return h.map((function(e,t){return Object(s.jsx)(H.Flex,{mr:"5px",sx:{backgroundColor:"#fff",borderRadius:"2px",display:"inline-block",height:"4px",marginTop:"auto",opacity:e===j?1:.4,transition:"all ease .2s",width:e===j?"10px":"4px"},as:"li"},t)}))}),[j,h]);return j?Object(s.jsx)(W.a,Object(_.a)(Object(_.a)({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",p:4,textAlign:"left",heading:i&&Object(s.jsx)(z.a,{flex:1,variant:"h2",inheritColor:!0,mb:"12px","data-qa":"hint-title_h2",children:i}),visible:j===c,disabled:!p,interactive:!0,placement:"bottom-end",onHide:function(){j===c&&x(!1)},content:Object(s.jsxs)(H.Box,{sx:{width:"352px"},children:[Object(s.jsxs)(Y.a,{color:"neutral_0",as:"div",variant:"bodySecondary",children:[n,r&&Object(s.jsxs)(s.Fragment,{children:[" ",Object(s.jsx)(Y.a,{fontWeight:600,as:"a",target:"_blank",href:r,color:"neutral_0",sx:{textDecoration:"none",display:"initial"},children:"Learn more here"}),"."]})]}),Object(s.jsxs)(H.Flex,{mt:4,children:[Object(s.jsx)(H.Flex,{flexDirection:"row",as:"ul",m:0,p:0,sx:{listStyle:"none"},children:y}),Object(s.jsx)(H.Flex,{sx:{marginLeft:"auto"},children:O.length>1?Object(s.jsxs)(B.a,{variant:"plain",onClick:function(){b(c),v(!0)},children:["Next ",Object(s.jsx)(ie.a,{icon:Wd.faLongArrowRight})]}):Object(s.jsx)(B.a,{variant:"inverse",onClick:function(){b(c),v(!0)},children:"Done"})})]})]})},u),{},{children:t})):Object(s.jsx)(s.Fragment,{children:t})}Kd.defaultProps={appendTo:document.body,offset:[0,8]};var Qd=n(1163),Xd=n(1162),$d=n(1022),Zd=n(1164);function Jd(e){var t=e.conversation,n=e.onOpenModal,r=Object(m.c)(),o=t.sender_id,c=a.useCallback((function(e,t){r(t?Hc.u.request({conversationId:o,tags:[e]}):Hc.t.request({conversationId:o,tag:e}))}),[o,r]),i=a.useCallback((function(e){r(Hc.u.request({conversationId:o,tags:[e]}))}),[o,r]);return Object(s.jsx)(Ps,{onCreate:i,onTagChange:c,selectedTags:t.tags,onOpenModal:n})}function eb(e){var t=e.color,n=e.bg,r=e.borderColor;return"string"===typeof t&&(n=Object(ha.c)(.75,t),t=Object(ha.b)(.25,t),r=Object(ha.a)(n)>.9?t:n),Object(s.jsx)(Jc.a,Object(_.a)(Object(_.a)({},e),{},{bg:n,px:3,py:"6px",color:t,width:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:r,borderRadius:"normal"}))}function tb(e){var t=e.conversation,n=Object(m.c)(),r=Object(m.d)((function(e){return e.projects.tags})),o=Object(R.n)(!1),c=Object(F.a)(o,2),i=c[0],l=c[1],u=a.useCallback((function(){return l()}),[l]);return a.useEffect((function(){n(Is.e.request())}),[n]),Object(s.jsxs)(H.Flex,{width:"100%",flexWrap:"wrap",justifyContent:"center",flexDirection:"column",children:[Object(s.jsxs)(H.Flex,{mb:"12px",width:"100%",justifyContent:"space-between",alignItems:"center",children:[Object(s.jsx)(z.a,{variant:"h4",color:"neutral_6",children:"TAGS"}),Object(s.jsx)(ba.a,{visible:i,popupWidth:"320px",content:Object(s.jsx)(Jd,{conversation:t,onOpenModal:u}),borderRadius:"normal",onClose:function(){return l()},children:Object(s.jsx)(B.a,{variant:"icon",p:"8px",onClick:function(){return l()},children:Object(s.jsx)(ie.a,{icon:qu.faCog})})})]}),t.tags.map((function(e){var t=r.find((function(t){return t.id===e}));return void 0===t?null:Object(s.jsx)(eb,{color:"#".concat(t.color),mb:2,children:t.value},t.id)}))]})}var nb=function(e){var t=e.active,n=e.title,r=e.icon,o=e.onIconClick,c=a.useMemo((function(){switch(r){case"check-circle":return t?$d.faCheckCircle:ws.faCheckCircle;case"bookmark":return t?Xd.faBookmark:Qd.faBookmark;case"trash-alt":return t?Zd.faTrashAlt:ze.faTrashAlt}}),[r,t]);return Object(s.jsxs)(H.Flex,{width:"100%",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(s.jsx)(Y.a,{variant:"bodySecondary",children:n}),Object(s.jsx)(B.a,{p:2,active:t,variant:"icon",onClick:o,children:Object(s.jsx)(ie.a,{icon:c})})]})};function rb(e){var t=e.conversation,n=e.conversationId,r=e.onConversationDelete,o=e.onUpdatedReviewStatus,c=Object(m.c)(),i=function(e){return"Tester"===(null===e||void 0===e?void 0:e.latest_input_channel)?"Tester":e&&"rasa"!==e.latest_input_channel?e.sender_name:"Anonymous user"}(t),l=a.useState(!1),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useCallback((function(e){c(Hc.C.request({conversationId:n,status:e})),o()}),[n,c,o]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(H.Flex,{width:"100%",flexDirection:"column",alignItems:"center",mt:10,"data-qa":"conversation-info-panel_div",children:[Object(s.jsxs)(H.Flex,{px:"100px",mb:3,children:[Object(s.jsx)(gu,{variant:"xl",mr:-44,children:Object(s.jsx)(ie.a,{icon:Hn.faMehBlank})}),Object(s.jsx)(gu,{variant:"xl",bg:"neutral_3",ml:-44,children:Object(s.jsx)(ie.a,{icon:Gn.faUser})})]}),Object(s.jsx)(Y.a,{variant:"bodySecondary",sx:{fontWeight:"bold"},children:"Conversation between"}),Object(s.jsxs)(Y.a,{variant:"bodySecondary",textAlign:"center",sx:{fontWeight:"bold"},children:["Demobot and ",i]}),Object(s.jsx)(Y.a,{mt:2,mb:7,variant:"captionPrimary",children:null===t||void 0===t?void 0:t.latest_input_channel}),Object(s.jsxs)(H.Flex,{width:"100%",flexDirection:"column",alignItems:"flex-start",px:4,py:3,sx:{borderTopStyle:"solid",borderTopWidth:"1px",borderColor:"neutral_3"},children:[Object(s.jsx)(z.a,{pb:3,variant:"h4",color:"neutral_6",children:"ACTIONS"}),Object(s.jsx)(nb,{active:"reviewed"===(null===t||void 0===t?void 0:t.review_status),title:"Mark as reviewed",icon:"check-circle",onIconClick:function(){return f("reviewed"!==(null===t||void 0===t?void 0:t.review_status)?"reviewed":"unread")}}),Object(s.jsx)(nb,{active:"saved_for_later"===(null===t||void 0===t?void 0:t.review_status),title:"Save for later",icon:"bookmark",onIconClick:function(){return f("saved_for_later"!==(null===t||void 0===t?void 0:t.review_status)?"saved_for_later":"unread")}}),Object(s.jsx)(nb,{title:"Delete",icon:"trash-alt",onIconClick:function(){return b(!0)}})]}),t&&Object(s.jsx)(H.Flex,{width:"100%",flexDirection:"column",alignItems:"flex-start",px:4,py:"10px",sx:{borderTopStyle:"solid",borderTopWidth:"1px",borderColor:"neutral_3"},children:Object(s.jsx)(tb,{conversation:t})})]}),Object(s.jsxs)(oi,{title:"Delete conversation?",open:d,onClose:function(){return b(!1)},style:{width:"412px"},noSeparator:!0,px:4,py:0,children:[Object(s.jsx)(Y.a,{children:"Are you sure you want to delete this conversation? This action cannot be undone."}),Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",mt:5,mb:5,children:[Object(s.jsx)(B.a,{large:!0,mx:1,variant:"primary",onClick:function(){b(!1),r()},children:"Delete"}),Object(s.jsx)(B.a,{large:!0,mx:1,variant:"secondary",onClick:function(){return b(!1)},children:"Cancel"})]})]})]})}var ab=l.default.ul.withConfig({displayName:"Accordion",componentId:"sc-1oehtxo-0"})([""," list-style:none;"],se.space);ab.defaultProps={p:0,m:0};var ob=a.memo(ab);function cb(){var e=Object(E.a)(["\n      transform: rotate(90deg);\n    "]);return cb=function(){return e},e}var ib=Object(l.default)(H.Flex).withConfig({displayName:"AccordionSection__Content",componentId:"q2jvwm-0"})(["display:",";"],(function(e){return e.expanded?"block":"none"})),sb=Object(l.default)(H.Flex).withConfig({displayName:"AccordionSection__IconContainer",componentId:"q2jvwm-1"})(["transition:transform ease 0.1s;",""],(function(e){return e.expanded&&Object(l.css)(cb())})),lb=Object(l.default)(H.Flex).withConfig({displayName:"AccordionSection__StyledFlex",componentId:"q2jvwm-2"})(["cursor:pointer;"]);function ub(e){var t=e.title,n=e.children,r=Object(V.a)(e,["title","children"]),o=a.useState(r.expanded),c=Object(F.a)(o,2),i=c[0],l=c[1];return Object(s.jsxs)(Io.a,{bottom:!0,children:[Object(s.jsxs)(lb,{p:20,flexDirection:"row",alignItems:"center",onClick:function(){return l(!i)},children:[Object(s.jsx)(sb,{alignItems:"center",size:24,mr:2,justifyContent:"center",expanded:i,children:Object(s.jsx)(ie.a,{icon:ru.faAngleRight})}),Object(s.jsx)(z.a,{variant:"h4",children:t})]}),Object(s.jsx)(ib,{pl:7,pr:5,pb:5,expanded:i,children:n})]})}function db(e){var t=e.elements,n=a.useState(0),r=Object(F.a)(n,2),o=r[0],c=r[1],i=a.useState(t.find((function(e){return e.default}))||t[0]),l=Object(F.a)(i,2),u=l[0],d=l[1];a.useEffect((function(){d((function(e){return t.find((function(t){return t.title===e.title}))}))}),[t]);var b=a.useMemo((function(){return t.map((function(e,t){return Object(s.jsx)(H.Flex,{justifyContent:"center",alignItems:"center",as:"li",px:3,py:2,minWidth:100,textAlign:"center",sx:Object(_.a)({borderRadius:"normal",borderBottomRightRadius:0,borderBottomLeftRadius:0,cursor:"pointer",border:"solid 1px transparent",transition:"all ease 0.15s",whiteSpace:"nowrap"},e.title===u.title?{borderStyle:"solid",borderWidth:"1px",borderColor:"neutral_5",borderBottomColor:"neutral_1",backgroundColor:"neutral_1"}:{}),onClick:function(){var t;d(e),c((function(e){return e+1})),null===(t=e.onChange)||void 0===t||t.call(e)},children:Object(s.jsx)(Y.a,{variant:"bodySecondary",fontSize:1,color:e.title===u.title?"neutral_8":"primary_2",children:e.title})},t)}))}),[t,u]);return Object(s.jsxs)(H.Box,{children:[Object(s.jsx)(H.Flex,{flexDirection:"row",as:"ul",sx:{listStyle:"none",position:"relative",zIndex:1},m:0,p:0,mr:4,children:b}),Object(s.jsx)(H.Box,{mt:"-1px",sx:{boxShadow:"0 6px 21px 0 rgba(152, 152, 152, 0.06), 0 2px 4px 0 #f2f4fa",borderRadius:"normal"},children:Object(s.jsx)(Wo.a,{disabled:0===u.content.length,preformatted:!0,fullSize:!0,css:u.title===t[0].title?{borderTopLeftRadius:0}:{},onCopy:u.onCopy&&u.onCopy,children:0===u.content.length?"No story yet":u.content},o)})]})}var bb=n(1165),fb=n.n(bb),pb=function(e){return"slot"===e.event};function jb(e){var t=e.conversation,n=Object(R.k)(),r=a.useMemo((function(){var e=function(e){for(var t=e.length-1;t>=0;t--)if("restart"===e[t].event)return t;return 0}(t);return t.slice(e,t.length)}),[t]),o=a.useMemo((function(){var e=r.filter(pb);return Object.fromEntries(e.map((function(e){return[e.name,e.value]})))}),[r]),c=a.useMemo((function(){return Object.keys(o).map((function(e){return"".concat(e,": ").concat(o[e])})).join("\n")}),[o]),i=Object.keys(o);return 0===i.length?Object(s.jsx)(Wo.a,{disabled:!0,fullSize:!0,bg:"neutral_0",children:"No slots"}):Object(s.jsx)(Wo.a,{preformatted:!0,fullSize:!0,bg:"neutral_0",onCopy:function(){return n("entity:slots:copied")},clipboardText:c,children:Object(s.jsx)(s.Fragment,{children:i.map((function(e){return Object(s.jsxs)("div",{style:{marginBottom:"1em"},children:[Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:e})}),Object(s.jsx)("div",{children:(t=o[e],"boolean"===typeof t||null===t?Object(s.jsx)("i",{children:String(t)}):"object"!==typeof t?t:Object(s.jsx)(fb.a,{name:!1,src:t,enableClipboard:!1}))})]},e);var t}))})})}function hb(e){var t=e.editable,n=e.onClearStory,r=e.onCopy,o=e.onSaveStory,c=(e.storyName,e.conversation),i=e.onSaveE2ETest,l=e.saveE2ETestLoading,u=e.activeGitRepository,d=Object(m.d)((function(e){return e.messages.story}))||"",b=Object(m.d)((function(e){return e.messages.testStory}))||"",f=a.useState(!1),p=Object(F.a)(f,2),j=p[0],h=p[1],O=a.useState(!1),x=Object(F.a)(O,2),g=x[0],v=x[1],y=Object(R.k)();a.useEffect((function(){v(!1)}),[d]);var C=a.useCallback((function(){i(b),v(!0)}),[b,i]),S=a.useMemo((function(){return!u||g&&!l}),[g,l,u]);return Object(s.jsxs)(ob,{children:[Object(s.jsxs)(ub,{title:"Story till now",expanded:!0,children:[Object(s.jsx)(db,{elements:[{title:"Story",content:d.split("\n"),onChange:function(){return h(!1)},onCopy:function(){return y("entity:story:copied")}},{title:"Test story",content:b.split("\n"),onChange:function(){y("entity:e2eStory:opened"),h(!0)},onCopy:function(){return y("entity:e2eStory:copied")}}]}),d.length>0&&(j?Object(s.jsx)(H.Flex,{flexDirection:"row-reverse",mt:3,children:Object(s.jsx)(qc.a,{resource:Te.d.Tests,action:Te.a.Create,yes:Object(s.jsx)(Mr.a,{disabled:!!u,content:Object(s.jsx)(H.Box,{sx:{textAlign:"center"},children:"Connect to a remote Git repository to save this test story"}),children:Object(s.jsx)(Be,{disabled:S,loading:l,onClick:C,variant:"primary",children:g&&!l?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ie.a,{mr:1,icon:ws.faCheckCircle})," Saved"]}):"Save test story"})})})}):t?Object(s.jsxs)(H.Flex,{mt:3,flexDirection:"row-reverse",mr:-1,children:[Object(s.jsx)(qc.a,{resource:Te.d.Stories,action:Te.a.Create,yes:Object(s.jsx)(B.a,{mx:1,onClick:function(){o&&o({story:{story:d},isMarkdown:!1})},variant:"primary",children:"Save Story"})}),n&&Object(s.jsx)(B.a,{mx:1,onClick:n,ml:1,variant:"secondary",children:"Clear"})]}):Object(s.jsx)(H.Flex,{flexDirection:"row-reverse",mt:3,children:Object(s.jsx)(B.a,{onClick:function(){return r&&r()},variant:"primary",children:"Copy to interactive learning"})}))]}),Object(s.jsx)(ub,{title:"Slots",expanded:!0,children:Object(s.jsx)(jb,{conversation:c})})]})}var Ob=n(579),xb=function(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor};function gb(e){var t=e.message,n=e.intents,r=void 0===n?[]:n,o=e.correction,c=e.onChangeCorrection,i=e.onFetchExample,l=e.onSaveCorrection,u=e.originalIntent,d=e.entityTypes,b=e.onChange,f=e.entities,p=e.rankedIntents,j=e.synonyms,h=Object(m.c)(),O=Object(R.k)(),x=a.useState(""),g=Object(F.a)(x,2),v=g[0],y=g[1];a.useEffect((function(){return y(t.text)}),[t]);var C=Object(Ob.a)(a.useCallback((function(e){return h(yi.c.request(e))}),[h]),2);a.useEffect((function(){""!==v&&C(v)}),[v,C]);var S=Object(m.d)((function(e){return e.examples.draftExampleExists})),w=a.useMemo((function(){return t.text!==v}),[t,v]),E=a.useCallback((function(e){return o&&e.name!==o.intent&&c(Object(_.a)(Object(_.a)({},o),{},{intent:e.name}))}),[o,c]),k=a.useCallback((function(e){return b(t.text,f.map((function(t){return xb(t,e)?e:t})))}),[f,b,t]),T=a.useCallback((function(e){var n=f?f.filter((function(t){return!xb(t,e)})):[];b(t.text,n)}),[f,b,t]),D=a.useCallback((function(){o&&v&&(O("entity:annotation:corrected"),l(Object(_.a)(Object(_.a)({},o),{},{text:v})))}),[o,l,v,O]),I=a.useMemo((function(){if(u){var e=r.indexOf(u),t=r.filter((function(t,n){return n!==e}));return[u].concat(Object(A.a)(t))}return r}),[r,u]);return Object(s.jsx)(H.Flex,{flex:"1",flexDirection:"column",children:Object(s.jsxs)(H.Box,{children:[o&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(H.Flex,{alignItems:"center",mb:2,children:[Object(s.jsx)(z.a,{variant:"h5",mr:1,children:"Sentence"}),Object(s.jsx)(Mr.a,{maxWidth:"350px",content:"Edit and/or annotate this sentence with entities and the correct intent and add it to your training data.",px:3,py:3,children:Object(s.jsx)(ie.a,{fontSize:1,color:"neutral_6",icon:Vc.faInfoCircle})})]}),Object(s.jsx)(H.Flex,{alignItems:"center",justifyContent:"space-between",flexDirection:"row",mb:3,px:3,py:"6px",sx:{minHeight:"40px",border:"1px solid",borderColor:"neutral_5",borderRadius:"normal","&:hover":{borderColor:"neutral_6"},"&:focus-within:not(:disabled), &:focus:not(:disabled)":{borderColor:"primary_2"}},children:o&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(H.Box,{width:"100%",children:Object(s.jsx)(Rl,{text:v,entities:o.entities,entityTypes:d,onChange:function(e,t){y(e),t.length>0&&c(Object(_.a)(Object(_.a)({},o),{},{entities:t,text:e}))}})}),S&&w&&Object(s.jsx)(H.Box,{ml:2,children:Object(s.jsx)(Mr.a,{content:"This already exists as training data.",children:Object(s.jsx)(ie.a,{fontSize:1,color:"neutral_6",icon:Ho.faExclamationCircle})})})]})}),Object(s.jsx)(z.a,{variant:"h5",mb:2,children:"Correct intent"}),Object(s.jsx)(Ss,{intent:o.intent,intents:I,predictedIntent:u,rankedIntents:p,onChange:E,fullWidth:!0}),f.length>0&&Object(s.jsxs)(H.Box,{mt:4,mb:3,children:[Object(s.jsx)(Ic.a,{variant:"center",mb:3,children:Object(s.jsx)(z.a,{variant:"h5",children:"Correct entities"})}),Object(s.jsx)(hl,{entityTypes:d,entityGroups:[],entityRoles:[],disableRolesAndGroups:!0,onChangeEntity:k,onRemoveEntity:T,text:t.text,entities:f,synonyms:j})]})]}),Object(s.jsxs)(H.Flex,{mt:4,children:[Object(s.jsx)(H.Box,{flex:"1"}),Object(s.jsxs)(H.Box,{children:[Object(s.jsx)(B.a,{disabled:!o||!o.isDirty&&!w,onClick:function(){y(t.text),i(t.text)},variant:"secondary",children:"Cancel"}),Object(s.jsx)(B.a,{disabled:!o||!o.isDirty&&(S||v.length<=0),variant:"primary",ml:2,onClick:D,children:"Save to training data"})]})]})]})})}var vb=n(1166),mb=n(353),yb=function(){return(yb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Cb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Sb(e){var t=Cb(e,[]);return Object(s.jsx)(U.a,yb({sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},t),void 0)}var wb=Object(se.variant)({key:"actions"}),Eb=a.forwardRef((function(e,t){var n=e.children,r=e.variant,a=e.confidence,o=Object(V.a)(e,["children","variant","confidence"]);return Object(s.jsx)(Sb,{children:Object(s.jsxs)(Y.a,Object(_.a)(Object(_.a)({variant:"captionSecondary",sx:wb({variant:r})},o),{},{ref:t,children:[n,"number"===typeof a&&Object(s.jsxs)(H.Box,{as:"span",sx:{ml:1,fontWeight:"normal"},children:["(",ys(a),")"]})]}))})}));Eb.defaultProps={fontSize:0,letterSpacing:0,color:"dark_grey_temp"};var kb=Eb,Tb=a.memo((function(e){var t=e.date,n=e.color,r=Yo()(1e3*t);return Object(s.jsx)(Y.a,{color:n,variant:"metadata",title:r.format("D MMM YYYY h:mm a"),children:r.format("h:mm a")})})),Ab=function(e){var t=e.newIntent,n=e.oldIntent,r=e.confidence,a=t!==n;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(Mr.a,{content:"Intent and Confidence",placement:"bottom",children:[Object(s.jsx)(kb,{variant:a?"incorrect":"default",confidence:a?null:r,children:n}),a&&t&&Object(s.jsx)(kb,{ml:1,variant:"correct",children:t})]})})},_b=l.default.div.withConfig({displayName:"MessagePreview__DotSeparator",componentId:"sc-1qsh8rv-0"})(["width:4px;height:4px;background-color:#979fb4;border-radius:50%;margin-right:12px;margin-left:12px;"]);function Fb(e){var t=e.action,n=e.message,r=e.confidence,o=e.correction,c=(e.entityTypes,e.originalIntent),i=(e.onChangeCorrection,e.onFlagMessage),l=(e.synonyms,n.text),u=n.timestamp,d=n.event,b="bot"===d&&!!l&&l.length>200,f=a.useState(!0),p=Object(F.a)(f,2),j=p[0],h=p[1],O=b&&l.substring(0,200)+"...",x=a.useMemo((function(){return j&&b?O:l}),[j,l,O,b]),g=a.useCallback((function(){i(n.timestamp,!n.is_flagged)}),[i,n]);return Object(s.jsxs)(H.Flex,{pl:4,pr:6,py:5,sx:{borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"neutral_4"},children:[Object(s.jsx)(H.Box,{mr:3,sx:{minWidth:"40px "},children:Object(s.jsx)(gu,{variant:"large",bg:"user"===d?"neutral_3":"cyan_2",children:Object(s.jsx)(ie.a,{icon:"user"===d?Gn.faUser:Hn.faMehBlank})})}),Object(s.jsxs)(H.Flex,{flexDirection:"column",children:[Object(s.jsx)(Y.a,{variant:"bodySecondary",mb:2,as:"div",children:x}),b&&Object(s.jsxs)(B.a,{paddingBottom:3,alignSelf:"flex-start",color:"primary_1",variant:"link",onClick:function(e){h(!j),e.stopPropagation()},children:["See ",j?"more":"less"]}),Object(s.jsxs)(H.Flex,{flexDirection:"row",alignItems:"center",children:[Object(s.jsx)(Tb,{color:"dark_grey_temp",date:u}),"user"===n.event&&o&&c&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_b,{}),Object(s.jsx)(Ab,{newIntent:o.intent,oldIntent:c,confidence:r}),Object(s.jsx)(_b,{}),Object(s.jsx)(B.a,Object(_.a)(Object(_.a)({variant:"plainIcon",color:"dark_grey_temp",onClick:g},n.is_flagged&&{color:"secondary_2"}),{},{children:Object(s.jsx)(ie.a,{icon:n.is_flagged?mb.faFlagAlt:vb.faFlagAlt})}))]}),"bot"===n.event&&t&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_b,{}),Object(s.jsx)(Mr.a,{content:"Action and Confidence",placement:"bottom",children:Object(s.jsxs)(kb,{children:[t,r&&Object(s.jsxs)("span",{style:{marginLeft:"4px"},children:["(",r.toFixed(2),")"]})]})})]})]})]})]})}function Rb(e){var t=e.conversation,n=void 0===t?[]:t,r=e.conversationId,o=e.editable,c=e.entityTypes,i=e.correction,l=e.onChangeCorrection,u=e.onClose,d=e.onCopy,b=e.onFlagMessage,f=e.onFetchExample,p=e.onSaveCorrection,j=e.onSaveStory,h=e.intents,O=e.storyName,x=e.timestamp,g=e.synonyms,v=e.onSaveE2ETest,y=e.saveE2ETestLoading,C=e.activeGitRepository,S=a.useMemo((function(){return n.findIndex((function(e){return e.timestamp===x}))}),[n,x]),w=a.useMemo((function(){return n[S]}),[n,S]),E=Object(m.d)((function(e){return e.examples.draftExampleExists})),k=Object(_e.a)(null===w||void 0===w?void 0:w.timestamp);a.useEffect((function(){"user"===(null===w||void 0===w?void 0:w.event)&&(null===w||void 0===w?void 0:w.timestamp)!==k&&f(w.text)}),[w,k,f]);var T=["user","bot"].includes(null===w||void 0===w?void 0:w.event)?w:null,F=a.useMemo((function(){for(var e=S-1;e>=1&&"bot"===n[e].event;)e--;return e>=0&&"action"===n[e].event?n[e]:null}),[S,n]),R=a.useMemo((function(){return"user"===(null===w||void 0===w?void 0:w.event)&&(null===w||void 0===w?void 0:w.parse_data)?w.parse_data.intent.confidence:"bot"===(null===w||void 0===w?void 0:w.event)&&null!==(e=null===F||void 0===F?void 0:F.confidence)&&void 0!==e?e:null;var e}),[w,F]),D=a.useMemo((function(){var e,t;return"user"===(null===w||void 0===w?void 0:w.event)&&null!==(e=null===(t=w.parse_data)||void 0===t?void 0:t.intent_ranking)&&void 0!==e?e:[]}),[w]),I=a.useMemo((function(){return F?F.name:null}),[F]),L=a.useMemo((function(){return function(e,t){var n=void 0!==t?e.findIndex((function(e){return e.timestamp===t})):-1,r=n<0?e.length-1:n,a=Object(A.a)(e).reverse(),o=e.length-r,c=a.slice(o).findIndex((function(e){return"session_started"===e.event||"restart"===e.event})),i=c>=0?c+o:e.length,s=e.length-i;return e.slice(s,r+1)}(n,x)}),[n,x]),N=a.useCallback((function(e,t){return l(Object(_.a)(Object(_.a)({},i),{},{entities:t}))}),[i,l]),U=a.useMemo((function(){return T&&function(e){var t,n;if("user"===e.event&&(null===(t=e.parse_data)||void 0===t?void 0:t.response_selector)){var r=e.parse_data.intent.name,a=e.parse_data.response_selector,o=Object.keys(a)[0],c=a&&o&&a[o].full_retrieval_intent;return c&&c.length>0&&c.split("/")[0]===r?c:r}return"user"===e.event&&(null===(n=e.parse_data)||void 0===n?void 0:n.intent.name)?e.parse_data.intent.name:null}(T)}),[T]),M=T&&"user"===T.event?{intent:U,entities:[],text:T.text}:null;return Object(s.jsxs)(H.Flex,{"data-qa":"conversation-inspector_div",flexDirection:"column",children:[Object(s.jsx)(B.a,{fontSize:5,variant:"plainIcon",onClick:u,p:3,style:{alignSelf:"flex-end",position:"absolute"},children:Object(s.jsx)(ie.a,{icon:ce.faTimes})}),T&&Object(s.jsx)(Fb,{message:T,onChangeCorrection:l,onFlagMessage:b,entityTypes:c,correction:i||M,synonyms:g,confidence:R,action:I,originalIntent:U}),Object(s.jsxs)(ob,{children:["user"===(null===T||void 0===T?void 0:T.event)&&Object(s.jsx)(ub,{title:E?"This message already exists as training data":"Create training data",expanded:!0,children:Object(s.jsx)(H.Box,{children:Object(s.jsx)(gb,{onChange:N,onFetchExample:f,entityTypes:c,onChangeCorrection:l,onSaveCorrection:p,correction:i||M,conversationId:r,message:T,intents:h,rankedIntents:D,entities:i?i.entities:[],synonyms:g,originalIntent:U})})}),Object(s.jsx)(hb,{activeGitRepository:C,saveE2ETestLoading:y,onSaveE2ETest:v,onSaveStory:j,editable:o,onCopy:d,storyName:O,conversation:L})]})]})}var Db=n(1167),Ib=["DD/MM/YYYY","D/M/YYYY"];function Lb(e){var t=e.currentDateFilter,n=e.onChange,r=me().addToast,o=Object(Ci.g)(t,Ib[0]);"Custom"===o.label?o.label="".concat(o.from," - ").concat(o.to):(o.from="",o.to="");var c=a.useState(o.label),i=Object(F.a)(c,2),u=i[0],d=i[1],b=a.useState(o.from||""),f=Object(F.a)(b,2),p=f[0],j=f[1],h=a.useState(o.to||""),O=Object(F.a)(h,2),x=O[0],g=O[1],v=a.useState(!1),m=Object(F.a)(v,2),y=m[0],C=m[1],S=a.useContext(l.ThemeContext),w=a.useMemo((function(){return Ci.e.map((function(e){return{label:e.label,action:function(){d(e.label),n({from:e.from,to:e.to||null})}}}))}),[n]),E=function(e){var t=Yo()(p,Ib,!0),a=Yo()(x,Ib,!0);t.isValid()&&a.isValid()?(d("".concat(p," - ").concat(x)),e(),n({from:Object(Ci.b)(t),to:Object(Ci.b)(a)||null})):r({head:"Invalid date format",variant:"error",content:'"from" and "to" dates are required and in format dd/mm/yyyy'})},k={label:"",customLabel:function(e){return Object(s.jsx)(go.a,{text:"Custom",px:4,pt:3,mb:4,sx:{borderTop:"1px solid;",borderColor:"neutral_1"},children:Object(s.jsxs)(H.Flex,{alignItems:"center",children:[Object(s.jsx)(Pr.a,{width:"140px",placeholder:"dd/mm/yyyy",value:p,onChangeValue:function(e){return j(e)},onReturn:function(){return E(e)},maxLength:10}),Object(s.jsx)(ie.a,{icon:Pi.faMinus,ml:2,mr:2,style:{width:"4px",color:"neutral_8"}}),Object(s.jsx)(Pr.a,{width:"140px",placeholder:"dd/mm/yyyy",value:x,onChangeValue:function(e){return g(e)},onReturn:function(){return E(e)},maxLength:10})]})})}};return Object(s.jsx)(Os,{options:[].concat(Object(A.a)(w),[k]),clearDateRangeInputs:function(){j(""),g("")},onClose:function(){return C(!1)},visible:y,children:Object(s.jsx)(B.a,{variant:"headerIcon",onClick:function(){return C(!y)},children:Object(s.jsxs)(H.Box,{sx:{width:"245px",textAlign:"left"},children:[Object(s.jsx)(ie.a,{icon:Db.faCalendarAlt}),Object(s.jsx)("span",{style:{margin:"0 auto 0 8px",color:Object(se.get)(S,"colours.neutral_8"),fontSize:Object(se.get)(S,"fontSizes.3")},children:u}),Object(s.jsx)(ie.a,{icon:Po.faChevronDown,pull:"right",color:"neutral_7",fontSize:"12px",pt:"2px"})]})})})}var Nb=Li.c.filter,Bb=function(e){var t="min"===e.operator?"\u2265":"\u2264";return"".concat(t," ").concat(e.value)},Ub={channels:{label:"Channels",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return Li.a[e]||e})).join(", ")}},intents:{label:"Intents",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},entities:{label:"Entities",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},actions:{label:"Actions",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},policies:{label:"Policy",test:function(e){return e.length>0},transformContent:function(e){return e[0]}},reviewStatus:{label:"Status",test:function(e){return e&&e.length>0},transformContent:function(e){var t;return null===(t=Li.b.find((function(t){return t.status===e})))||void 0===t?void 0:t.label}},slots:{label:"Slots",test:function(e){return e.length>0},transformContent:function(e){var t={};e.forEach((function(e){Ki(e).forEach((function(e){var n=e.name,r=e.value;n in t?t[n].push(r):t[n]=[r]}))}));for(var n="",r=0,a=Object.entries(t);r<a.length;r++){var o=Object(F.a)(a[r],2),c=o[0],i=o[1];n=n+(n.length>0?" | ":"")+"".concat(c,": ").concat(i)}return n}},tags:{label:"Tags",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return e.value})).join(", ")}},nluConfidence:{label:"NLU Confidence",test:function(e){return null!==e},transformContent:function(e){return Bb(e)}},coreConfidence:{label:"Core Confidence",test:function(e){return null!==e},transformContent:function(e){return Bb(e)}},minimumMessages:{label:"Minimum user messages",test:function(e){return null!==e},transformContent:function(e){return e}},flaggedOnly:{label:"Flagged only",test:function(e){return e},transformContent:function(e){return null}},storiesNotRecognised:{label:"Stories not in training data",test:function(e){return e},transformContent:function(e){return null}}},Mb=a.memo((function(e){var t=e.filter,n=e.onChange,r=Object.keys(Ub).filter((function(e){return Ub[e].test(t[e])}));return 0===r.length?Object(s.jsx)(Y.a,{variant:"captionPrimary",sx:{fontStyle:"italic",marginLeft:"8px"},children:"No filters applied"}):Object(s.jsx)(H.Flex,{children:r.map((function(e){return Object(s.jsx)(H.Box,{ml:2,sx:{flexShrink:0,"&:last-child":{paddingRight:6}},children:Object(s.jsx)(is.a,{label:Ub[e].label,content:Ub[e].transformContent(t[e]),active:!0,onChange:function(){return n(Object(_.a)(Object(_.a)({},t),{},{[e]:Nb[e]}))}})},e)}))})})),Pb=n(1168),qb=n.n(Pb),Hb=a.memo((function(e){var t=e.active,n=e.client,r=e.timestamp,a=e.channel,o=e.onSelect,c=e.flagged,i=(e.ref,e.tags),l=Object(V.a)(e,["active","client","timestamp","channel","onSelect","flagged","ref","tags"]),u=Object(R.k)();return Object(s.jsxs)(H.Flex,Object(_.a)(Object(_.a)({sx:{overflow:"hidden",cursor:"pointer",height:"72px",transition:"background-color ease 0.2s","&:hover":{bg:"neutral_1"}},px:4,py:3,onClick:function(){u("entity:conversation:selected"),o(n)},bg:t?"neutral_1":"neutral_0",alignItems:"center"},l),{},{children:[Object(s.jsx)(H.Box,{mr:3,children:Object(s.jsx)(gu,{variant:"large",bg:"neutral_3",children:Object(s.jsx)(ie.a,{icon:Gn.faUser})})}),Object(s.jsxs)(Sb,{children:[Object(s.jsx)(z.a,{variant:"h5",color:"neutral_8",children:"number"===typeof r?Yo.a.unix(r).format("h:mm a, D MMM YYYY"):"No timestamp"}),a&&Object(s.jsx)(Y.a,{color:"dark_grey_temp",variant:"captionPrimary",lineHeight:"normal",children:a})]}),Object(s.jsx)(H.Box,{flex:"1"}),i.length>0&&Object(s.jsx)(H.Flex,{flexDirection:"row-reverse",children:i.map((function(e){return Object(s.jsx)(Ji,{color:"#".concat(e.color),title:e.value,mr:"-4px"},e.id)}))}),c&&Object(s.jsx)(H.Flex,{flex:"0 1 24px",fontSize:"8px",color:"secondary_2",alignItems:"center",justifyContent:"center",children:Object(s.jsx)(ie.a,{icon:mb.faFlagAlt})})]}))}));function Gb(e){e.ref;var t=Object(V.a)(e,["ref"]);return Object(s.jsxs)(H.Flex,Object(_.a)(Object(_.a)({px:4,py:3,alignItems:"center",sx:{overflow:"hidden",cursor:"pointer",height:"72px",transition:"background-color ease 0.2s","&:hover":{bg:"neutral_1"}}},t),{},{children:[Object(s.jsx)(H.Box,{mr:3,children:Object(s.jsx)(gu,{variant:"large",bg:"neutral_3",children:Object(s.jsx)(ie.a,{icon:Gn.faUser})})}),Object(s.jsxs)(Sb,{children:[Object(s.jsx)(z.a,{variant:"h5",color:"neutral_3",loading:!0,children:"\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588"}),Object(s.jsx)(Y.a,{color:"neutral_3",variant:"captionPrimary",lineHeight:"normal",loading:!0,children:"\u2588\u2588\u2588\u2588\u2588"})]})]}))}var Vb=a.memo((function(e){var t=e.conversations,n=e.conversationId,r=e.loading,o=e.onSelectConversation,c=e.onLoadMoreRows,i=e.filter,l=e.total,u=Object(m.c)(),d=Object(m.d)((function(e){return e.projects.tags}));a.useEffect((function(){u(Is.e.request())}),[u]);var b=a.useCallback(function(){var e=Object(Jr.a)(Zr.a.mark((function e(t){var n,a;return Zr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.startIndex,a=t.stopIndex,c&&!r){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",c({filter:i,offset:n,limit:a-n+1}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,c,r]),f=a.useCallback((function(e){var r=e.key,a=e.index,c=e.style,i=t[a];if(!i)return Object(s.jsx)(Gb,{style:c},r);var l=i.tags.map((function(e){return d.find((function(t){return t.id===e}))})).filter((function(e){return void 0!==e}));return Object(s.jsx)(Hb,{style:c,active:n===i.sender_id,client:i.sender_id,timestamp:i.latest_event_time,channel:i.latest_input_channel,onSelect:o,flagged:i.has_flagged_messages,tags:l,"data-qa":"conversation-list-item_div"},r)}),[t,n,o,d]),p=Object.keys(t).length,j=a.useMemo((function(){return p<l&&!(0===l)?p:l}),[p,l]);return Object(s.jsxs)(s.Fragment,{children:[r&&qb()(t)&&Object(s.jsx)(cc.a,{mt:20,children:"Loading conversations"}),Object(s.jsx)(Br.a,{children:function(e){return Object(s.jsx)(Br.c,{isRowLoaded:function(e){var n=e.index;return void 0!==t[n]},loadMoreRows:b,rowCount:l,children:function(t){var n=t.onRowsRendered,r=t.registerChild;return Object(s.jsx)(Br.d,{ref:r,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:j,rowHeight:72,rowRenderer:f})}})}})]})})),zb=n(1169);function Yb(e){var t=e.children,n=e.offset,r=e.placement,o=e.currentUser,c=L(),i=c.hintsEnabled,l=c.allHints,u=c.nextHints,d=c.setHintsEnabled,b=c.updateCurrentHint,f=a.useMemo((function(){return o.data&&o.data.viewed_hints&&0!==o.data.viewed_hints.length?"View ".concat(u.length," remaining hints to make the most of this screen."):"Learn how to make most of this screen in ".concat(l.length," small steps!")}),[o,l,u]);return Object(s.jsx)(W.a,{offset:n,placement:r,disabled:i,boxShadow:"-3px 5px 13px 0 rgba(43, 58, 172, 0.29)",bg:"primary_2",appendTo:document.body,arrow:!1,borderRadius:"large",interactive:!0,content:Object(s.jsxs)(H.Flex,{sx:{width:"max-content"},p:3,alignItems:"center",children:[Object(s.jsx)(ie.a,{icon:zb.faLightbulbOn,fontSize:"20px",mx:"12px"}),Object(s.jsx)(Y.a,{color:"neutral_0",mr:8,children:f}),Object(s.jsx)(B.a,{variant:"inverse",large:!0,onClick:function(){b(!1),d(!0)},children:"Show me"})]}),children:t})}function Wb(e){var t=e.onClick,n=e.isUser;return Object(s.jsxs)(B.a,{variant:"smallLink",onClick:t,children:["Correct ",n?"intent":"action"]})}function Kb(e){var t=e.event,n=e.onUndoMessage,r=t.timestamp,o=t.event,c=a.useMemo((function(){return"confidence"in t?t.confidence:"user"===t.event&&t.parse_data?t.parse_data.intent.confidence:null}),[t]),i=Object(Li.f)(t),l="user"===o,u=a.useMemo((function(){return"action"===o||l?"".concat((e=l?"intent":o,e.charAt(0).toUpperCase()+e.slice(1))).concat(null===c?"":" and confidence"):null;var e}),[l,c,o]),d=Object(p.b)(u,{placement:l?"bottom-end":"bottom-start"});return"bot"===o||"user"===t.event&&t.isOptimistic?null:Object(s.jsxs)(Nr.Flex,{flexDirection:l?"row-reverse":"row",mt:2,mr:7,children:[Object(s.jsx)(H.Box,{children:Object(s.jsx)(kb,{ref:d,confidence:c,children:i})}),n&&r&&Object(s.jsx)(Nr.Box,{alwaysVisible:!1,alignSelf:"center",px:2,children:Object(s.jsx)(H.Flex,{children:Object(s.jsx)(Wb,{onClick:function(){return n(r)},isUser:l})})})]})}var Qb=n(572);function Xb(e){var t=e.event,n=e.selected,r=Object(p.b)(n?"Annotating message: You are viewing details about this message on the right.":"Incorrect intent? Annotate this message");return"user"!==t.event?null:Object(s.jsx)(Nr.Box,{alignSelf:"center",alwaysVisible:n,children:Object(s.jsx)(B.a,Object(_.a)(Object(_.a)({variant:"plainIcon",onClick:function(e){},ref:r},n&&{color:"neutral_7"}),{},{children:Object(s.jsx)(ie.a,{icon:Qb.faHighlighter,fontSize:3})}))})}function $b(e){var t=e.event,n=e.onFlagMessage,r=t.timestamp,a=t.is_flagged,o=Object(p.b)("Something went wrong? Flag this message to find it easily later");return Object(s.jsx)(Nr.Box,{alwaysVisible:a,alignSelf:"center",children:Object(s.jsx)(B.a,Object(_.a)(Object(_.a)({variant:"plainIcon",onClick:function(e){e.stopPropagation(),n(r,!a)},ref:o},a&&{color:"secondary_2"}),{},{children:Object(s.jsx)(ie.a,{icon:mb.faFlagAlt})}))})}function Zb(e){var t=e.filtersApplied,n=e.filtersExpanded,r=e.setFiltersExpanded,a=e.canHintBeShown,o=Object(R.k)();return Object(s.jsx)(qc.a,{resource:Te.d.Metadata,action:Te.a.Read,yes:Object(s.jsx)(Kd,{title:"Filter Conversations",content:"Filter through real conversations to find the ones that may need improvement.",docs:"https://rasa.com/docs/rasa-x/user-guide/review-conversations/#filtering-conversations",step:"filterConversations",nextStep:"shareYourBot",canBeShown:a,children:Object(s.jsx)(Io.a,{right:!0,children:Object(s.jsx)(B.a,{variant:"barIcon",color:t||n?void 0:"neutral_6",active:n,onClick:function(){o(n?"view:conversations:filters:hide":"view:conversations:filters:show"),r(!n)},children:Object(s.jsx)(ie.a,{icon:gi.faSlidersH})})})})})}function Jb(e){var t=e.restartPolling;return Object(s.jsxs)(kc,{variant:"error",children:[Object(s.jsx)(Y.a,{variant:"metadata",lineHeight:"initial",inheritColor:!0,children:"There was an error loading messages and polling has been stopped."}),Object(s.jsx)(B.a,{onClick:t,variant:"plain",children:"Restart polling"})]})}function ef(e){var t=e.awaitingResponse,n=e.chatToken,r=e.conversationEvents,o=e.conversationId,c=e.conversations,i=e.correction,l=e.currentUser,u=e.entityTypes,d=e.environment,b=e.environments,f=e.error,p=e.filter,j=e.filterBarIsEmpty,O=e.filterIsEmpty,x=e.intents,g=e.onFetchEnvironments,v=e.onChangeCorrection,C=e.onCreateConversation,S=e.onFetchConversationIntents,w=e.onFetchConversations,E=e.onFetchConversationSlotNames,k=e.onFetchExample,T=e.onFetchIntents,A=e.onFetchEntities,D=e.onFetchActions,I=e.onFetchPolicies,U=e.onFetchChannels,M=e.onFetchEntityTypes,P=e.onFlagMessage,q=e.onFetchChatToken,G=e.onLoadMoreConversations,V=e.onSaveExampleFromCorrection,z=e.onSaveStory,Y=e.onStartPolling,W=e.onStopPolling,K=e.onUnflagMessage,Q=e.timestamp,X=e.totalConversations,$=(e.conversationsFetched,e.username,e.synonyms),Z=e.onSaveE2ETest,J=e.saveE2ETestLoading,ee=e.activeGitRepository;a.useEffect((function(){g(),T(),S(),E(),A(),D(),I(),U(),M(),w({filter:p,offset:0,limit:20})}),[p,D,g,w,A,M,T,S,E,I,U]);var ne=Object(m.c)(),re=Object(y.h)().push,ae=L(),oe=ae.hintsEnabled,ce=ae.setInitialHint,se=ae.setCurrentHint,le=ae.nextHints,ue=Object(R.k)(),de=te(),be=de.setOnboardingShown,fe=de.currentOnboardingStep,pe=de.currentOnboardingHint;a.useEffect((function(){ue("view:conversations:loaded")}),[ue]);var je=a.useState(!1),he=Object(F.a)(je,2),Oe=he[0],xe=he[1],ge=a.useState(!1),ve=Object(F.a)(ge,2),me=ve[0],ye=ve[1],Ce=Object.values(c)[0],Se=o||(null===Ce||void 0===Ce?void 0:Ce.sender_id)||null,we=Se?r[Se]:void 0;a.useEffect((function(){Se&&ne(Hc.o.request(Object(_.a)({conversationId:Se},Q&&{until:Q})))}),[Se,ne,Q]);var ke=a.useMemo((function(){return Object.values(c)}),[c]),Ae=Object(m.d)((function(e){return e.messages.loading.conversations})),_e=Object(m.d)((function(e){return e.messages.loading.conversation})),Fe=a.useMemo((function(){return ke.find((function(e){return e.sender_id===Se}))}),[Se,ke]),Re=Q?"Story from conversation with ".concat(Se," on ").concat(Yo()(1e3*Q).format("MMMM Do YYYY")):"",De=a.useCallback((function(){if(Se){var e=ke.findIndex((function(e){return e.sender_id===Se})),t=e>0&&c[e-1].sender_id||c[1]&&c[1].sender_id||"";ne(Hc.c.request({conversationId:Se})),re("/conversations/".concat(t))}}),[Se,c,ne,re,ke]);a.useEffect((function(){var e="connectToChannels";return ce(e),se(e),Se?(v(null),Y({conversationId:Se}),function(){return W()}):function(){}}),[Se,v,Y,W,se,ce]);var Ie=a.useCallback((function(e){var t=Q===e.timestamp?"/conversations/".concat(Se):"/conversations/".concat(Se,"/").concat(e.timestamp);ue("entity:event:selected"),re(t)}),[re,Se,ue,Q]),Le=a.useCallback((function(){re("/conversations/".concat(Se))}),[re,Se]),Ne=a.useCallback((function(e){re("/conversations/".concat(e))}),[re]),Be=a.useCallback((function(e,t){if(Se){var n={conversationId:Se,timestamp:e};t?(ue("entity:event:flagged"),P(n)):(ue("entity:event:unflagged"),K(n))}}),[P,K,Se,ue]),Ue=a.useCallback((function(){ue("actions:share-bot:show"),ye(!0)}),[ye,ue]),Me=a.useCallback((function(e){var t={use_channels:e.channels.length>0,use_intents:e.intents.length>0,use_entities:e.entities.length>0,use_actions:e.actions.length>0,use_policies:e.policies.length>0,use_slots:e.slots.length>0,use_tags:e.tags.length>0,core_confidence:e.coreConfidence,nlu_confidence:e.nluConfidence,minimum_messages:e.minimumMessages,flagged_only:e.flaggedOnly,stories_not_recognised:e.flaggedOnly,review_status:e.reviewStatus};ue("view:conversations:filters:apply",t),w({filter:e,offset:0,limit:20}),xe(!1)}),[w,ue]),Pe=a.useCallback((function(e){ue("view:conversation:filters:apply:date"),Me(Object(_.a)(Object(_.a)({},p),{},{date:e}))}),[Me,p,ue]),Ge=Object(s.jsxs)(H.Flex,{justifyContent:"flex-end",children:[!(0===X&&O&&!Ae)&&Object(s.jsx)(qc.a,{resource:Te.d.Metadata,action:Te.a.Read,yes:Object(s.jsx)(Io.a,{left:!0,children:Object(s.jsx)(Lb,{currentDateFilter:p.date,onChange:Pe})})}),Object(s.jsx)(qc.a,{resource:Te.d.ChatToken,action:Te.a.Update,yes:Object(s.jsx)(Io.a,{left:!0,children:Object(s.jsx)(ei,{title:"Get your assistant talking to real people",content:"Generate a link to invite test users to talk to your assistant.",links:[{title:"Learn more about sharing your assistant with test users",href:"//rasa.com/docs/rasa-x/user-guide/share-assistant"}],actions:Object(s.jsx)(B.a,{variant:"inverse",onClick:function(){be(!1),ye(!0)},children:"Let's do it"}),name:"share_bot",children:Object(s.jsx)(Kd,{title:"Share your bot",content:"Improve your assistant by getting someone else to test it.",docs:"https://rasa.com/docs/rasa-x/user-guide/share-assistant",step:"shareYourBot",canBeShown:!0,children:Object(s.jsx)(Kc,{environment:d,environments:b,onClose:function(){return ye(!1)},onFetchChatToken:q,chatToken:n,offset:[0,0],visible:me,children:Object(s.jsx)(B.a,{variant:"headerIcon",active:me||"share_bot"===pe,style:{position:"relative"},onClick:function(){me?ye(!1):(fe===N.a["MESSAGES::MESSAGE_SENT"]&&be(!1),Oe&&xe(!1),ye(!0))},children:Object(s.jsx)(ie.a,{icon:Pc.faShareAlt})})})})})})}),Object(s.jsx)(Kd,{title:"Connect your assistant to an external channel",content:"Connect your assistant and let it talk to real users.",docs:"https://rasa.com/docs/rasa-x/user-guide/share-assistant/#external-channels",step:"connectToChannels",nextStep:"annotateConversations",canBeShown:!0,children:Object(s.jsx)(Kd,{title:"Annotate Conversations",content:"Label entities and correct incorrectly predicted intents to improve your assitant.",docs:"https://rasa.com/docs/rasa-x/user-guide/annotate-nlu-examples/#annotating-in-conversations",step:"annotateConversations",nextStep:"filterConversations",canBeShown:!0,children:l&&le.length>0&&Object(s.jsx)(Io.a,{left:!0,sx:{display:"inline-block",position:"relative"},children:Object(s.jsx)(Yb,{offset:[8,8],placement:"bottom-end",currentUser:l,children:Object(s.jsxs)(B.a,{color:oe?"primary_1":void 0,variant:"headerIcon",onClick:function(){return console.log("You'd think clicking this button would do something")},children:[Object(s.jsx)(Zu,{show:!oe,top:"24px",right:"26px"}),Object(s.jsx)(ie.a,{icon:lu.faLightbulb})]})})})})})]}),Ve=a.useCallback((function(){ue("view:conversations:filters:hide"),xe(!1)}),[xe,ue]),ze=Object(s.jsx)(qc.a,{resource:Te.d.Metadata,action:Te.a.Read,yes:Object(s.jsx)(H.Box,{flex:"0 1",children:Object(s.jsx)(al,{children:Object(s.jsx)(cs,{filter:p,expanded:Oe,offset:[4,4],onApply:function(e){"Conversation"===e.type&&Me(e),Oe&&xe(!Oe)},onCancel:Ve})})})}),Ye=Object(s.jsx)(qc.a,{resource:Te.d.Metadata,action:Te.a.Read,yes:Object(s.jsx)(Io.a,{width:1/4,right:!0,sx:{maxHeight:"100%",maxWidth:"304px"},children:Object(s.jsx)(al,{children:Object(s.jsx)(Vb,{total:X,conversations:c,conversationId:Se,onSelectConversation:Ne,filter:p,onLoadMoreRows:G,loading:Ae})})})}),We=!Ae&&!O&&0===ke.length,Ke=!We&&X>0,Qe=j?"Please try a different date range":"Please try a different set of filters for better results",Xe=Object(s.jsx)(Io.a,{top:!0,sx:{height:"100%",overflow:"hidden"},children:Object(s.jsxs)(H.Flex,{flexDirection:"column",sx:{bg:"neutral_0",height:"100%",overflow:"hidden"},children:[Object(s.jsx)(Io.a,{bottom:!0,sx:{zIndex:100,bg:"neutral_1"},children:Object(s.jsxs)(H.Flex,{alignItems:"center",flex:"1",height:"100%",children:[Object(s.jsx)(Zb,{filtersApplied:!j,filtersExpanded:Oe,setFiltersExpanded:xe,canHintBeShown:X>0}),Object(s.jsx)(H.Box,{flex:"1",pl:16,sx:{overflow:"auto","&::-webkit-scrollbar":{height:"0px",padding:0}},children:Object(s.jsx)(Mb,{filter:p,onChange:Me})}),j||Object(s.jsxs)(H.Flex,{height:"100%",sx:{position:"relative",alignItems:"center"},children:[Object(s.jsx)(H.Box,{height:"100%",sx:{left:"-70px",borderWidth:0,borderLeft:"70px solid",position:"absolute",borderImage:"linear-gradient(to right, transparent, ".concat(h.b.colors.neutral_1," 83%, ").concat(h.b.colors.neutral_1,") 0 100%")}}),Object(s.jsx)(H.Box,{px:24,children:Object(s.jsx)(B.a,{variant:"plain",color:"primary_1",onClick:function(){ue("view:conversations:filters:reset"),Me(Object(_.a)(Object(_.a)({},Li.e),{},{date:p.date}))},children:"Clear filters"})})]})]})}),ze,Object(s.jsxs)(H.Flex,{sx:{height:"100%",overflow:"auto"},justifyContent:"center",children:[We&&Object(s.jsx)(qe,{heading:"There is nothing here",body:Qe,image:He}),Ke&&Object(s.jsxs)(s.Fragment,{children:[Ye,Object(s.jsxs)(H.Flex,{flex:"1 1",children:[Object(s.jsx)(Io.a,{right:!0,flex:"1 0",width:.6,children:Object(s.jsxs)(al,{children:[f&&Se&&Object(s.jsx)(Jb,{restartPolling:function(){return Y({conversationId:Se,environment:d})}}),!we&&_e&&Object(s.jsx)(cc.a,{mt:20,children:"Loading messages"}),Se&&we&&Object(s.jsx)("div",{style:f?{height:"calc(100% - 72px)"}:{height:"100%"},children:Object(s.jsx)(hr,{truncateText:!0,awaitingResponse:t,username:Se,conversation:we,renderMessageDecoration:function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Xb,Object(_.a)({},e)),Object(s.jsx)($b,Object(_.a)({onFlagMessage:Be},e))]})},renderAction:Kb,onMessageClick:Ie,timestamp:Q})})]})}),Object(s.jsx)(H.Box,{width:.4,style:{maxWidth:"400px",minWidth:"332px",overflow:"auto"},children:Object(s.jsxs)(al,{children:[0===Q&&Se&&we&&Object(s.jsx)(rb,{conversation:Fe,conversationId:Se,onConversationDelete:De,onUpdatedReviewStatus:function(){w({filter:p,offset:0,limit:20}),p.reviewStatus&&re("/conversations/")}}),0!==Q&&we&&Se&&Object(s.jsx)(Rb,{activeGitRepository:ee,saveE2ETestLoading:J,onSaveE2ETest:Z,entityTypes:u,editable:!1,onChangeCorrection:v,onClose:Le,timestamp:Q,conversation:we,onCopy:function(){ue("entity:story:copied-to-il"),C({data:{conversation_id_to_copy_from:Se,interactive:!0,until:Q},storyName:Re})},storyName:Re,conversationId:Se,onFlagMessage:Be,onFetchExample:k,intents:x,correction:i,onSaveCorrection:V,onSaveStory:z,synonyms:$})]})})]})]})]})]})});return Object(s.jsxs)(Ee.a,{title:"Conversations (".concat(X,")"),rightContent:Ge,noPadding:!0,children:[0===X&&O&&!Ae&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(qe,{heading:"No conversations yet!",body:"When users talk to your assistant, their conversations will show up here.",image:zl,actions:Object(s.jsx)(qc.a,{resource:Te.d.ChatToken,action:Te.a.Update,yes:Object(s.jsx)(B.a,{"data-e2e":"Button--Share-First-Use",disabled:me,onClick:Ue,large:!0,children:"Share your bot"})})})}),Xe]})}var tf=n(38),nf=Object(Uo.a)((function(e){return e.filter}),(function(e){return mi()(e,Li.c.filter)})),rf={filterBarIsEmpty:Object(Uo.a)((function(e){return e.filter}),(function(e){return mi()(Object(_.a)(Object(_.a)({},e),{},{date:Li.c.filter.date}),Li.c.filter)})),filterIsEmpty:nf},af=n(41),of={onChangeCorrection:yi.a,onChangeEnvironment:Hc.a,onChangeFilter:Hc.b,onCreateConversation:tf.h.request,onFetchActions:Hc.h.request,onFetchChatToken:Hc.f.request,onFetchConversationIntents:Hc.k.request,onFetchConversationSlotNames:Hc.m.request,onFetchConversationSlotValues:Hc.n.request,onFetchConversations:Hc.p.request,onFetchEntities:Hc.j.request,onFetchEntityTypes:yi.i.request,onFetchEnvironments:Oo.d.request,onFetchExample:yi.j.request,onFetchIntents:yi.l.request,onFetchPolicies:Hc.l.request,onFetchChannels:Hc.i.request,onFlagMessage:Hc.s.request,onSaveExampleFromCorrection:yi.n.request,onSaveStory:af.i.request,onSelectIntent:Hc.y,onStartPolling:Hc.z,onStopPolling:Hc.A,onUnflagMessage:Hc.B.request,onSaveE2ETest:Hc.v.request};var cf=Object(m.b)((function(e,t){return{awaitingResponse:e.messages.awaitingResponse,chatToken:e.messages.chatToken,conversationEvents:e.messages.conversationEvents,conversationId:t.match.params.conversationId,conversationIntents:e.messages.intents,conversations:e.messages.conversations,correction:e.examples.correction,currentUser:e.users.currentUser,draftFilter:e.messages.draftFilter,entityTypes:e.examples.entityTypes,environment:e.messages.environment,environments:e.models.environments,error:e.messages.error,filter:e.messages.filter,filterBarIsEmpty:rf.filterBarIsEmpty(e.messages),filterIsEmpty:rf.filterIsEmpty(e.messages),intents:e.examples.intents,policies:e.messages.policies,role:e.auth.role,selectedIntent:e.messages.selectedIntent,timestamp:Number(t.match.params.timestamp)||0,totalConversations:e.messages.total,conversationsFetched:e.messages.conversationsFetched,username:e.auth.username,synonyms:e.synonyms.synonyms,saveE2ETestLoading:e.messages.loading.e2eTest,activeGitRepository:e.gitRepositories.activeGitRepository}}),of)((function(e){var t=Object(R.g)(Hc.p);return Object(s.jsx)(ef,Object(_.a)(Object(_.a)({},e),{},{onLoadMoreConversations:t}))})),sf=n(113),lf=n.n(sf);function uf(e){var t=e.domain,n=e.codeErrors,r=e.loading,o=e.highlight,c=e.onClearDraft,i=e.onDelete,l=e.onSave,u=e.onCodeErrors,d=a.useState(t.content_yaml),b=Object(F.a)(d,2),f=b[0],p=b[1],j=a.useState(t.filename),h=Object(F.a)(j,2),O=h[0],x=h[1],g=a.useState(t),v=Object(F.a)(g,2),m=v[0],C=v[1],S=a.useState(!1),w=Object(F.a)(S,2),E=w[0],k=w[1];a.useEffect((function(){p(t.content_yaml),x(t.filename),k(!1),C(t)}),[t,p,x,k,C]),a.useEffect((function(){try{lf.a.load(f),n.length>0&&u([])}catch(e){if(function(e){return e instanceof sf.YAMLException}(e))n.length>0&&n.some((function(t){return t===e.mark.line}))||u(n.filter((function(t){return t!==e.mark.line})).concat([e.mark.line]))}}),[f,u,n]);var T=Object(y.h)().push,A=me().removeToast,D=a.useMemo((function(){return[{title:"responses",alert:{head:"Want to edit your responses?",content:"We recommend editing and creating responses directly from the Responses section. Editing responses is currently disabled on this page to avoid duplication of data.",key:"responsesPreventEdit",actions:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{ml:4,large:!0,variant:"inverse",onClick:function(){T("/responses"),A("responsesPreventEdit")},children:"Go to Responses"}),Object(s.jsx)(B.a,{large:!0,variant:"plain",onClick:function(){return A("responsesPreventEdit")},children:"Never mind"})]})}}]}),[T,A]),I=f!==m.content_yaml||E||!("id"in m),L=Object(R.f)(Te.d.Stories,Te.a.Delete),N=a.useCallback((function(){k(!0)}),[k]);return Object(s.jsx)(Io.a,{right:!0,sx:{overflow:"hidden"},flex:"1",children:Object(s.jsxs)(H.Flex,{style:{height:"100%"},flexDirection:"column",children:[Object(s.jsx)(Io.a,{flex:"0 0 48px",bottom:!0,children:Object(s.jsxs)(H.Flex,{style:{height:"100%"},pr:4,alignItems:"center",children:[Object(s.jsx)(z.a,{variant:"h4",children:E?Object(s.jsx)(Pr.a,{value:O,onChangeValue:x,ml:2}):Object(s.jsxs)(H.Box,{pl:3,children:[t.filename,Object(s.jsx)(B.a,{mx:1,variant:"icon",onClick:N,children:Object(s.jsx)(ie.a,{icon:Ve.faEdit})})]})}),Object(s.jsxs)(H.Flex,{flex:"1",flexDirection:"row-reverse",mr:-1,alignItems:"center",children:[L&&Object(s.jsx)(Mr.a,{content:"Delete domain file",children:Object(s.jsx)(B.a,{mx:1,variant:"icon",onClick:function(){return"id"in t&&i&&i(t)},disabled:!i||!("id"in t),children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})}),I&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Be,{mx:1,variant:"primary",onClick:function(){return l(Object(_.a)(Object(_.a)({},t),{},{content_yaml:f,filename:O}))},disabled:n.length>0||0===O.length,loading:r,children:"Save"}),Object(s.jsx)(B.a,{mx:1,variant:"secondary",onClick:function(){"id"in t?(p(t.content_yaml),x(t.filename)):c(),k(!1)},children:"Cancel"})]})]})]})}),Object(s.jsx)(H.Box,{flex:"1",style:{overflow:"auto "},children:Object(s.jsx)(Gd,{language:"yaml",value:f,highlight:o,onChange:p,readOnly:D,errors:n})})]})})}var df=n(211),bf=n.n(df);function ff(e){var t=e.location,n=e.element,r=e.value,a=e.onNavigate,o=(e.copyToDomain,e.removeFromDomain,"in_training_data"===t),c="in_domain"===t;return Object(s.jsxs)(Nr.Flex,{flexDirection:"row",mb:2,children:[Object(s.jsxs)(Y.a,{variant:"bodySecondary",lineHeight:"normal",inheritColor:!0,children:["The ",n," ",Object(s.jsx)("strong",{children:r})," was found in the"," ",o?"training data":"domain"," but is missing in the"," ",o?"domain":"training data","."]}),Object(s.jsx)(Nr.Box,{children:Object(s.jsxs)(H.Flex,{flexDirection:"row",children:[c&&"action"===n&&Object(s.jsx)(B.a,{ml:3,variant:"plain",onClick:function(){return a("/responses")},fontSize:13,children:"Create response"}),c&&["intent","entity"].includes(n)&&Object(s.jsx)(B.a,{ml:3,variant:"plain",onClick:function(){return a("/data")},fontSize:13,children:"Create NLU example"})]})})]})}var pf=a.memo((function(e){var t=e.domain,n=e.onChange,r=e.domainWarnings,o=e.onNavigate,c=e.errors,i=me().addToast,l=a.useState(!1),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useState([]),p=Object(F.a)(f,2),j=p[0],O=p[1],x=a.useMemo((function(){return r.filter((function(e){return!j.find((function(t){return t.element===e.element&&t.location===e.location&&t.value===e.value}))}))}),[r,j]),g=a.useCallback((function(){i({head:"Invalid YAML file",variant:"error",content:"It looks like something is wrong with your YAML file. Please update it and try again.",key:"InvalidYaml"})}),[i]),v=a.useCallback((function(e,r){var a=bf()(e),o=Object(_.a)({},t);Array.isArray(t[a])?o=Object(_.a)(Object(_.a)({},o),{},{[a]:o[a].filter((function(e){return e!==r}))}):t[a]instanceof Object&&delete o[a][r],n(lf.a.dump(o)),O((function(t){return[].concat(Object(A.a)(t),[{location:"in_domain",element:e,value:r}])}))}),[t,n]),m=a.useCallback((function(e,r){var a=bf()(e);n(lf.a.dump(Object(_.a)(Object(_.a)({},t),{},{[a]:[].concat(Object(A.a)(t[a]),[r])}))),O((function(t){return[].concat(Object(A.a)(t),[{location:"in_training_data",element:e,value:r}])}))}),[t,n]);return 0===x.length?null:Object(s.jsx)(kc,{m:0,block:!0,children:Object(s.jsxs)(H.Flex,{justifyContent:"start",flexDirection:"column",sx:{cursor:"default",width:"100%",maxHeight:8.5*parseFloat(h.b.lineHeights.normal)+"px"},"data-qa":"domain-warnings_div",children:[Object(s.jsxs)(Y.a,{variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,sx:{overflow:"visible"},children:[x.length," inconsistenc",x.length>1?"ies were":"y was"," detected with your domain file(s).",Object(s.jsxs)(B.a,{variant:"plain",onClick:function(){return b(!d)},ml:2,fontSize:13,children:["Show ",d?"less":"more"]})]}),d&&Object(s.jsx)(H.Flex,{as:"ul",flexDirection:"column",pl:4,mx:0,mt:3,mb:2,sx:{overflowY:"auto"},children:x.map((function(e){return Object(s.jsx)(ff,Object(_.a)(Object(_.a)({},e),{},{onNavigate:o,copyToDomain:0===c.length?m:g,removeFromDomain:0===c.length?v:g}),"".concat(e.element,"-").concat(e.location,"-").concat(e.value))}))})]})})}));function jf(e){var t=e.children;return Object(s.jsx)(H.Box,{as:"span",py:"2px",sx:{backgroundColor:"blue_3"},children:t})}function hf(e){var t=e.selected,n=e.value,r=e.highlight,a=void 0===r?"":r,o=e.onClick,c=""!==a&&n.indexOf(a),i=Number.isInteger(c)&&-1!==c,l=c,u=l+a.length;return Object(s.jsx)(H.Flex,{onClick:o,sx:{height:"48px",cursor:"pointer",position:"relative","&:after":{content:"",width:"4px",height:"48px",position:"absolute",right:"0px",transform:"scaleY(".concat(t?1:0,")"),opacity:t?1:0,transition:"transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s",bg:"primary_2"},"&:hover":{bg:"neutral_1"}},px:4,bg:t?"neutral_1":"transparent",alignItems:"center",children:i?Object(s.jsxs)(Y.a,{variant:"bodySecondary",children:[n.substring(0,l),Object(s.jsx)(jf,{children:n.substring(l,u)}),n.substring(u)]}):Object(s.jsx)(Y.a,{variant:"bodySecondary",children:n})})}function Of(e){var t=e.items,n=e.selected,r=e.highlight,a=e.onChange;return Object(s.jsx)(H.Flex,{flexDirection:"column",children:t.map((function(e){var t=e.filename;return Object(s.jsx)(hf,{selected:t===n,value:t,highlight:r,onClick:function(){return a(t)}},t)}))})}function xf(){var e=Object(E.a)(["\n  "," "," ","\n  cursor: pointer;\n  transition: all ease 0.2s;\n"]);return xf=function(){return e},e}var gf=l.default.li(xf(),se.space,ps.d,se.color);function vf(e){var t=e.options;return Object(s.jsx)("ul",{style:{listStyle:"none",paddingLeft:0,textAlign:"left"},children:t.map((function(e){var t=Object(s.jsx)(gf,{onClick:e.onClick,color:"neutral_8",children:e.label},e.label);return e.render?Object(s.jsx)("div",{children:e.render(t)},e.label):t}))})}gf.defaultProps={px:4,py:"14px",bgHover:"neutral_1"};var mf=n(357);function yf(e){var t=e.domainFiles,n=e.domainWarnings,r=e.onCreateDomainFile,o=e.onDeleteDomainFile,c=e.onSaveDomainFile,i=e.error,l=e.loading,u=e.clearError,d=Object(y.h)().push,b=a.useState([]),f=Object(F.a)(b,2),p=f[0],j=f[1],h=a.useState(t[0]||null),O=Object(F.a)(h,2),x=O[0],g=O[1],v=a.useState(!1),m=Object(F.a)(v,2),C=m[0],S=m[1],w=me().addToast;a.useEffect((function(){Object.entries(i).forEach((function(e){var t=Object(F.a)(e,2),n=t[0],r=t[1];r&&(w({head:r.name,content:r.message,variant:"error"}),u(n))}))}),[i,w,u]);var E=a.useMemo((function(){if(x){var e=new Blob([x.content_yaml],{type:"application/x-yaml"});return window.URL.createObjectURL(e)}}),[x]);a.useEffect((function(){var e=!x&&t[0]||x&&"id"in x&&t.find((function(e){return e.id===x.id}));e&&e!==x&&g(e)}),[t,x,g]);var k=Object(_e.a)(l);a.useEffect((function(){if(k&&l.saveDomainFile!==k.saveDomainFile&&!l.saveDomainFile&&!i.createDomainFile&&!i.saveDomainFile&&x){var e=t.find((function(e){return e.filename===x.filename}));g(e)}}),[k,l,t,x,g,i]);var T=a.useCallback((function(){S(!1),g({filename:"domain-".concat(t.length,".yml"),content_yaml:""})}),[t,S,g]),A=a.useCallback((function(e){"id"in e?c(e):r({domainFile:e})}),[r,c]),_=a.useCallback((function(e){o(e),e.id===t[0].id?g(t[1]):g(t[0])}),[o,t]),R=a.useCallback((function(e){var t=e.target.files&&e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&r({domainFile:{content_yaml:n.result,filename:t.name},storeResponses:!0}),S(!1)},n.readAsText(t)}}),[r]),D=a.useMemo((function(){return[{label:"Create new domain file",onClick:T},{label:"Upload domain file",render:function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(H.Box,{as:"label",htmlFor:"domain-upload-handler",children:e}),Object(s.jsx)(H.Box,{as:"input",id:"domain-upload-handler",accept:".yaml, .yml",type:"file",onChange:R,sx:{display:"none"}})]})}}]}),[T,R]),I=a.useMemo((function(){return Object(s.jsx)(qc.a,{resource:Te.d.Domain,action:Te.a.Update,yes:Object(s.jsx)(ba.a,{content:Object(s.jsx)(vf,{options:D}),offset:[0,8],visible:C,onClose:function(){return S(!1)},children:Object(s.jsx)(B.a,{variant:"headerIcon",active:C,onClick:function(){return S((function(e){return!e}))},children:Object(s.jsx)(ie.a,{icon:mo.faPlus})})})})}),[C,D]),L=a.useMemo((function(){return Object(s.jsx)(qc.a,{resource:Te.d.Domain,action:Te.a.Read,yes:Object(s.jsx)(Mr.a,{content:"Export domain",children:Object(s.jsx)(B.a,{as:"a",download:(null===x||void 0===x?void 0:x.filename)||"domain.yml",href:E,variant:"headerIcon",onClick:function(){},children:Object(s.jsx)(ie.a,{icon:Do.faArrowToBottom})})})})}),[E,x]),N=a.useMemo((function(){return[I,L]}),[I,L]),U=a.useState(""),M=Object(F.a)(U,2),P=M[0],q=M[1],G=a.useMemo((function(){return P?t.filter((function(e){return e.content_yaml.includes(P)||e.filename.includes(P)})):t}),[t,P]),V=Object(s.jsx)(Io.a,{sx:{height:"100%"},left:!0,children:Object(s.jsx)(mf.a,{style:{height:"100%"},resource:Te.d.Domain,total:t.length,searchQuery:P,onSearch:q,buttons:N})});return Object(s.jsx)(Ee.a,{title:Object(s.jsx)(H.Box,{width:251,children:"Domain"}),content:V,noPadding:!0,fixedColumns:!0,children:Object(s.jsxs)(H.Flex,{bg:"neutral_0",sx:{height:"100%",overflow:"hidden"},children:[Object(s.jsx)(Io.a,{right:!0,flex:"0 0 300px",children:0===t.length&&l.fetchDomainFiles?Object(s.jsx)(cc.a,{children:"Loading Domain"}):Object(s.jsx)(Of,{items:G,selected:null===x||void 0===x?void 0:x.filename,highlight:P||void 0,onChange:function(e){var n=t.find((function(t){return t.filename===e}));n&&g(n)}})}),Object(s.jsxs)(H.Flex,{flexDirection:"column",flex:"1",children:[x&&n.length>0&&Object(s.jsx)(pf,{onNavigate:d,onChange:function(){},domain:x,domainWarnings:n,errors:p}),x&&Object(s.jsx)(uf,{codeErrors:p,domain:x,loading:l.saveDomainFile,highlight:P||void 0,onClearDraft:function(){return g(t[0])},onCodeErrors:j,onDelete:t.length>1?_:void 0,onSave:A})]})]})})}var Cf={onCreateDomainFile:Is.b.request,onDeleteDomainFile:Is.c.request,onSaveDomainFile:Is.j.request,onFetchDomains:Is.g.request,onFetchDomain:Is.f.request,onFetchDomainWarnings:Is.h.request,clearError:Is.a};var Sf=Object(m.b)((function(e){return{domainFiles:e.projects.domainFiles,error:e.projects.error,loading:e.projects.loading,domainWarnings:e.projects.domainWarnings}}),Cf)((function(e){var t=e.onFetchDomains,n=e.onFetchDomainWarnings,r=e.domainFiles,o=Object(V.a)(e,["onFetchDomains","onFetchDomainWarnings","domainFiles"]);return a.useEffect((function(){t(),n()}),[t,n]),Object(s.jsx)(yf,Object(_.a)({domainFiles:r},o))})),wf=n(1170);var Ef=n(55),kf=n.p+"static/media/rasa_horizontal_logo.187bf9a3.svg";function Tf(){var e=Object(E.a)(["\n  @media (max-device-width: ",") {\n    border: 0;\n    box-shadow: 0 4px 11px 0 rgba(152, 163, 193, 0.17);\n    z-index: 1;\n    width: 100%;\n  }\n  @media (max-device-width: ",") {\n    border-radius: 0;\n    margin: 0;\n    padding: 16px;\n  }\n"]);return Tf=function(){return e},e}function Af(){var e=Object(E.a)(["\n  height: 100%;\n  min-height: 100%;\n  @media (max-device-width: ",") {\n    flex-direction: column;\n  }\n  @media (max-device-width: ",") {\n    padding: 0;\n    height: 100%;\n  }\n"]);return Af=function(){return e},e}var _f=Object(l.default)(H.Flex)(Af(),Object(Ef.a)("breakpoints.2"),Object(Ef.a)("breakpoints.1")),Ff=Object(l.default)(H.Card)(Tf(),Object(Ef.a)("breakpoints.2"),Object(Ef.a)("breakpoints.1"));function Rf(e){var t=e.awaitingResponse,n=e.botDescription,r=e.botName,o=e.conversationEvents,c=e.environment,i=e.onSendMessage,u=e.onStartPolling,d=e.onStopPolling,b=e.timestamp,f=e.username,p=a.useContext(l.ThemeContext),j=function(e,t){var n="string"===typeof t?t:h.b.breakpoints[t],r=Object(a.useMemo)((function(){return window.matchMedia("("+e+": "+n+")")}),[e,n]),o=Object(a.useState)(!!r.matches),c=o[0],i=o[1];return Object(a.useEffect)((function(){var e=function(){return i(!!r.matches)};return r.addEventListener("change",e),e(),function(){r.removeEventListener("change",e)}}),[r]),c}("max-device-width",1),O=a.useState(!0),x=Object(F.a)(O,2),g=x[0],v=x[1];a.useEffect((function(){return f?(u({conversationId:f,environment:c,guest:!0}),function(){return d()}):function(){}}),[f,c,u,d]);var m=a.useCallback((function(e){i({senderId:f,text:e,environment:c})}),[f,c,i]),y=a.useMemo((function(){var e;return null===(e=o[f])||void 0===e?void 0:e.filter((function(e){return["bot","user","typing"].includes(e.event)}))}),[o,f]);return Object(s.jsx)(_f,{bg:"neutral_3",alignItems:"center",justifyContent:"center",p:4,children:Object(s.jsx)(Ff,{flex:"0 1 976px",sx:{borderRadius:"large",boxShadow:"0 4px 11px 0 rgba(152, 163, 193, 0.17)",overflow:"hidden",height:"700px",["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{"&&":{height:"auto",padding:0,overflow:"unset"}}},my:3,children:Object(s.jsxs)(_f,{sx:{height:"100%"},children:[Object(s.jsx)(Ff,{bg:"neutral_0",width:400,p:6,pb:11,sx:{borderRight:"1px solid",borderColor:"neutral_4"},children:Object(s.jsxs)(H.Flex,{flexDirection:"column",sx:{height:"100%"},children:[Object(s.jsxs)(H.Flex,{justifyContent:"space-between",alignItems:"flex-start",children:[Object(s.jsx)(H.Image,{src:kf,alt:"Rasa Logo",sx:{width:"77px",["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{width:"50px"}}}),j&&!g&&Object(s.jsx)(B.a,{variant:"plainIcon",p:0,onClick:function(){v(!g)},children:Object(s.jsx)(ie.a,{icon:wf.faEllipsisV,color:"neutral_6",fontSize:"24px"})})]}),g&&Object(s.jsxs)(H.Box,{mt:[21,21,5],px:[2,2,0],children:[Object(s.jsx)(H.Box,{flex:"1"}),Object(s.jsxs)(z.a,{fontWeight:400,variant:"h1",fontSize:[0,15,20],lineHeight:[0,1.33,"28px"],letterSpacing:3,sx:{maxWidth:"240px",["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{maxWidth:"initial"}},children:["You have been invited to have a conversation with"," ",r?Object(s.jsx)("strong",{children:r}):"an AI assistant"]}),n&&Object(s.jsx)(Y.a,{lineHeight:"big",mt:[0,3,4],sx:{["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{fontSize:"13px"}},children:n})]})]})}),Object(s.jsx)(H.Flex,{bg:"neutral_0",flex:1,justifyContent:"center",flexDirection:"column",pb:[0,72,0],onTouchMove:function(){v(!1)},children:Object(s.jsx)(hr,{onChatFocus:function(){return j&&v(!1)},awaitingResponse:t,username:f,conversation:y,onSendMessage:m,timestamp:b,userAvatar:Object(s.jsx)(ie.a,{fontSize:14,icon:Gn.faUser})})})]})})})}var Df={onSendMessage:Hc.w,onStartPolling:Hc.z,onStopPolling:Hc.A,onFetchTemporaryAccessToken:mc.f.request,onFetchBotDetails:Hc.e.request,onFetchConversation:Hc.q};var If=Object(m.b)((function(e,t){return{awaitingResponse:e.messages.awaitingResponse,chatToken:t.match.params.chatToken,conversationEvents:e.messages.conversationEvents,entities:e.messages.entities,entityTypes:e.examples.entityTypes,role:e.auth.role,timestamp:Number(t.match.params.timestamp)||0,guestUsername:e.auth.guestUsername,environment:t.match.params.environment,loading:e.messages.loading,botName:e.messages.botName,botDescription:e.messages.botDescription}}),Df)((function(e){var t=e.environment,n=e.guestUsername,r=e.onFetchTemporaryAccessToken,o=e.onFetchBotDetails,c=e.onFetchConversation,i=e.chatToken,l=Object(V.a)(e,["environment","guestUsername","onFetchTemporaryAccessToken","onFetchBotDetails","onFetchConversation","chatToken"]),u=Object(m.d)((function(e){return e.auth.guestAccessToken})),d=Object(m.d)((function(e){return e.auth.guestEnvironment}));return a.useEffect((function(){u&&n&&d===t?(o(),c({conversationId:n,environment:t})):r({chatToken:i,environment:t})}),[i,r,o,c,u,n,d,t]),null===n?null:Object(s.jsx)(Rf,Object(_.a)({username:n,environment:t},l))})),Lf=n(146),Nf=Object(Uo.a)([function(e){return e.loading},function(e){return e.parsedMessage},function(e){return e.predictedActions}],(function(e,t,n){return e.parseMessage||e.confirmPrediction||e.saveEvent?Lf.a.Loading:t?Lf.a.ClassifyingIntent:n.length>0?Lf.a.ConfirmingAction:Lf.a.Ready}));function Bf(e){var t=e.onSendMessage,n=Object(m.c)(),r=Object(m.d)((function(e){return e.interactiveLearning.strictMode})),o=a.useCallback((function(e){return n(tf.d(e))}),[n]),c=a.useCallback((function(e){null!==e&&o("false"!==e)}),[o]);return Object(R.h)("strict",c),Object(s.jsx)(H.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_4"},children:Object(s.jsxs)(H.Flex,{children:[Object(s.jsx)(H.Box,{flex:"1",children:Object(s.jsx)(rn,{onSendMessage:t})}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(Mr.a,{content:r?"Switch off interactive learning mode and talk to your bot normally.":"Switch on interactive learning mode to validate every step of the conversation. Guide your bot as it classifies and responds to your messages.",children:Object(s.jsx)(B.a,{variant:"headerIcon",active:r,onClick:function(){return o(!r)},children:Object(s.jsx)(ie.a,{icon:Qb.faHighlighter})})})})]})})}function Uf(e){var t=e.conversationId,n=Object(m.c)(),r=Object(m.d)((function(e){return e.interactiveLearning.parsedMessage})),o=Object(m.d)((function(e){return e.examples.intents})),c=a.useCallback((function(e){n(tf.k.request({conversationId:t,event:{event:"user",text:e.user_input.text,parse_data:e.user_input}}))}),[n,t]),i=a.useCallback((function(e){return r&&n(Object(tf.b)(Object(_.a)(Object(_.a)({},r),{},{user_input:Object(_.a)(Object(_.a)({},r.user_input),{},{intent:e})})))}),[n,r]),l=a.useCallback((function(){return n(Object(tf.a)())}),[n]);return r?Object(s.jsxs)(H.Flex,{mt:1,flex:"0 0 72px",children:[Object(s.jsx)(Io.a,{top:!0,width:.5,children:Object(s.jsx)(H.Flex,{ml:4,style:{height:"100%"},alignItems:"center",children:Object(s.jsx)(Y.a,{variant:"bodySecondary",children:r.user_input.text})})}),Object(s.jsx)(H.Flex,{flex:"1",children:Object(s.jsx)(Ss,{autoFocus:!0,block:!0,fullHeight:!0,intent:r.user_input.intent.name,intents:o,onChange:i,onReturn:function(){return r.user_input.intent.name&&c(r)},onEscape:l,rankedIntents:r.user_input.intent_ranking,fullWidth:!0})}),Object(s.jsx)(B.a,{onClick:function(){return r.user_input.intent.name&&c(r)},active:!0,variant:"headerIcon",children:Object(s.jsx)(ie.a,{icon:ws.faCheckCircle})})]}):null}var Mf=function(){return{text:"",id:oe()()}};function Pf(e){var t=e.value,n=e.onChange,r=Object(F.a)(t,3),a=r[0],o=r[1],c=r[2],i=o.length>0?o:[Mf()];return Object(s.jsx)(H.Flex,{children:Object(s.jsxs)(H.Box,{width:504,style:{height:"374px",overflow:"auto"},children:[Object(s.jsx)(go.a,{text:"Action name",children:Object(s.jsxs)(H.Flex,{alignItems:"center",children:[Object(s.jsx)(H.Box,{sx:{maxWidth:c?0:"100px",transition:"all ease 0.1s"},children:Object(s.jsx)(Y.a,{mr:1,children:"utter_"})}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(Pr.a,{placeholder:"Response name",fullWidth:!0,value:a.name,onChangeValue:function(e){return n([Object(_.a)(Object(_.a)({},a),{},{name:e}),o,c])}})})]})}),Object(s.jsxs)(H.Flex,{mt:3,as:"label",flexDirection:"row",alignItems:"start",children:[Object(s.jsx)(ea.a,{mt:"2px",mr:2,checked:c,onChange:function(){n([a,[],!c])}}),Object(s.jsxs)(Y.a,{as:"span",variant:"bodySecondary",style:{display:"inline-flex"},children:["This is a custom action",c&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),"Your action server needs to implement this custom action."]})]})]}),!c&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ic.a,{mt:5,mb:4}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(go.a,{text:"Response Text",children:i.map((function(e,t){return Object(s.jsxs)(H.Flex,{mb:3,children:[Object(s.jsx)(Pr.a,{value:e.text,onChangeValue:function(t){return n([a,i.map((function(n){return n.id===e.id?Object(_.a)(Object(_.a)({},n),{},{text:t}):n})),!1])},placeholder:"Add response text",fullWidth:!0}),t<o.length-1?Object(s.jsx)(B.a,{variant:"icon",onClick:function(){return n([a,o.filter((function(t){return t.id!==e.id})),!1])},children:Object(s.jsx)(ie.a,{icon:ce.faTimes})}):Object(s.jsx)(B.a,{variant:"icon",onClick:function(){return n([a,[].concat(Object(A.a)(o),[Mf()]),!1])},children:Object(s.jsx)(ie.a,{icon:mo.faPlus})})]},e.id)}))})})]})]})})}function qf(e){var t=e.action,n=e.actions,r=e.onChange,o=Object(V.a)(e,["action","actions","onChange"]),c=n.map((function(e){return{label:e.action,value:e.action,data:e}})),i=t&&c.find((function(e){return e.value===t.action})),l=a.useCallback((function(e){return e&&!Array.isArray(e)&&r(e.data)}),[r]);return Object(s.jsx)(qr.a,Object(_.a)({prefix:Object(s.jsx)("b",{children:"Next Action: "}),value:i,items:c,onChange:l},o))}function Hf(e){var t=e.conversationId,n=Object(m.c)(),r=Object(m.d)((function(e){return e.interactiveLearning.predictedAction})),o=Object(m.d)((function(e){return e.interactiveLearning.predictedActions})),c=a.useCallback((function(e){return n(Object(tf.c)(e))}),[n]),i=a.useCallback((function(e){return n(tf.f.request({conversationId:t,confirmedAction:e}))}),[n,t]),l=a.useCallback((function(e){return n(tf.g.request(e))}),[n]),u=a.useState(!1),d=Object(F.a)(u,2),b=d[0],f=d[1],p=a.useState([{name:""},[],!1]),j=Object(F.a)(p,2),h=j[0],O=j[1],x=a.useCallback((function(){f(!1),O([{name:""},[],!1])}),[f,O]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(H.Flex,{style:{height:"72px"},children:[Object(s.jsx)(H.Box,{flex:"1",children:Object(s.jsx)(qf,{action:r,actions:o,autoFocus:!0,block:!0,fullWidth:!0,fullHeight:!0,closeOnCreate:!0,onChange:c,onCreate:function(){return f(!0)},onReturn:function(){return r&&i(r)}})}),Object(s.jsx)(B.a,{variant:"headerIcon",active:!0,onClick:function(){return r&&i(r)},children:Object(s.jsx)(ie.a,{icon:ws.faCheckCircle})})]}),Object(s.jsx)(oi,{open:b,onClose:x,title:"Create new action",footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{large:!0,onClick:function(){var e=Object(F.a)(h,3),n=e[0],r=e[1],a=e[2];l({action:Object(_.a)(Object(_.a)({},n),{},{name:a?n.name:"utter_".concat(n.name)}),responses:r,conversationId:t}),x()},disabled:""===h[0].name||h[2]&&h[0].name.startsWith("utter_"),children:"Create Action"}),Object(s.jsx)(B.a,{variant:"secondary",large:!0,mr:2,onClick:x,children:"Cancel"})]}),children:Object(s.jsx)(Pf,{value:h,onChange:function(e){return O(e)}})})]})}function Gf(e){var t=e.conversationId,n=e.chatState,r=e.onSendMessage;if(!t)return null;switch(n){case Lf.a.Loading:return Object(s.jsx)(H.Card,{sx:{height:"72px",borderTop:"1px solid",borderColor:"neutral_4"},children:Object(s.jsx)(cc.a,{})});case Lf.a.ClassifyingIntent:return Object(s.jsx)(Uf,{conversationId:t});case Lf.a.ConfirmingAction:return Object(s.jsx)(Hf,{conversationId:t});default:return Object(s.jsx)(Bf,{onSendMessage:r})}}function Vf(e){var t=e.awaitingResponse,n=e.conversationEvents,r=e.conversationId,o=e.environment,c=e.loading,i=e.onClearStory,l=e.onCreateConversation,u=e.onUndoConversation,d=e.onFetchEntities,b=e.onFetchIntents,f=e.onFetchModels,p=e.onParseMessage,j=e.onSaveStory,h=e.onSendMessage,O=e.onStartPolling,x=e.onStopPolling,g=e.savedStoryId,v=e.storyName,C=e.strictMode,S=e.onSaveE2ETest,w=e.saveE2ETestLoading,E=e.activeGitRepository,k=Object(R.b)(),T=me().addToast,A=Object(R.k)(),D=Object(m.c)();a.useEffect((function(){A("view:interactive:loaded")}),[A]),a.useEffect((function(){r&&D(Hc.o.request({conversationId:r}))}),[n,r,D]),a.useEffect((function(){b(),d()}),[b,d]),a.useEffect((function(){f({search:"",offset:0,limit:0,tag:"production"})}),[f]);var I=a.useState(g),L=Object(F.a)(I,2),N=L[0],U=L[1];a.useEffect((function(){!c.saveStory&&g&&g!==N&&(U(g),T({content:"Story saved",key:"storySaved"}))}),[c.saveStory,g,N,T]);var M=Object(m.d)((function(e){return Nf(e.interactiveLearning)})),P=Object(m.d)((function(e){return!Mo(e.models)})),q=Object(y.h)().push;a.useEffect((function(){null===r&&l({data:{interactive:!0}})}),[r,l]),a.useEffect((function(){return r?(O({conversationId:r,environment:o}),function(){return x()}):function(){}}),[r,o,O,x]);var G=a.useMemo((function(){return function(e){if(C)"/restart"===e?i():p(e);else{if(!r)return;h({senderId:r,text:e,environment:o})}}}),[i,p,h,C,r,o]),V=a.useMemo((function(){return r&&n[r]||[]}),[r,n]),z=a.useCallback((function(e){r&&u({createPayload:{data:{conversation_id_to_copy_from:r,interactive:!0,until:e},strictMode:C},events:V})}),[r,V,u,C]);return Object(s.jsx)(Ee.a,{title:"Talk to your bot (Interactive Learning)",noPadding:!0,children:Object(s.jsx)(H.Card,{sx:{height:"100%"},children:P?Object(s.jsx)(qe,{heading:"There are no active models",body:k?"To try out your assistant, train a model and promote it to production":"To try out your assistant, train a model and make it active",image:Gc,actions:Object(s.jsx)(B.a,{onClick:function(){return q("/models")},large:!0,children:"View models"})}):Object(s.jsxs)(H.Flex,{bg:"neutral_0",sx:{height:"100%"},flexDirection:"row",children:[Object(s.jsx)(H.Card,{width:.5,sx:{borderRight:"1px solid",borderColor:"neutral_4"},children:r&&Object(s.jsxs)(H.Flex,{flexDirection:"column",sx:{height:"100%"},children:[Object(s.jsx)(H.Box,{flex:"1",sx:{overflow:"auto"},children:Object(s.jsx)(hr,{awaitingResponse:t,truncateText:!0,username:r,conversation:V,placeholder:Object(s.jsx)(qe,{heading:"Interactive Learning",body:"Talk to your assistant and hit the strict mode button to validate every step of the conversation.",image:Ur}),renderAction:function(e){return Object(s.jsx)(Kb,Object(_.a)({onUndoMessage:z},e))},userAvatar:Object(s.jsx)(ie.a,{icon:Gn.faUser}),noInteract:!0,onSendMessage:M===Lf.a.Ready?G:void 0})}),Object(s.jsx)(Gf,{chatState:M,conversationId:r,onSendMessage:G})]})}),Object(s.jsx)(H.Box,{width:.5,sx:{overflow:"hidden"},children:Object(s.jsx)(hb,{activeGitRepository:E,saveE2ETestLoading:w,onSaveE2ETest:S,editable:!0,onClearStory:i,onSaveStory:j,storyName:v,conversation:V})})]})})})}var zf={onClearStory:tf.e,onCreateConversation:tf.h.request,onUndoConversation:tf.l,onFetchEntities:yi.i.request,onFetchIntents:yi.l.request,onFetchModels:Oo.g.request,onParseMessage:tf.j.request,onSaveStory:af.i.request,onSendMessage:Hc.x.request,onStartPolling:Hc.z,onStopPolling:Hc.A,onSaveE2ETest:Hc.v.request};var Yf=Object(m.b)((function(e){return{awaitingResponse:e.messages.awaitingResponse,conversationEvents:e.messages.conversationEvents,conversationId:e.interactiveLearning.conversationId,environment:e.interactiveLearning.environment,loading:e.interactiveLearning.loading,savedStoryId:e.interactiveLearning.savedStoryId,storyName:e.interactiveLearning.storyName,strictMode:e.interactiveLearning.strictMode,saveE2ETestLoading:e.messages.loading.e2eTest,activeGitRepository:e.gitRepositories.activeGitRepository}}),zf)((function(e){return Object(s.jsx)(Vf,Object(_.a)({},e))}));function Wf(e){var t=e.isSearch,n=e.onAddClick,r=e.addingActive;return t?Object(s.jsx)(qe,{heading:"No results found",pt:3,pb:3,image:He,body:"There are no responses or variations that match that search query. Please try again"}):Object(s.jsx)(qe,{heading:"You have no responses or response variations",imageWidth:125,pb:5,image:Ge,body:Object(s.jsxs)(H.Box,{width:128,children:["To learn more about responses and response variations,"," ",Object(s.jsx)(H.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/responses/",target:"_blank",children:"go here"}),"."," "]}),actions:Object(s.jsx)(B.a,{large:!0,disabled:r,onClick:n,children:"Create new response"})})}function Kf(e){var t=e.onClickOutside,n=e.children,r=e.shouldOmit,o=Object(V.a)(e,["onClickOutside","children","shouldOmit"]),c=a.useRef(null);return Object(ia.b)(c,t,r),Object(s.jsx)(H.Flex,Object(_.a)(Object(_.a)({ref:c},o),{},{children:n}))}function Qf(){var e=Object(E.a)(["\n            transform: scaleY(0);\n            opacity: 0;\n          "]);return Qf=function(){return e},e}function Xf(){var e=Object(E.a)(["\n            transform: scaleY(1);\n            opacity: 1;\n          "]);return Xf=function(){return e},e}function $f(){var e=Object(E.a)(["\n  "," ","\n  min-height: 64px;\n  border-bottom: 1px solid #f2f4fa;\n  cursor: pointer;\n  position: relative;\n  transition: all ease 0.2s;\n  ","\n  &:after {\n    content: '';\n    border-radius: 2px;\n    width: 4px;\n    height: 100%;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    ","\n    transition: transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s;\n  }\n"]);return $f=function(){return e},e}var Zf=Object(l.default)((function(e){return Object(s.jsx)(Nr.Flex,Object(_.a)({as:"li"},e))}))($f(),ps.a,ps.d,(function(e){return e.active&&ps.b}),(function(e){return e.active?Object(l.css)(Xf()):Object(l.css)(Qf())}));function Jf(e){var t=e.children,n=Object(V.a)(e,["children"]);return Object(s.jsx)(Zf,Object(_.a)(Object(_.a)({pl:4,pr:1,alignItems:"center",afterBg:"primary_2",bgHover:"neutral_1",bgActive:"neutral_1"},n),{},{children:t}))}function ep(){var e=Object(E.a)(["\n  ","\n  list-style: none;\n  margin: 0;\n  height: 100%;\n  overflow: auto;\n"]);return ep=function(){return e},e}var tp=Object(l.default)(H.Box)(ep(),se.width);function np(e){var t=e.data,n=e.list,r=e.dataProp,o=e.listElementRenderer,c=e.listElementCount,i=e.onEditIndexChanged,l=e.onEditListElement,u=e.disableListEditing,d=e.onTabSelected,b=void 0===d?function(){}:d,f=e.elementsHeader,p=e.groupsHeader,j=e.noRowsPlaceholder,h=e.loading,O=e.absolutePlaceholderPosition,x=e.selectedListElement,g=e.setSelectedListElement,v=e.unselectGroups,m=e.blockGroupSelection,y=e.listElementAddRenderer,C=e.onClick,S=void 0===C?function(){}:C,w=Object(V.a)(e,["data","list","dataProp","listElementRenderer","listElementCount","onEditIndexChanged","onEditListElement","disableListEditing","onTabSelected","elementsHeader","groupsHeader","noRowsPlaceholder","loading","absolutePlaceholderPosition","selectedListElement","setSelectedListElement","unselectGroups","blockGroupSelection","listElementAddRenderer","onClick"]),E=a.useState(0),k=Object(F.a)(E,2),T=k[0],A=k[1],R=a.useState(null),D=Object(F.a)(R,2),I=D[0],L=D[1],N=a.useState(null),U=Object(F.a)(N,2),M=U[0],P=U[1],G=a.useState(""),z=Object(F.a)(G,2),W=z[0],K=z[1],Q=function(){return A((function(e){return e+1}))};a.useEffect((function(){L(x)}),[x]),a.useEffect((function(){!v&&g&&g(I)}),[I,g,v]);var X=a.useMemo((function(){if(0===t.length)return[];if(!x)return t[0][r];var e=n.indexOf(x);return-1===e?[]:t[e][r]}),[t,r,n,x]);a.useEffect((function(){i&&i(M)}),[M,i]);var $=a.useMemo((function(){return n.map((function(e,t){var r=function(t){P(null),e!==t&&n.includes(t)||(l&&e!==t&&l({name:e,newName:t}),g&&x===e&&g(t))},a=M!==t,i=!v&&(I===e||!I&&0===t);return Object(s.jsx)(Jf,{pl:a?4:0,pr:a?1:0,active:i,onClick:function(){m||(L(e),b&&b(t),Q())},children:M===t?y?y({handleUpdate:r,newTabName:W,setEditIndex:P}):Object(s.jsx)(Kf,{onClickOutside:function(){return r(W)},sx:{width:"100%",height:"64px"},children:Object(s.jsx)(Pr.a,{block:!0,autoFocus:!0,fullWidth:!0,placeholder:"Enter a value",value:W,onChangeValue:K,onReturn:r,pl:23,style:{borderRadius:"0 2px 2px 0"}})}):Object(s.jsxs)(H.Flex,{flex:1,justifyContent:"space-between",alignItems:"center",children:[Object(s.jsx)(Sb,{width:.8,children:Object(s.jsx)(Y.a,{variant:"bodySecondary",as:"div","data-qa":"grouped-table-item_div",children:o(e)})}),c&&c(e)>0&&Object(s.jsxs)(H.Box,{children:[Object(s.jsx)(Nr.Box,{inverted:!0,alwaysVisible:!l||u,children:Object(s.jsx)(q,{mr:"20px",sx:{backgroundColor:I===e?"neutral_0":"neutral_1",color:"neutral_8",fontSize:1,borderRadius:"4px",fontWeight:0,width:"20px",height:"20px"},children:c(e)})}),l&&!u&&Object(s.jsx)(Nr.Box,{children:Object(s.jsx)(B.a,{variant:"plainIcon",fontSize:3,mr:"14px",onClick:function(){K(e),P(t)},children:Object(s.jsx)(ie.a,{icon:Ve.faEdit,fontSize:"16px"})})})]})]})},t)}))}),[I,o,c,W,M,u,n,l,b,m,x,g,v,y]);return Object(s.jsx)(H.Card,{bg:"neutral_0",p:0,sx:{height:"100%",overflow:"hidden",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"},children:t.length>0||!j||O?Object(s.jsxs)(H.Flex,{flexDirection:"row",sx:0===t.length&&O?{}:{height:"100%"},children:[(!t||0===t.length)&&!h&&Object(s.jsx)(H.Box,{sx:{position:"absolute",width:"100%",height:"100%"},children:j}),Object(s.jsxs)(H.Flex,{flexDirection:"column",sx:{width:"360px",borderRight:"1px solid #f2f4fa"},children:[p&&p,Object(s.jsx)(tp,{as:"ul",width:1,p:0,children:$})]}),t.length>0&&Object(s.jsxs)(H.Flex,{flexDirection:"column",flex:1,onClick:S,sx:Object(_.a)({opacity:1,transition:"opacity ease .2s"},v&&{opacity:0,pointerEvents:"none"}),children:[f&&f,Object(s.jsx)(yo.a,{variant:"flattened",highlight:-1,total:Object.keys(X).length,rows:X,children:w.children(Q),setHighlightedRow:function(){}},T)]})]}):j})}np.defaultProps={listElementRenderer:function(e){return e}};var rp=n(1173),ap=n(1171),op=n(1172);function cp(e){var t=e.onConfirm,n=e.onClose,r=e.responseName,a=e.confirmCreateDiscard,o=a?Object(s.jsxs)(Y.a,{children:["Responses cannot exist without at least one response variation. Canceling this process will delete the recently created response ",Object(s.jsx)("strong",{children:r})]}):Object(s.jsx)(Y.a,{children:"Are you sure you want to discard the changes made to this response?"}),c=Object(s.jsx)(B.a,{onClick:n,large:!0,variant:"secondary",children:a?"No, keep creating":"No, keep editing"});return Object(s.jsxs)(H.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,sx:{textAlign:"left"},children:[Object(s.jsx)(z.a,{variant:"h2",mb:3,children:"Discard this response?"}),o,Object(s.jsx)(H.Box,{width:1,children:Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",mt:5,children:[Object(s.jsx)(B.a,{onClick:t,large:!0,ml:2,children:"Yes, discard"}),c]})})]})}var ip=n(573),sp=n.n(ip),lp=function(e){return sp()(e,["id","response_name"])};function up(e){var t=e.open,n=e.onClose,r=e.response,o=e.onUpdate,c=a.useState([]),i=Object(F.a)(c,2)[1],l=a.useState(lp(r)),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useState(lf.a.dump(d)),p=Object(F.a)(f,2),j=p[0],h=p[1];a.useEffect((function(){h(lf.a.dump(lp(r)))}),[r]),a.useEffect((function(){try{b(lf.a.load(j)),i([])}catch(e){i((function(t){return t.filter((function(t){return t!==e.mark.line})).concat([e.mark.line])}))}}),[j,r]);var O=a.useCallback((function(){n(),h(lf.a.dump(d))}),[n,d]),x=a.useCallback((function(){o(Object(_.a)(Object(_.a)({},d),{},{id:r.id||void 0,response_name:r.response_name})),n()}),[o,n,r,d]);return Object(s.jsx)(oi,{open:t,onClose:O,style:{width:"864px",height:"600px",maxWidth:"fit-content"},title:Object(s.jsxs)(H.Flex,{alignItems:"center",children:["Edit Response Text"," ",Object(s.jsx)(zc,{content:Object(s.jsxs)(H.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"},children:["Edit response text and add buttons, images and more."," ",Object(s.jsx)(H.Box,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/rasa/core/domains/#images-and-buttons",children:"Learn more"})]})})]}),px:0,py:0,onBackgroundClick:function(){},footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{large:!0,ml:2,onClick:x,children:"Done"}),Object(s.jsx)(B.a,{large:!0,variant:"secondary",onClick:O,children:"Cancel"})]}),children:Object(s.jsxs)(H.Flex,{sx:{flexGrow:1,overflow:"auto"},children:[Object(s.jsx)(H.Box,{pt:2,width:522,style:{borderRight:"solid 1px #f2f4fa",maxHeight:"450px",overflow:"auto"},children:Object(s.jsx)(Gd,{language:"yaml",value:j,onChange:h})}),Object(s.jsxs)(H.Flex,{sx:{flexGrow:1,overflow:"auto"},flexDirection:"column",children:[Object(s.jsx)(z.a,{pt:3,pl:3,variant:"h5",color:"neutral_6",children:"Preview"}),Object(s.jsx)(H.Box,{style:{width:"264px",maxHeight:"400px"},mr:7,ml:6,pb:3,children:Object(s.jsx)(Qn,{data:d&&{attachment:"",buttons:d.buttons||[],image:d.image},last:!0,onMessageButtonClick:function(){},text:d&&d.text})})]})]})})}var dp={title:"",payload:""};function bp(e){var t=e.onEditResponse,n=e.response,r=e.onClose,o=e.setYamlModalExpanded,c=a.useContext(l.ThemeContext),i=a.useRef(null),u=a.useState([dp]),d=Object(F.a)(u,2),b=d[0],f=d[1],p=a.useMemo((function(){return 0===b.filter((function(e){return e.title.length>0})).length}),[b]);a.useEffect((function(){f((function(e){return n.buttons&&0!==n.buttons.length?n.buttons!==e?n.buttons:e:[dp]}))}),[n]);var j=a.useCallback((function(){t((function(e){return Object(_.a)(Object(_.a)({},e),!p&&{buttons:b.filter((function(e){return e.title.length>0}))})})),r()}),[t,r,p,b]),h=a.useCallback((function(){var e;f((function(e){return 0===e.length?[dp]:0===e[e.length-1].title.length?e:[].concat(Object(A.a)(e),[dp])})),null===i||void 0===i||null===(e=i.current)||void 0===e||e.focus()}),[f,i]),O=a.useCallback((function(e,t,n){var r=Object(A.a)(b),a=Object(_.a)(Object(_.a)({},r[n]),{},{[e]:t});r[n]=a,f(r)}),[b]),x=a.useCallback((function(e,t){return Object(s.jsxs)(H.Flex,{ml:-1,flexDirection:"row",alignItems:"flex-end",mb:3,sx:{width:"calc(100% + ".concat(c.space[1],"px)")},children:[Object(s.jsx)(H.Flex,{width:.5,px:1,children:Object(s.jsx)(Pr.a,{ref:i,autoFocus:!0,onChangeValue:function(e){return O("title",e,t)},value:e.title,placeholder:"Enter button title...",fullWidth:!0})}),Object(s.jsx)(H.Flex,{width:.5,pl:1,children:Object(s.jsx)(Pr.a,{onChangeValue:function(e){return O("payload",e,t)},value:e.payload,placeholder:"Select intent",fullWidth:!0})})]},t)}),[O,c.space]);return Object(s.jsxs)(H.Flex,{flexDirection:"column",className:"response-editor-buttons",children:[Object(s.jsxs)(H.Flex,{flexDirection:"column",px:5,pt:4,pb:7,width:480,children:[Object(s.jsxs)(H.Flex,{flexDirection:"row",mb:1,children:[Object(s.jsx)(Y.a,{width:.5,variant:"bodySecondary",as:"label",fontWeight:700,mr:1,children:"Button title"}),Object(s.jsx)(Y.a,{as:"label",width:.5,variant:"bodySecondary",fontWeight:700,children:Object(s.jsxs)(H.Flex,{flexDirection:"row",alignItems:"center",as:"span",children:["Payload",Object(s.jsx)(zc,{ml:1,content:Object(s.jsxs)(s.Fragment,{children:["To add entities to the payload, use the"," ",Object(s.jsx)(B.a,{variant:"plain",large:!0,onClick:function(){j(),o(!0)},children:"YAML editor"})]})})]})})]}),b.map((function(e,t){return x(e,t)})),Object(s.jsxs)(B.a,{fullWidth:!0,variant:"secondaryDashed",onClick:h,large:!0,disabled:b.some((function(e){return""===e.title})),children:[Object(s.jsx)(ie.a,{icon:mo.faPlus,fontSize:"16px"})," Add another button"]})]}),Object(s.jsx)(H.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(s.jsxs)(H.Flex,{px:4,py:3,flexDirection:"row-reverse",children:[Object(s.jsx)(B.a,{onClick:j,large:!0,ml:2,disabled:p,children:"Done"}),Object(s.jsx)(B.a,{onClick:function(){r(),f([dp])},large:!0,variant:"secondary",children:"Cancel"})]})})]})}function fp(e){var t=e.onEditResponse,n=e.response,r=e.onClose,o=a.useState(""),c=Object(F.a)(o,2),i=c[0],l=c[1],u=a.useCallback((function(){t(Object(_.a)(Object(_.a)({},n),{},{image:i}))}),[t,i,n]);return a.useEffect((function(){l((function(e){return n.image?n.image!==e?n.image:e:""}))}),[n]),Object(s.jsxs)(H.Flex,{p:5,flexDirection:"column",width:412,className:"response-editor-image",children:[Object(s.jsx)(z.a,{variant:"h2",mb:3,children:"Add an image to this response variation"}),Object(s.jsx)(go.a,{text:"Image URL",children:Object(s.jsx)(Pr.a,{placeholder:"Enter image url..",fullWidth:!0,value:i,onChangeValue:l})}),Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",mt:4,flex:1,children:[Object(s.jsx)(B.a,{large:!0,ml:2,onClick:function(){u(),r()},children:"Add image"}),Object(s.jsx)(B.a,{large:!0,variant:"secondary",onClick:function(){return r()},children:"Cancel"})]})]})}function pp(e){var t=e.onEditResponse,n=e.response,r=e.forwardedRef,o=void 0===r?a.createRef():r,c=e.onConfirm,i=e.onCancel,l=e.confirmCreateDiscard,u=void 0!==l&&l,d=e.persistent,b=void 0!==d&&d,f=Object(V.a)(e,["onEditResponse","response","forwardedRef","onConfirm","onCancel","confirmCreateDiscard","persistent"]),p=a.useState(!1),j=Object(F.a)(p,2),h=j[0],O=j[1],x=a.useState(!1),g=Object(F.a)(x,2),v=g[0],m=g[1],y=a.useState(!1),C=Object(F.a)(y,2),S=C[0],w=C[1],E=a.useState(!1),k=Object(F.a)(E,2),T=k[0],R=k[1],D=a.useState(!1),I=Object(F.a)(D,2),L=I[0],N=I[1],U=0===n.text.length&&(!n.custom||0===Object.keys(n.custom).length),M=a.useCallback((function(e){N(!0),t((function(t){return Object(_.a)(Object(_.a)({},t),{},{text:e})}))}),[t]);Object(ia.b)(o,(function(e){h||v||S||T||!b||(e.preventDefault(),e.stopPropagation(),R(!0))}),(function(e){return Object(A.a)(e.classList).find((function(e){return e.startsWith("response-editor-")}))}));var P=a.useCallback((function(e){var r=Object(A.a)(n.buttons||[]);if(r.length<=1){n.buttons;var a=Object(V.a)(n,["buttons"]);t(a)}else r.splice(e,1),t(Object(_.a)(Object(_.a)({},n),{},{buttons:r}))}),[t,n]);return Object(s.jsxs)(H.Flex,Object(_.a)(Object(_.a)({flexDirection:"column",sx:{backgroundColor:"neutral_1"},p:3,ref:o},f),{},{children:[Object(s.jsx)(H.Flex,{flex:"1 0 auto",sx:{height:"107px"},flexDirection:"column",children:Object(s.jsx)(Pr.a,{value:n.text,onChangeValue:M,onReturn:c,textarea:!0,fullWidth:!0,fullHeight:!0,affixBottom:n.buttons&&Object(s.jsx)(H.Flex,{flexDirection:"row",pt:"16px",children:n.buttons.map((function(e,t){return Object(s.jsx)(Jc.a,{color:"neutral_6",bg:"neutral_3",mr:2,children:Object(s.jsxs)(H.Flex,{justifyContent:"center",children:[e.title,Object(s.jsx)(B.a,{variant:"plain",ml:2,color:"inherit",onClick:function(){return P(t)},children:Object(s.jsx)(ie.a,{icon:ce.faTimes})})]})},t)}))}),placeholder:"Create response variation...",customPrefix:n.image?Object(s.jsxs)(H.Box,{mr:"16px",onClick:function(){n.image;var e=Object(V.a)(n,["image"]);t(e)},sx:{backgroundColor:"neutral_1",position:"relative",overflow:"hidden",width:"148px",height:"100%",borderRadius:"normal","&:hover > .deleteDimmable":{opacity:1}},children:[Object(s.jsx)(H.Flex,{className:"deleteDimmable",flex:1,alignItems:"center",justifyContent:"center",sx:{background:"rgba(37, 45, 64, 0.8)",zIndex:2,position:"relative",height:"100%",color:"neutral_0",cursor:"pointer",transition:"all ease .2s",opacity:0},children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt,fontSize:"16px"})}),Object(s.jsx)(Pe,{src:n.image,sx:{zIndex:1,width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}):null})}),Object(s.jsxs)(H.Flex,{mt:2,flexDirection:"row",flex:1,justifyContent:"space-between",children:[Object(s.jsxs)(H.Flex,{children:[Object(s.jsx)(ba.a,{content:Object(s.jsx)(fp,{response:n,onEditResponse:t,onClose:function(){return O(!1)}}),placement:"bottom-start",visible:h,onClose:function(){return O(!1)},children:Object(s.jsx)(Mr.a,{content:"Add an image to this response variation",children:Object(s.jsx)(B.a,{hover:h,variant:"icon",onClick:function(){return O((function(e){return!e}))},mr:1,active:!!n.image,children:Object(s.jsx)(ie.a,{icon:ap.faImage})})})}),Object(s.jsx)(ba.a,{title:Object(s.jsx)(z.a,{variant:"h2",children:"Add buttons to this response variation"}),content:Object(s.jsx)(bp,{response:n,onEditResponse:t,setYamlModalExpanded:w,onClose:function(){return m(!1)}}),placement:"bottom-start",visible:v,onClose:function(){return m(!1)},children:Object(s.jsx)(Mr.a,{content:"Add buttons to this response variation",children:Object(s.jsx)(B.a,{hover:v,variant:"icon",onClick:function(){return m((function(e){return!e}))},active:n.buttons&&n.buttons.length>0,mr:1,children:Object(s.jsx)(ie.a,{icon:op.faMousePointer})})})}),Object(s.jsx)(Mr.a,{content:"Edit response in YAML format",children:Object(s.jsx)(B.a,{variant:"icon",hover:S,onClick:function(){return w((function(e){return!e}))},children:Object(s.jsx)(ie.a,{icon:rp.faCode})})}),Object(s.jsx)(up,{open:S,onClose:function(){return w(!1)},response:n,onUpdate:t})]}),Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",children:[Object(s.jsx)(B.a,{large:!0,ml:2,onClick:c,disabled:U,children:"Save"}),Object(s.jsx)(ba.a,{content:Object(s.jsx)(cp,{responseName:n.response_name,onConfirm:function(){i(),R(!1)},onClose:function(){return R(!1)},confirmCreateDiscard:u}),offset:[0,8],onClose:function(){return R(!1)},visible:T,children:Object(s.jsx)(B.a,{large:!0,variant:"secondary",onClick:function(){L&&""!==n.text||u?R(!0):i()},children:"Cancel"})})]})]})]}))}var jp={text:"",response_name:""};function hp(e){var t=e.response,n=e.setResponse,r=e.showResponseAdd,o=e.disableCreation,c=e.setShowResponseAdd,i=e.onSaveResponse,l=e.selectedTemplate,u=e.setSelectedTemplate,d=Object(V.a)(e,["response","setResponse","showResponseAdd","disableCreation","setShowResponseAdd","onSaveResponse","selectedTemplate","setSelectedTemplate"]),b=Object(R.e)(),f=Object(F.a)(b,2),p=f[0],j=f[1].height,h=a.useState(t),O=Object(F.a)(h,2),x=O[0],g=O[1],v=a.useMemo((function(){return""!==t.response_name}),[t.response_name]),m=a.useMemo((function(){return v?t.response_name:l}),[v,t.response_name,l]),y=a.useCallback((function(){var e=""!==x.text||x.buttons||x.image||x.elements;m&&e&&(i(Object(_.a)(Object(_.a)({},x),{},{response_name:m})),g(jp),n(jp))}),[n,i,x,g,m]),C=a.useCallback((function(){g(jp),n(jp),v&&u(null),c(!1)}),[n,g,c,u,v]);if(!m)return null;var S=o?"Save or discard changes to add a new response variation":"Add a new response variation for ".concat(m);return Object(s.jsxs)(H.Flex,Object(_.a)(Object(_.a)({flexDirection:"column",sx:{borderBottom:"1px solid",borderColor:"neutral_3"}},d),{},{children:[Object(s.jsxs)(H.Flex,{justifyContent:"space-between",alignItems:"center",height:56,pl:4,children:[Object(s.jsxs)(z.a,{variant:"h4",children:[r?"Create a response variant":"Response variants"," for ",m]}),!v&&Object(s.jsx)(Mr.a,{maxWidth:600,content:Object(s.jsx)(H.Box,{sx:{textAlign:"center"},children:S}),offset:[-10,0],disabled:r,children:Object(s.jsx)(B.a,{variant:"secondaryHeaderIcon",onClick:function(){return c((function(e){return!e}))},active:r,disabled:o,showWhenDisabled:!0,children:Object(s.jsx)(ie.a,{icon:mo.faPlus,fontSize:"16px"})})})]}),Object(s.jsx)(H.Box,{sx:{transition:"all ease 0.2s",height:r?"".concat(j,"px"):0,overflow:"hidden"},children:Object(s.jsx)(pp,{onEditResponse:g,onConfirm:y,onCancel:C,response:x,forwardedRef:p,confirmCreateDiscard:v,persistent:r&&v})})]}))}function Op(e){var t=e.response,n=e.index,r=e.highlighted,o=e.disableEditing,c=e.handleReset,i=e.editIndex,u=e.setEditIndex,d=e.deleteResponses,b=e.onUpdate,f=a.useRef(!0),p=a.useRef(),j=a.useContext(l.ThemeContext),h=a.useMemo((function(){return sp()(t,["annotator_id","annotated_at","project_id","edited_since_last_training"])}),[t]),O=a.useState(h),x=Object(F.a)(O,2),g=x[0],v=x[1];if(a.useEffect((function(){f.current?f.current=!1:c()}),[t,c,f]),!t)return null;var m=o?"Save or discard changes to edit response variation":"Edit response variation";return Object(s.jsx)(H.Box,{ref:p,sx:{height:"100%"},children:i===n?Object(s.jsx)(H.Box,{sx:{width:"calc(100% + ".concat(2*j.space[4],"px)")},ml:-4,children:Object(s.jsx)(pp,{onEditResponse:v,onConfirm:function(){b(g),u(null)},onCancel:function(){u(null),c()},response:g})}):Object(s.jsxs)(H.Flex,{flexDirection:"row",justifyContent:"space-between",sx:{height:"100%"},children:[Object(s.jsx)(H.Flex,{alignItems:"center",sx:{flexGrow:1},children:Object(s.jsxs)(H.Flex,{flexDirection:"row",alignItems:"center",onClick:function(e){return e.stopPropagation()},sx:{flexGrow:1},children:[t.image&&Object(s.jsx)(H.Flex,{alignItems:"center",mr:3,my:"14px",sx:{alignSelf:"flex-start",backgroundColor:r?"neutral_0":"neutral_2",flexShrink:0,width:"55px",height:"36px",borderRadius:"small",boxShadow:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",overflow:"hidden"},children:Object(s.jsx)(Pe,{src:t.image})}),Object(s.jsxs)(Y.a,{as:"div",py:3,mr:2,variant:"bodySecondary",sx:{display:"inline-block"},children:[t.text&&Object(s.jsx)(H.Box,{as:"span",mr:2,children:t.text}),t.buttons&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("b",{children:"Buttons: "})," ",t.buttons.map((function(e,n){var r=e.title;return"".concat(r).concat(t.buttons&&t.buttons.length!==n+1?", ":"")}))]})]})]})}),Object(s.jsxs)(H.Flex,{sx:{flexShrink:0,transition:"opacity ease .2s",opacity:r?1:0,pointerEvents:"none",".table-row:hover &":{opacity:1,pointerEvents:"auto"}},flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-start",my:"12px",children:[Object(s.jsx)(qc.a,{resource:Te.d.Responses,action:Te.a.Update,yes:Object(s.jsx)(Mr.a,{content:m,inline:!0,children:Object(s.jsx)(B.a,{mx:1,variant:"icon",disabled:o,onClick:function(){u(n),v(h),c()},children:Object(s.jsx)(ie.a,{icon:Ve.faEdit})})})}),Object(s.jsx)(qc.a,{resource:Te.d.Responses,action:Te.a.Delete,yes:Object(s.jsx)(Mr.a,{content:"Delete response variation",inline:!0,children:Object(s.jsx)(B.a,{ml:1,onClick:function(){d([t])},variant:"icon",children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})})]})]})})}function xp(e){var t=e.responsePrefix,n=e.onSetNewTemplateName,r=e.forwardedRef,o=e.onClose,c=e.template,i=Object(V.a)(e,["responsePrefix","onSetNewTemplateName","forwardedRef","onClose","template"]),l=a.useState(c||""),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useCallback((function(){n(d),b("")}),[n,d,b]);return Object(s.jsxs)(H.Flex,Object(_.a)(Object(_.a)({flexDirection:"column",sx:{backgroundColor:"neutral_1"},p:3,ref:r,flex:1},i),{},{children:[Object(s.jsx)(Pr.a,{prefix:t,placeholder:"response_name",value:d,onChangeValue:b,onReturn:f}),Object(s.jsxs)(H.Flex,{mt:2,flexDirection:"row-reverse",children:[Object(s.jsx)(B.a,{ml:2,onClick:f,disabled:""===d,children:c?"Save":"Next"}),Object(s.jsx)(B.a,{variant:"secondary",onClick:o,children:"Cancel"})]})]}))}function gp(e){var t=e.responsePrefix,n=e.showTemplatesAdd,r=e.setShowTemplatesAdd,a=e.onSetNewTemplateName,o=e.disableCreation,c=e.disableAddButton,i=Object(V.a)(e,["responsePrefix","showTemplatesAdd","setShowTemplatesAdd","onSetNewTemplateName","disableCreation","disableAddButton"]),l=Object(R.e)(),u=Object(F.a)(l,2),d=u[0],b=u[1].height,f=o?"Save or discard changes to add a new response":"Add a new response";return Object(s.jsxs)(H.Flex,Object(_.a)(Object(_.a)({flexDirection:"column",sx:{borderBottom:"1px solid",borderColor:"neutral_3"}},i),{},{children:[Object(s.jsxs)(H.Flex,{justifyContent:"space-between",alignItems:"center",height:56,pl:4,children:[Object(s.jsx)(z.a,{variant:"h4",children:"Responses"}),Object(s.jsx)(Mr.a,{maxWidth:400,content:Object(s.jsx)(H.Box,{sx:{textAlign:"center"},children:f}),offset:[-10,0],disabled:n,children:Object(s.jsx)(B.a,{variant:"secondaryHeaderIcon",onClick:function(){return!c&&r((function(e){return!e}))},active:n,disabled:o,showWhenDisabled:!0,children:Object(s.jsx)(ie.a,{icon:mo.faPlus,fontSize:"16px"})})})]}),Object(s.jsx)(H.Box,{sx:{transition:"all ease 0.2s",height:n?"".concat(b,"px"):0,overflow:"hidden"},children:Object(s.jsx)(xp,{responsePrefix:t,onClose:function(){return r(!1)},forwardedRef:d,onSetNewTemplateName:a})})]}))}var vp="utter_",mp={response_name:"",text:""};function yp(e){var t=e.onDelete,n=e.onSaveResponse,r=e.onLoadSuggestions,o=e.onSearchPillClick,c=e.onSearchReturn,i=e.onSearchFocus,l=e.onSearchBlur,u=e.onUpdate,d=e.onUpdateResponseName,b=e.searchQuery,f=e.searchPill,p=e.total,j=e.groupedResponses,h=e.groupedResponseNames,O=e.responsesLoading,x=e.selectedTemplate,g=e.setSelectedTemplate,v=a.useState(null),m=Object(F.a)(v,2),y=m[0],C=m[1],S=a.useState(null),w=Object(F.a)(S,2),E=w[0],k=w[1],T=a.useState(!1),R=Object(F.a)(T,2),D=R[0],I=R[1],L=a.useState(!1),N=Object(F.a)(L,2),B=N[0],U=N[1],M=a.useState(mp),P=Object(F.a)(M,2),q=P[0],G=P[1];a.useEffect((function(){U(q.response_name===x),I(!1)}),[x,I,U,q.response_name]);var V=a.useMemo((function(){return""!==q.response_name?[{response_name:q.response_name,responses:[]}].concat(Object(A.a)(j)):j}),[j,q.response_name]),z=a.useMemo((function(){return""!==q.response_name?[q.response_name].concat(Object(A.a)(h)):h}),[h,q.response_name]),Y=a.useCallback((function(e){var t=j.find((function(t){return t.response_name===e}));return t?t.responses.length:0}),[j]),W=a.useCallback((function(e){if(0!==e.length){var n=e[0].response_name;if(j.find((function(e){return e.response_name===n})).responses.length===e.length){var r=h.indexOf(n);r<=0&&g(null),g(h[r-1])}t(e)}}),[j,h,t,g]),K=a.useState(b),Q=Object(F.a)(K,2),X=Q[0],$=Q[1],Z=!f||f&&!b,J=null!==E,ee=J||null!==y;return Object(s.jsx)(oc.a,{children:Object(s.jsxs)(H.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[Object(s.jsx)(De.a,{count:p,query:X,label:function(e){return"Search responses..."},onChange:function(e){$(e),r(e)},onReturn:c,onFocus:i,onBlur:l,children:!Z&&Object(s.jsx)(H.Flex,{flex:1,alignItems:"center",children:Object(s.jsxs)(Jc.a,{bg:"primary_1",color:"neutral_0",onClick:function(){$(""),null===o||void 0===o||o()},ml:3,children:[b,Object(s.jsx)(ie.a,{icon:ce.faTimes,ml:2,color:"neutral_0"})]})})}),Object(s.jsx)(np,{data:V,list:z,listElementAddRenderer:function(e){var t=e.handleUpdate,n=e.newTabName,r=e.setEditIndex;return Object(s.jsx)(xp,{responsePrefix:vp,onClose:function(){return r(null)},template:n.replace(new RegExp("^".concat(vp),"i"),""),onSetNewTemplateName:function(e){var n="".concat(vp).concat(e);e.length>0&&-1===z.indexOf(n)&&t(n)}})},listElementRenderer:function(e){return e},listElementCount:Y,groupedTotal:p,selectedListElement:x,setSelectedListElement:g,unselectGroups:D,blockGroupSelection:""!==q.response_name,dataProp:"responses",onEditIndexChanged:k,onEditListElement:d,disableListEditing:ee||D,loading:O,absolutePlaceholderPosition:0===b.length,noRowsPlaceholder:Object(s.jsx)(Wf,{isSearch:b.length>0,addingActive:D,onAddClick:function(){return I(!0)}}),groupsHeader:Object(s.jsx)(gp,{responsePrefix:vp,showTemplatesAdd:D,setShowTemplatesAdd:I,disableCreation:ee||B,disableAddButton:""!==q.response_name,onSetNewTemplateName:function(e){var t="".concat(vp).concat(e);e.length>0&&-1===z.indexOf(t)&&G((function(e){return Object(_.a)(Object(_.a)({},e),{},{response_name:t})})),g(t)}}),elementsHeader:Object(s.jsx)(hp,{selectedTemplate:x||z[0],showResponseAdd:B,setShowResponseAdd:U,response:q,disableCreation:ee,setResponse:G,onSaveResponse:n,setSelectedTemplate:g}),children:function(e){return Object(s.jsx)(Co.a,{title:"",width:"100%",sx:{alignSelf:"stretch"},children:function(t,n){var r=n.highlighted,a=n.index;return Object(s.jsx)(Op,{editIndex:y,setEditIndex:C,disableEditing:B||D||J,index:a,response:t,highlighted:r,handleReset:e,deleteResponses:W,onUpdate:u})}})}})]})})}var Cp=n(257),Sp=Object(l.default)(H.Box).withConfig({displayName:"TableSuggestions__SuggestionsContainer",componentId:"sc-1gy9s2n-0"})(["position:relative;width:100%;"]),wp=Object(l.default)(H.Box).withConfig({displayName:"TableSuggestions__SuggestionsBox",componentId:"sc-1gy9s2n-1"})(["background:",";height:auto;padding-bottom:12px;width:100%;max-height:500px;overflow-y:scroll;position:absolute;z-index:3;margin-top:56px;border-radius:0 0 10px 10px;box-shadow:0px 0px 4px ",";"],Object(Ef.a)("colors.neutral_0"),Object(Ef.a)("colors.neutral_6")),Ep=Object(l.default)(H.Flex).withConfig({displayName:"TableSuggestions__Suggestion",componentId:"sc-1gy9s2n-2"})(["flex:1;padding-top:16px;padding-bottom:16px;cursor:pointer;&:hover,&:active,&:focus-within{","}&:last-child{border:0;}"],ps.b),kp=Object(l.default)(Y.a).withConfig({displayName:"TableSuggestions__SuggestionTextToken",componentId:"sc-1gy9s2n-3"})(["white-space:pre;font-weight:",";"],(function(e){return e.highlight?600:400}));function Tp(e){var t=e.textTokens,n=e.suggestionsQuery;return Object(s.jsx)(s.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(s.jsx)(kp,{as:"span",variant:"bodySecondary",highlight:e.toLowerCase()===n.toLowerCase(),children:e},"suggestion_text_"+t)}))})}function Ap(){return Object(s.jsx)(qe,{heading:"No results found",pt:3,pb:3,image:He,body:"There are no responses or variations that match that search query. Please try again"})}function _p(e){var t=e.suggestions,n=e.suggestionsQuery,r=e.onSuggestionClick,a=Object(V.a)(e,["suggestions","suggestionsQuery","onSuggestionClick"]),o=null===t||void 0===t?void 0:t.map((function(e,t){return Object(s.jsxs)(Ep,{px:4,bgActive:"neutral_1",style:{height:"100%"},onMouseDown:function(){null===r||void 0===r||r(e.key)},children:[Object(s.jsx)(ie.a,{icon:Cp.faSearch,color:"neutral_6"}),Object(s.jsx)(H.Flex,{width:340,alignSelf:"stretch",px:3,children:Object(s.jsx)(Y.a,{variant:"bodySecondary",children:Object(s.jsx)(Tp,{suggestionsQuery:n,textTokens:e.text})})}),Object(s.jsx)(H.Flex,{flex:"1",alignSelf:"stretch",children:Object(s.jsxs)(Y.a,{variant:"bodySecondary",children:['"',Object(s.jsx)(Tp,{suggestionsQuery:n,textTokens:e.description}),'"']})})]},"suggestion_"+t)}));return Object(s.jsx)(Sp,Object(_.a)(Object(_.a)({},a),{},{children:Object(s.jsxs)(wp,{children:[o,(!t||0===t.length)&&Object(s.jsx)(Ap,{})]})}))}function Fp(e){var t=e.total,n=e.responseNames,r=e.responseNameFilter,o=e.suggestionsQuery,c=e.suggestions,i=e.responsesLoading,l=e.suggestionsLoading,u=e.onSaveResponse,d=e.onFetchResponsesSuggestions,b=e.onFetchGroupedResponses,f=e.onUpdateResponse,p=e.onUpdateResponseName,j=e.onDeleteResponses,h=e.groupedResponses,O=Object(R.k)(),x=a.useState(!1),g=Object(F.a)(x,2),v=g[0],m=g[1],y=a.useState(null),C=Object(F.a)(y,2),S=C[0],w=C[1];a.useEffect((function(){O("view:responses:loaded")}),[O]);var E=a.useCallback((function(e){d({search:e})}),[d]),k=a.useCallback((function(e){m(!1),b({search:e,offset:0,limit:20}),w(null)}),[b]),T=!r&&o&&v&&(!l||c&&c.length>0);return Object(s.jsx)(Ee.a,{title:"Responses",children:Object(s.jsxs)(H.Box,{height:"calc(100% - 64px)",width:"100%",children:[T&&Object(s.jsx)(_p,{suggestions:c,suggestionsQuery:o,onSuggestionClick:k}),Object(s.jsx)(yp,{groupedResponses:h,groupedResponseNames:n,total:t,onUpdate:f,onDelete:j,onUpdateResponseName:p,searchQuery:r,searchPill:!0,onLoadSuggestions:E,onSaveResponse:u,onSearchPillClick:function(){return k("")},selectedTemplate:S,setSelectedTemplate:w,responsesLoading:i,onSearchReturn:function(e){k(e)},onSearchFocus:function(){return m(!0)},onSearchBlur:function(){m(!1)}})]})})}var Rp=n(49),Dp={onDeleteResponses:Rp.a.request,onFetchGroupedResponses:Rp.b.request,onFetchResponsesSuggestions:Rp.c.request,onSaveResponse:Rp.d.request,onUpdateResponse:Rp.f.request,onUpdateResponseName:Rp.g.request};var Ip=Object(m.b)((function(e){return{groupedResponses:e.responses.groupedResponses,role:e.auth.role,responseNameFilter:e.responses.searchQuery,responseNames:e.responses.responseNames,total:e.responses.total,suggestionsQuery:e.responses.suggestionsQuery,suggestions:e.responses.suggestions,suggestionsLoading:e.responses.loading.fetchResponsesSuggestions,responsesLoading:e.responses.loading.fetchGroupedResponses}}),Dp)((function(e){var t=e.responseNameFilter,n=e.onFetchGroupedResponses;return a.useEffect((function(){n({search:t,offset:0,limit:20})}),[n,t]),Object(s.jsx)(Fp,Object(_.a)({},e))})),Lp=n(354),Np=n(3),Bp=n(574);function Up(e){var t=e.isRulesType,n=e.name,r=e.selected,a=e.totalSelected,o=e.onSingleSelect,c=e.onMultiSelect,i=Object(V.a)(e,["isRulesType","name","selected","totalSelected","onSingleSelect","onMultiSelect"]);return Object(s.jsx)("div",Object(_.a)(Object(_.a)({onClick:function(e){return o&&o(e,!r)}},i),{},{children:Object(s.jsxs)(Nr.Flex,{sx:{height:"100%",cursor:"pointer",position:"relative","&:after":{content:'""',width:"4px",height:"100%",position:"absolute",right:"0px",transform:"scaleY(".concat(r?1:0,")"),opacity:r?1:0,transition:"transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s",bg:"primary_2"},"&:hover":{bg:"neutral_1"}},px:4,bg:r?"neutral_1":"transparent",alignItems:"center",justifyContent:"space-between",children:[Object(s.jsx)(Sb,{title:n,flex:"1",children:Object(s.jsx)(Y.a,{variant:"bodySecondary",children:n})}),(a>1||1===a&&!r)&&Object(s.jsx)(Nr.Box,{alwaysVisible:r&&a>1,children:Object(s.jsx)(Mr.a,{content:"Compare multiple ".concat(t?"rules":"stories"),children:Object(s.jsx)(B.a,{active:r,fontSize:15,variant:"plainIcon",onClick:function(e){e.stopPropagation(),c(!r)},children:Object(s.jsx)(ie.a,{icon:Bp.faSitemap})})})})]})}))}var Mp=a.memo((function(e){var t=e.isRulesType,n=e.onLoadMoreRows,r=e.onSelect,o=e.searchQuery,c=e.selected,i=e.stories,l=e.total,u=a.useCallback((function(e){var t=e.startIndex,r=e.stopIndex;return n?n({search:o,offset:t,limit:r-t+1}):new Promise((function(e){return e()}))}),[o,n]),d=a.useCallback((function(e){var n=e.key,a=e.index,o=e.style,l=i[a];return l?Object(s.jsx)(Up,{isRulesType:t,name:l.name,selected:c.indexOf(a)>=0,totalSelected:c.length,onSingleSelect:function(e,t){r([a])},onMultiSelect:function(e){return r(e?[].concat(Object(A.a)(c),[a]):c.filter((function(e){return e!==a})))},style:o},n):null}),[t,i,c,r]);return Object(s.jsx)(Br.a,{children:function(e){return Object(s.jsx)(Br.c,{isRowLoaded:function(e){var t=e.index;return void 0!==i[t]},loadMoreRows:u,rowCount:l,children:function(t){var n=t.onRowsRendered,r=t.registerChild;return Object(s.jsx)(Br.d,{ref:r,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:l,rowHeight:48,rowRenderer:d})}})}})}));function Pp(e){var t=e.story,n=e.onCancelAdd,r=e.onSave,o=e.onDelete,c=e.format,i=void 0===c?"yaml":c,l=e.isRulesType,u=me().addToast,d=a.useState(t.story),b=Object(F.a)(d,2),f=b[0],p=b[1];a.useLayoutEffect((function(){p(t.story)}),[t.story]);var j=a.useMemo((function(){if("name"in t&&f.length===t.story.length)return t.name;if("yaml"===i){var e=/^\s*- (story|rule): (.+)/gm.exec(f);return null===e?null:e[2]}var n=/^\s*#+ (.+)/gm.exec(f);return null===n?null:n[1]}),[i,t,f]),h=a.useCallback((function(){"id"in t||n(),p(t.story)}),[n,t]),O="markdown"===i,x=a.useCallback((function(){return r(Object(_.a)(Object(_.a)({},t),{},{story:f}),O)}),[O,r,t,f]),g=a.useCallback((function(){return"id"in t&&o(t)}),[o,t]),v=a.useCallback((function(e){"Tab"!==e.key&&(u({content:"You can edit the title of the ".concat(l?"rule":"story"," from within the ").concat(O?"markdown":"yaml"),key:"EditStoryTitle"}),e.preventDefault())}),[u,O,l]);return Object(s.jsxs)(H.Flex,{style:{height:"100%"},flexDirection:"column",children:[Object(s.jsx)(Io.a,{flex:"0 0 48px",bottom:!0,children:Object(s.jsxs)(H.Flex,{sx:{height:"100%",alignItems:"center",justifyContent:"space-between"},pl:4,pr:2,children:[Object(s.jsx)(z.a,{sx:{flexShrink:1,overflow:"hidden",cursor:"default",caretColor:"transparent",textOverflow:"ellipsis",whiteSpace:"nowrap"},contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:v,variant:"h4",children:j||""}),Object(s.jsxs)(H.Flex,{sx:{flexShrink:0,flexDirection:"row-reverse",alignItems:"center"},ml:2,children:["id"in t&&Object(s.jsx)(qc.a,{resource:Te.d.Stories,action:Te.a.Delete,yes:Object(s.jsx)(Mr.a,{content:"Delete ".concat(l?"rule":"story"),children:Object(s.jsx)(B.a,{mx:1,variant:"icon",onClick:g,disabled:!j,children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})}),(!("id"in t)||f!==t.story)&&Object(s.jsx)(qc.a,{resource:Te.d.Stories,action:Te.a.Update,yes:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Mr.a,{content:"A ".concat(l?"rule":"story"," needs a name before it can be saved"),disabled:!!j,children:Object(s.jsx)(B.a,{mx:1,variant:"primary",onClick:x,disabled:!j||0===f.length,children:"Save"})}),Object(s.jsx)(B.a,{mx:1,variant:"secondary",onClick:h,children:"Cancel"})]})})]})]})}),Object(s.jsx)(H.Box,{flex:"1",style:{overflow:"auto "},children:Object(s.jsx)(Gd,{value:f,onChange:p,language:"markdown"})})]})}var qp=n(1174),Hp=n.n(qp),Gp=n(1175),Vp=n.n(Gp),zp=n(103),Yp=n(524),Wp=(n(185),n(1176));function Kp(e){var t=e.onReset,n=e.onZoomIn,r=e.onZoomOut;return Object(s.jsxs)(H.Flex,{flexDirection:"column",width:"40px",children:[t&&Object(s.jsx)(H.Card,{bg:"neutral_0",sx:{borderRadius:"normal",boxShadow:"0 2px 6px 0 rgba(42, 51, 72, 0.22)",overflow:"hidden"},mb:3,children:Object(s.jsx)(Mr.a,{content:"Reset zoom and panning",placement:"left",children:Object(s.jsx)(B.a,{onClick:t,variant:"icon",block:!0,children:Object(s.jsx)(ie.a,{icon:Wp.faLocation})})})}),Object(s.jsx)(H.Card,{sx:{borderRadius:"normal",boxShadow:"0 2px 6px 0 rgba(42, 51, 72, 0.22)",overflow:"hidden"},bg:"neutral_0",children:Object(s.jsxs)(H.Flex,{flexDirection:"column",children:[Object(s.jsx)(H.Box,{children:Object(s.jsx)(Mr.a,{content:"Zoom in",placement:"left",children:Object(s.jsx)(B.a,{onClick:n,variant:"icon",block:!0,children:Object(s.jsx)(ie.a,{icon:mo.faPlus})})})}),Object(s.jsx)(H.Box,{children:Object(s.jsx)(Mr.a,{content:"Zoom out",placement:"left",children:Object(s.jsx)(B.a,{onClick:r,variant:"icon",block:!0,children:Object(s.jsx)(ie.a,{icon:Pi.faMinus})})})})]})})]})}function Qp(){var e=Object(E.a)(["\n  position: absolute;\n  bottom: 24px;\n  right: 24px;\n"]);return Qp=function(){return e},e}function Xp(){var e=Object(E.a)(["\n  background: linear-gradient(90deg, "," 6px, transparent 1%) center,\n    linear-gradient("," 6px, transparent 1%) center,\n    ",";\n  background-size: 8px 8px;\n\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n\n  & g.edgePath {\n    & .path {\n      stroke: ",";\n    }\n    & marker {\n      fill: ",";\n    }\n  }\n\n  & g.node {\n    & .label-container {\n      filter: drop-shadow(0 5px 10px rgba(153, 165, 214, 0.38));\n      fill: ",";\n      stroke-width: 1;\n      stroke: ",";\n    }\n\n    & .label {\n      font-size: 11px;\n      fill: ",";\n    }\n\n    &.intent {\n      & .label-container {\n        fill: ",";\n        stroke: ",";\n      }\n      & .label {\n        fill: ",";\n      }\n    }\n\n    &.start .label-container,\n    &.end .label-container {\n      fill: ",";\n    }\n  }\n"]);return Xp=function(){return e},e}var $p=l.default.svg(Xp(),Object(Ef.a)("colors.neutral_0"),Object(Ef.a)("colors.neutral_0"),(function(e){return Object(ha.d)(.39,Object(Ef.a)("colors.neutral_5")(e))}),Object(Ef.a)("colors.neutral_5"),Object(Ef.a)("colors.neutral_5"),Object(Ef.a)("colors.neutral_1"),Object(Ef.a)("colors.neutral_4"),Object(Ef.a)("colors.neutral_8"),Object(Ef.a)("colors.primary_3"),Object(Ef.a)("colors.primary_2"),Object(Ef.a)("colors.neutral_0"),Object(Ef.a)("colors.neutral_0")),Zp=l.default.div(Qp());function Jp(e){var t=e.speed,n=void 0===t?250:t,r=e.dot,o=e.width,c=e.height,i=a.useState(null),l=Object(F.a)(i,2),u=l[0],d=l[1],b=h.b.radii.normal,f=a.useState(null),p=Object(F.a)(f,2),j=p[0],O=p[1],x=a.useState(null),g=Object(F.a)(x,2),v=g[0],m=g[1],y=a.useState(null),C=Object(F.a)(y,2),S=C[0],w=C[1],E=a.useCallback((function(e){return O(zp.k(e))}),[]),k=a.useCallback((function(e){return m(zp.k(e))}),[]);a.useEffect((function(){if(v&&r){var e=new Hp.a.render;try{var t=Vp.a.read(r);t.setGraph({nodesep:32,ranksep:32}),t.nodes().forEach((function(e){var n=t.node(e);""===n.class&&(n.class="action");var r,a=n.class.split(" ");(a.includes("start")||a.includes("end"))&&(n=Object(_.a)(Object(_.a)({},n),{},{label:(r=n.label,r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()),shape:"circle",height:30,width:30})),"rect"!==n.shape&&void 0!==n.shape||(n=Object(_.a)(Object(_.a)({},n),{},{ry:b,rx:b})),t.setNode(e,n)})),e(v,t),d(!1)}catch(n){d(!0)}w(r)}}),[v,r,b]);var T=a.useMemo((function(){return v?Yp.a().on("zoom",(function(){return v.attr("transform",zp.e.transform)})):null}),[v]),A=a.useCallback((function(e){return function(){if(T&&j){var t=e>0?e:1/Math.abs(e);T.scaleBy(j.transition().duration(n),t)}}}),[n,T,j]),R=a.useMemo((function(){return S&&v&&j?function(e,t){var n=e.getBoundingClientRect(),r=n.width,a=n.height,o=t.getBBox(),c=o.width,i=o.height,s=(r-c)/2,l=i>a?16:(a-i)/2;return Yp.b.translate(s,l)}(j.node(),v.node()):null}),[j,v,S]),D=a.useCallback((function(){R&&j&&T&&T.transform(j.transition().duration(n),R)}),[n,T,j,R]);return a.useEffect((function(){j&&T&&R&&(j.call(T),j.call(T.transform,R))}),[R,j,T]),Object(s.jsxs)(H.Box,{style:{height:"100%"},children:[!0===u&&Object(s.jsx)(kc,{variant:"error",children:Object(s.jsx)(Y.a,{variant:"metadata",lineHeight:"initial",inheritColor:!0,children:"This visualization cannot be rendered."})}),Object(s.jsx)($p,{style:{visibility:!0===u?"hidden":"visible"},ref:E,width:o,height:c,children:Object(s.jsx)("g",{ref:k})}),Object(s.jsx)(Zp,{children:Object(s.jsx)(Kp,{onReset:D,onZoomIn:A(1.3),onZoomOut:A(-1.3)})})]})}var ej={markdown:"## Untitled Story",yaml:"stories:\n- story: Untitled Story\n  steps:\n  - "},tj="rules:\n- rule: Untitled Rule\n  steps:\n  - ";function nj(e){var t=e.onDeleteStory,n=e.onDownloadStories,r=e.onFetchStories,o=e.onFetchVisualization,c=e.onLoadMoreRows,i=e.onSaveStory,l=e.onUpdateStory,u=e.onReplaceStories,d=e.searchQuery,b=e.stories,f=e.loading,p=e.total,j=e.visualization,h=e.isRulesType,O=Object(R.k)(),x=a.useState(!1),g=Object(F.a)(x,2),v=g[0],m=g[1],C=a.useState("yaml"),S=Object(F.a)(C,2),w=S[0],E=S[1],k=a.useState([0]),T=Object(F.a)(k,2),_=T[0],D=T[1],I=Object(y.h)().push,L=a.useState(b[_[0]]),N=Object(F.a)(L,2),U=N[0],M=N[1],P=a.useState(!1),q=Object(F.a)(P,2),G=q[0],V=q[1],W=a.useState(!1),K=Object(F.a)(W,2),Q=K[0],X=K[1],$=function(){return X(!1)};a.useEffect((function(){Z(d)}),[]),a.useEffect((function(){O(h?"view:rules:loaded":"view:stories:loaded")}),[h,O]);var Z=a.useCallback((function(e){r({search:e,offset:0,limit:20}),D([0])}),[r]);a.useEffect((function(){var e=function(e){return"Escape"===e.key&&D([0])};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),a.useEffect((function(){if(U&&"filename"in U&&U.filename){var e=".md"===Object(Ls.b)(null===U||void 0===U?void 0:U.filename)?"markdown":"yaml";E(e)}}),[U]);var J=a.useCallback((function(){D(_.slice(0,1))}),[_]);a.useEffect((function(){if(0!==Object.keys(b).length||v){if(Object.keys(b).length>0&&_.length>0){var e=_.map((function(e){return b[e].id}));o(e),1===_.length?M(b[_[0]]):M(null)}}else M(null)}),[v,o,_,b]);var ee=a.useCallback((function(e,t){return m(!1),"id"in e?l({story:e,isMarkdown:t}):(D([0]),i({story:e,isMarkdown:t}))}),[l,i]),te=a.useCallback((function(e){return p<=1?M(null):D([0]),t(e)}),[t,p]),ne=a.useCallback((function(){D([0]),m(!1)}),[]),re=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yaml";V(!1),_.length>0?(m(!0),M({story:h?tj:ej[e]}),E(e),D([]),o([])):ne()}),[ne,h,o,_.length]),ae=a.useCallback((function(){return re()}),[re]),oe=a.useCallback((function(e){var t=e.target.files&&e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&u({stories:n.result,fileName:t.name}),V(!1)},n.readAsText(t)}}),[u]),se=[{label:"Create new ".concat(h?"rule":"story"),onClick:function(){return re()}}].concat(Object(A.a)(h?[]:[{label:"Create new story (Markdown)",onClick:function(){return re("markdown")}}]),[{label:"Create with interactive learning",onClick:function(){return I("/interactive/strict")}}]),le=Object(s.jsx)(qc.a,{resource:h?Te.d.Rules:Te.d.Stories,action:Te.a.Create,yes:Object(s.jsx)(ba.a,{content:Object(s.jsx)(vf,{options:se}),offset:[0,8],visible:G,onClose:function(){return V(!1)},children:Object(s.jsx)(B.a,{variant:"headerIcon",active:G,onClick:function(){return V((function(e){return!e}))},children:Object(s.jsx)(ie.a,{icon:mo.faPlus})})})}),ue="Upload a new ".concat(h?"rules":"stories"," file. This will replace all existing ").concat(h?"rules":"stories","."),de=[le,Object(s.jsx)(qc.a,{resource:h?Te.d.Rules:Te.d.Stories,action:Te.a.Create,yes:Object(s.jsxs)(Mr.a,{content:ue,children:[Object(s.jsx)(B.a,{variant:"headerIcon",active:Q,onClick:function(){return X(!0)},children:Object(s.jsx)(ie.a,{icon:Uc.faArrowToTop})}),Object(s.jsx)(ba.a,{visible:Q,onClose:$,appendTo:"parent",content:Object(s.jsxs)(H.Flex,{p:5,flexDirection:"column",alignItems:"start",width:400,style:{textAlign:"left"},children:[Object(s.jsxs)(z.a,{variant:"h2",mb:3,children:["Replace existing ",h?"rules":"stories","?"]}),Object(s.jsx)(Y.a,{variant:"bodySecondary",mb:5,children:ue}),Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1,children:[Object(s.jsx)(pi,{large:!0,accept:".yaml, .yml",onUpload:oe,children:"Upload and replace"}),Object(s.jsx)(B.a,{large:!0,variant:"secondary",onClick:$,mr:2,children:"Cancel"})]})]})})]})}),Object(s.jsx)(qc.a,{resource:h?Te.d.Rules:Te.d.Stories,action:Te.a.Read,yes:Object(s.jsx)(Mr.a,{content:"Export ".concat(h?"rules":"stories"),children:Object(s.jsx)(B.a,{variant:"headerIcon",onClick:n,children:Object(s.jsx)(ie.a,{icon:Do.faArrowToBottom})})})})],be=Object(s.jsx)(Io.a,{sx:{height:"100%"},left:!0,children:Object(s.jsx)(mf.a,{style:{height:"100%"},resource:h?Te.d.Rules:Te.d.Stories,total:p,searchQuery:d,onSearch:Z,buttons:de})}),fe=_.length>1,pe=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Io.a,{right:!0,flex:"0 0 300px",children:0===Object.keys(b).length&&f?Object(s.jsxs)(cc.a,{children:["Loading ",h?"Rules":"Stories"]}):Object(s.jsx)(Mp,{isRulesType:h||!1,total:p,stories:b,searchQuery:d,selected:_,onSelect:D,onLoadMoreRows:c})}),U&&Object(s.jsx)(Io.a,{right:!0,sx:{overflow:"hidden"},flex:"1",children:Object(s.jsx)(Pp,{story:U,onSave:ee,onCancelAdd:ne,onDelete:te,format:w,isRulesType:h||!1})}),0!==p&&""!==j&&Object(s.jsxs)(H.Flex,{flexDirection:"column",flex:"1",children:[Object(s.jsx)(Io.a,{flex:"0 0 48px",bottom:!0,children:Object(s.jsxs)(H.Flex,{sx:{height:"100%"},px:4,alignItems:"center",children:[fe&&Object(s.jsx)(ie.a,{mr:2,color:"neutral_6",icon:Bp.faSitemap,fontSize:"16px"}),Object(s.jsx)(H.Box,{flex:"1",children:Object(s.jsx)(z.a,{variant:"h4",children:fe?"Compare":"Flow"})}),fe&&Object(s.jsx)(B.a,{variant:"plainIcon",onClick:J,children:Object(s.jsx)(ie.a,{icon:ce.faTimes,fontSize:"16px"})})]})}),Object(s.jsx)(al,{message:"Visualization has failed. Please refresh the page.",children:Object(s.jsx)(Jp,{dot:j,width:"100%",height:"100%"})})]})]}),je=Object(s.jsx)(qe,{heading:"You have no ".concat(h?"rules":"stories"," yet!"),body:Object(s.jsxs)(s.Fragment,{children:["To learn more about ",h?"rules":"stories",", go"," ",Object(s.jsx)(H.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:h?"//rasa.com/docs/rasa/rules/":"//rasa.com/docs/rasa/stories/",target:"_blank",children:"here"}),"."," "]}),image:Ge,actions:Object(s.jsxs)(B.a,{onClick:ae,large:!0,children:["Create new ",h?"rule":"story"]})}),he=0===p&&!f&&!v;return Object(s.jsx)(Ee.a,{title:Object(s.jsx)(H.Box,{width:251,children:h?"Rules":"Stories"}),content:be,noPadding:!0,fixedColumns:!0,children:Object(s.jsx)(H.Flex,{bg:"neutral_0",style:{height:"100%",overflow:"hidden"},children:he?je:pe})})}var rj=n(51),aj=n(207),oj={onFetchStories:rj.f.request,onFetchVisualization:rj.g.request,onChangeStorySelection:rj.c,onChangeStory:rj.b,onUpdateStory:rj.j.request,onSaveStory:rj.i.request,onDeleteStory:rj.d.request,onDownloadStories:rj.e,onReplaceStories:rj.h.request};var cj=Object(m.b)((function(e){return{stories:e.rules.rules,loading:e.rules.loading,selectedStories:e.rules.selectedRules,searchQuery:e.rules.searchQuery,role:e.auth.role,total:e.rules.total,visualization:e.rules.visualization}}),oj)((function(e){return Object(s.jsx)(Lp.a,{listener:aj.b,start:Object(Np.getType)(rj.f.request),resolve:Object(Np.getType)(rj.f.success),reject:Object(Np.getType)(rj.f.failure),children:function(t){return Object(s.jsx)(nj,Object(_.a)(Object(_.a)({},e),{},{isRulesType:!0,onLoadMoreRows:t}))}})})),ij={onFetchStories:af.f.request,onFetchVisualization:af.g.request,onChangeStorySelection:af.c,onChangeStory:af.b,onUpdateStory:af.m.request,onSaveStory:af.i.request,onDeleteStory:af.d.request,onDownloadStories:af.e,onReplaceStories:af.h.request};var sj=Object(m.b)((function(e){return{stories:e.stories.stories,loading:e.stories.loading,selectedStories:e.stories.selectedStories,searchQuery:e.stories.searchQuery,role:e.auth.role,total:e.stories.total,visualization:e.stories.visualization}}),ij)((function(e){return Object(s.jsx)(Lp.a,{listener:aj.b,start:Object(Np.getType)(af.f.request),resolve:Object(Np.getType)(af.f.success),reject:Object(Np.getType)(af.f.failure),children:function(t){return Object(s.jsx)(nj,Object(_.a)(Object(_.a)({},e),{},{onLoadMoreRows:t}))}})})),lj=n(537);function uj(e){var t=e.error,n=e.loading,r=e.lookupTables,o=e.onCreateLookupTable,c=e.onDeleteLookupTables,i=e.onDownloadLookupTable,l=e.total,u=me().addToast;a.useEffect((function(){!1===n.createLookupTable&&(t.createLookupTable?u({head:"Lookup Table file upload failed",content:"It seems something was wrong with the Lookup Table file you tried to upload. Please check the formatting of the file and try again.",variant:"error",key:"UploadLookupTablesFailed"}):u({head:"Upload succeeded",content:"Lookup Table upload has succeeded",key:"UploadLookupTablesSucceeded"}))}),[u,n.createLookupTable,t.createLookupTable]);var d=a.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&o({filename:t.name,content:window.btoa(unescape(encodeURIComponent(n.result)))})},n.readAsText(t)}}),[o]),b=a.useCallback((function(){return function(e){var t=e.rowData;return t?Object(s.jsx)(H.Flex,{alignItems:"center",children:Object(s.jsx)(H.Box,{flex:"1",pl:3,children:Object(s.jsx)(Y.a,{variant:"bodySecondary",children:t.name})})}):null}}),[]),f=function(e){var t=e.onResetCache;return function(e){var n=e.rowData,r=n;return r?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(qc.a,{resource:Te.d.Regexes,action:Te.a.List,yes:Object(s.jsx)(H.Box,{style:{display:"inline-block"},children:Object(s.jsx)(Mr.a,{content:"Download the file ".concat(n.name," to view its contents"),children:Object(s.jsx)(B.a,{ml:1,variant:"icon",onClick:function(){i({filename:n.name,lookupTableId:r.id})},children:Object(s.jsx)(ie.a,{icon:Do.faArrowToBottom})})})})}),Object(s.jsx)(qc.a,{resource:Te.d.Regexes,action:Te.a.Delete,yes:Object(s.jsx)(H.Box,{style:{display:"inline-block"},children:Object(s.jsx)(Mr.a,{content:"Delete ".concat(n.name),children:Object(s.jsx)(B.a,{ml:1,variant:"icon",onClick:function(){c([r]),t(!0)},children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})})})]}):null}};return Object(s.jsx)(lj.a,{total:l,buttons:[Object(s.jsx)(Mr.a,{content:"Upload lookup table file",hideOnClick:!0,children:Object(s.jsx)(pi,{accept:".txt",onUpload:d,variant:"headerIcon",children:Object(s.jsx)(ie.a,{icon:Uc.faArrowToTop})})})],title:"Lookup tables",data:r,resource:Te.d.Regexes,disableLabels:!0,noRowsRenderer:function(){return Object(s.jsx)(qe,{heading:"You have no lookup tables",imageWidth:125,image:Ge,pb:5,body:Object(s.jsxs)(H.Box,{width:128,children:["To learn more about lookup tables, go"," ",Object(s.jsx)(H.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#lookup-tables",target:"_blank",children:"here"}),"."," "]}),actions:Object(s.jsx)(pi,{accept:".txt",onUpload:d,large:!0,children:"Upload lookup table file"})})},children:function(e){return[Object(s.jsx)(Br.b,{cellDataGetter:function(){},flexGrow:2,width:300,style:{marginLeft:"16px"},dataKey:"lookupTable",className:"ReactVirtualized__Table__rowColumn_overflow",cellRenderer:b()},"lookupTable"),Object(s.jsx)(Br.b,{cellDataGetter:function(){},flexGrow:2,width:300,style:{marginLeft:"16px"},dataKey:"count",cellRenderer:function(e){var t=e.rowData;return t?Object(s.jsx)(H.Flex,{alignItems:"center",children:Object(s.jsx)(H.Box,{flex:"1",pl:3,children:Object(s.jsxs)(Y.a,{variant:"bodySecondary",color:"neutral_6",children:[t.number_of_elements," values"]})})}):null}},"count"),Object(s.jsx)(Br.b,{cellDataGetter:function(){},flexGrow:1,width:250,style:{textAlign:"right"},dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:f(e)},"actions")]}})}var dj=n(1177);function bj(e){var t=e.onCreateRegex,n=e.onClose,r=a.useState(""),o=Object(F.a)(r,2),c=o[0],i=o[1],l=a.useState(""),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useCallback((function(){t({name:c,pattern:d}),n(),i(""),b("")}),[t,n,c,i,d,b]);return Object(s.jsxs)(Kf,{width:1,onClickOutside:n,px:3,children:[Object(s.jsx)(H.Box,{width:1/3,mr:2,children:Object(s.jsx)(Pr.a,{autoFocus:!0,fullWidth:!0,onReturn:f,placeholder:"Enter a Regex name",value:c,onChangeValue:i,"data-qa":"new-regex_name-input"})}),Object(s.jsx)(H.Box,{mr:2,flex:1,children:Object(s.jsx)(Pr.a,{fullWidth:!0,fontFamily:"mono",fontSize:1,onReturn:f,placeholder:"Enter a Regex",value:d,onChangeValue:b,"data-qa":"new-regex_input"})}),Object(s.jsx)(H.Flex,{flexDirection:"row-reverse",style:{height:"100%"},children:Object(s.jsx)(B.a,{disabled:""===c||""===d,variant:"primary",onClick:f,large:!0,"data-qa":"save-new-regex_btn",children:"Save"})})]})}function fj(e){var t=e.onCreateRegex,n=e.onDeleteRegexes,r=e.onLoadMoreRows,o=e.onUpdateRegex,c=e.regexes,i=e.total,l=a.useState(null),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useState(""),p=Object(F.a)(f,2),j=p[0],h=p[1],O=a.useState(""),x=Object(F.a)(O,2),g=x[0],v=x[1],m=a.useCallback((function(e){return t&&Object(s.jsx)(bj,{onCreateRegex:t,onClose:e})}),[t]),y=a.useCallback((function(){return function(e){var t=e.rowData,n=e.rowIndex,r=t;return r?Object(s.jsx)(H.Flex,{alignItems:"center",children:Object(s.jsx)(H.Box,{flex:"1",pl:3,children:n===d?Object(s.jsx)(Kf,{onClickOutside:function(){return b(null)},shouldOmit:function(e){if(e.getAttribute("aria-rowindex")===(n+1).toString())return!0},children:Object(s.jsx)(Pr.a,{fullWidth:!0,autoFocus:!0,placeholder:"Regex name",value:j,onChangeValue:h,ml:-3,"data-qa":"update-regex_name"})}):Object(s.jsx)(Y.a,{variant:"bodySecondary",as:"div","data-qa":"regex_name-item_div",children:r.name})})}):null}}),[d,j]),C=function(e){var t=e.onResetCache;return function(e){var r=e.rowData,a=e.rowIndex,c=r;return c?Object(s.jsx)(s.Fragment,{children:a===d?Object(s.jsx)(B.a,{variant:"primary",large:!0,onClick:function(){o(Object(_.a)(Object(_.a)({},c),{},{name:j,pattern:g})),b(null),t(!0)},"data-qa":"save-updated_regex",children:"Save"}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(qc.a,{resource:Te.d.Regexes,action:Te.a.Update,yes:Object(s.jsx)(H.Box,{style:{display:"inline-block"},children:Object(s.jsx)(Mr.a,{content:"Edit",children:Object(s.jsx)(B.a,{ml:1,"data-qa":"edit-regex_btn",variant:"icon",onClick:function(){b(a),h(c.name),v(c.pattern)},children:Object(s.jsx)(ie.a,{icon:dj.faPen})})})})}),Object(s.jsx)(qc.a,{resource:Te.d.Regexes,action:Te.a.Delete,yes:Object(s.jsx)(H.Box,{style:{display:"inline-block"},children:Object(s.jsx)(Mr.a,{content:"Delete",children:Object(s.jsx)(B.a,{ml:1,"data-qa":"delete-regex_btn",variant:"icon",onClick:function(){n([c]),t(!0)},children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})})})]})}):null}};return Object(s.jsx)(lj.a,{total:i,title:"Regular expressions",data:c,onLoadMoreRows:r,addRenderer:m,resource:Te.d.Regexes,disableLabels:!0,focused:d,noRowsRenderer:function(e,t){return Object(s.jsx)(qe,{heading:"You have no regexes",imageWidth:125,pb:5,image:Ge,body:Object(s.jsxs)(s.Fragment,{children:["To learn more about regular expressions, go"," ",Object(s.jsx)(H.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#regular-expression-features",target:"_blank",children:"here"}),"."," "]}),actions:Object(s.jsx)(B.a,{large:!0,disabled:e,onClick:function(){return t&&t(!0)},"data-qa":"empty-state-create-regex_btn",children:"Create new regex"})})},children:function(e){return[Object(s.jsx)(Br.b,{flexGrow:1,cellDataGetter:function(){},width:440,style:{marginLeft:"16px",marginRight:"-8px"},dataKey:"regex",cellRenderer:y()},"regex"),Object(s.jsx)(Br.b,{flexGrow:1,cellDataGetter:function(){},width:600,style:{marginLeft:"0px",marginRight:0},dataKey:"pattern",cellRenderer:function(e){var t=e.rowData,n=e.rowIndex,r=t;return r?Object(s.jsx)(H.Flex,{alignItems:"center",children:Object(s.jsx)(H.Box,{flex:"1",pl:3,children:n===d?Object(s.jsx)(Pr.a,{fullWidth:!0,fontFamily:"mono",fontSize:1,placeholder:"Regex pattern",value:g,onChangeValue:v,ml:-3,"data-qa":"update-regex_pattern"}):Object(s.jsx)(Y.a,{variant:"code",as:"div","data-qa":"regex-item_div",children:r.pattern})})}):null}},"pattern"),Object(s.jsx)(Br.b,{cellDataGetter:function(){},width:100,flexShrink:0,style:{marginRight:"16px",textAlign:"right"},dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:C(e)},"actions")]}})}function pj(e){var t=e.error,n=e.loading,r=e.lookupTables,o=e.lookupTablesTotal,c=e.onCreateLookupTable,i=e.onCreateRegex,l=e.onDeleteLookupTables,u=e.onDeleteRegexes,d=e.onDownloadLookupTable,b=e.onLoadMoreRows,f=e.onUpdateRegex,p=e.regexes,j=e.regexesTotal,h=Object(R.k)();return a.useEffect((function(){h("view:regex-lookup:loaded")}),[h]),Object(s.jsxs)(H.Flex,{style:{minHeight:"480px"},children:[Object(s.jsx)(H.Flex,{flex:.5,pr:32,children:Object(s.jsx)(fj,{onCreateRegex:i,onDeleteRegexes:u,onLoadMoreRows:b,onUpdateRegex:f,regexes:p,total:j})}),Object(s.jsx)(H.Flex,{flex:.5,children:Object(s.jsx)(uj,{error:t,loading:n,lookupTables:r,onCreateLookupTable:c,onDeleteLookupTables:l,onDownloadLookupTable:d,total:o})})]})}var jj=n(37),hj={onCreateRegex:jj.b.request,onCreateLookupTable:jj.a.request,onFetchRegex:jj.g.request,onDownloadLookupTable:jj.e.request,onFetchLookupTables:jj.f.request,onFetchRegexes:jj.h.request,onDeleteRegexes:jj.d.request,onDeleteLookupTables:jj.c.request,onUpdateRegex:jj.i.request};var Oj=Object(m.b)((function(e){return{error:e.regexes.error,loading:e.regexes.loading,lookupTables:e.regexes.lookupTables,lookupTablesTotal:e.regexes.lookupTablesTotal,regexes:e.regexes.regexes,regexesTotal:e.regexes.regexesTotal,role:e.auth.role}}),hj)((function(e){var t=e.onFetchRegexes,n=e.onFetchLookupTables,r=e.regexes;return a.useEffect((function(){0===Object.keys(r).length&&(t({offset:0,limit:0}),n())}),[t,n,r]),Object(s.jsx)(Lp.a,{listener:aj.b,start:Object(Np.getType)(jj.h.request),resolve:Object(Np.getType)(jj.h.success),reject:Object(Np.getType)(jj.h.failure),children:function(t){return Object(s.jsx)(pj,Object(_.a)(Object(_.a)({},e),{},{onLoadMoreRows:t}))}})}));function xj(){var e=Object(E.a)(["\n  background: ",";\n  flex-direction: row;\n  height: auto;\n  padding-bottom: 12px;\n  width: 100%;\n  max-height: 400px;\n  border-radius: 0 0 10px 10px;\n  box-shadow: 0px 0px 4px ",";\n"]);return xj=function(){return e},e}var gj=Object(l.default)(H.Flex)(xj(),Object(Ef.a)("colors.neutral_0"),Object(Ef.a)("colors.neutral_6"));function vj(e){var t=e.show,n=e.onCancel,r=e.onSaveSynonym,o=e.references,c=e.onSaveSynonymValues,i=a.useState(!1),l=Object(F.a)(i,2),u=l[0],d=l[1],b=a.useState(null),f=Object(F.a)(b,2),p=f[0],j=f[1],h=a.useState(""),O=Object(F.a)(h,2),x=O[0],g=O[1],v=a.useState(""),m=Object(F.a)(v,2),y=m[0],C=m[1],S=a.useState([]),w=Object(F.a)(S,2),E=w[0],k=w[1],T=a.useCallback((function(){var e;""!==y&&(k([].concat(Object(A.a)(E),[y])),C(""),null===(e=I.current)||void 0===e||e.focus())}),[E,y]),_=a.useMemo((function(){return[].concat(Object(A.a)(E),Object(A.a)(""!==y?[y]:[])).map((function(e){return{value:e}}))}),[E,y]),R=a.useCallback((function(){k([]),g(""),C(""),j(null),d(!1)}),[k,g,j,C]),D=a.useCallback((function(){var e,t=null===(e=o.find((function(e){var t=e.id,n=e.synonym_reference;return p?t===p.value:n===x})))||void 0===e?void 0:e.id;t?c({id:t,mapped_values:_}):r({synonym_reference:x,mapped_values:_}),R(),n()}),[o,r,c,n,p,x,_,R]),I=a.useRef(null),L=a.useMemo((function(){return o&&o.map((function(e){return{label:e.synonym_reference,value:e.id}}))}),[o]),N=a.useMemo((function(){return E.map((function(e,t){return Object(s.jsxs)(H.Flex,{alignItems:"center",pb:3,children:[Object(s.jsx)(Pr.a,{value:e,onChangeValue:function(e){return k((function(n){return n.map((function(r){return n.indexOf(r)===t?e:r}))}))},placeholder:"Add synonym",fullWidth:!0}),Object(s.jsx)(Mr.a,{content:"Remove this synonym",hideOnClick:!0,delay:200,children:Object(s.jsx)(B.a,{variant:"plainIcon",fontSize:4,onClick:function(){return k(E.filter((function(t){return t!==e})))},children:Object(s.jsx)(ie.a,{icon:ce.faTimes})})})]},t)}))}),[E]);return t?Object(s.jsxs)(gj,{p:3,children:[Object(s.jsx)(H.Box,{width:320,py:2,className:"ReactVirtualized__Table__rowColumn",mr:"10px",children:u?Object(s.jsx)(Pr.a,{autoFocus:!0,fullWidth:!0,mr:2,value:x,onChangeValue:g,"data-qa":"new-synonym-reference_input"}):Object(s.jsx)(qr.a,{onCreate:function(){return d(!0)},placeholder:"Create or select a reference value","data-qa":"new-synonym-reference_select",value:p,items:L,onChange:function(e){return e&&j(e)},fullWidth:!0,autoFocus:!0})}),Object(s.jsxs)(H.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"3 1",py:2,sx:{overflow:"auto",maxHeight:400},mr:"10px",children:[N,Object(s.jsxs)(H.Flex,{alignItems:"center",children:[Object(s.jsx)(Pr.a,{ref:I,value:y,onChangeValue:function(e){return C(e)},placeholder:"Map a new synonym to this reference value","data-qa":"new-synonym_input",fullWidth:!0,onReturn:T}),Object(s.jsx)(Mr.a,{content:"Map a new synonym to this reference value",hideOnClick:!0,children:Object(s.jsx)(B.a,{variant:"plainIcon",fontSize:4,onClick:T,children:Object(s.jsx)(ie.a,{icon:mo.faPlus})})})]})]}),Object(s.jsx)(H.Box,{py:2,className:"ReactVirtualized__Table__rowColumn",flex:"1 1 150px",children:Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",justifyContent:"end",children:[Object(s.jsx)(B.a,{large:!0,disabled:!p&&""===x,mx:1,variant:"primary",onClick:D,"data-qa":"save-new-synonym_btn",children:"Save"}),Object(s.jsx)(B.a,{large:!0,mx:1,variant:"secondary",onClick:n,children:"Cancel"})]})})]}):null}var mj=n(2274),yj=n(2277);function Cj(e){var t=e.actions,n=e.onChangeSelected,r=e.resource,a=e.selectedIndices,o=e.total;return Object(s.jsxs)(H.Flex,{alignItems:"center",alignSelf:"stretch",justifyContent:"space-between",sx:{width:"100%",height:"56px",borderTopLeftRadius:"large",borderTopRightRadius:"large",borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",backgroundColor:"primary_2",borderBottomColor:"neutral_2",overflow:"hidden"},children:[Object(s.jsx)(H.Box,{ml:4,mr:3,children:Object(s.jsx)("label",{children:Object(s.jsx)(ea.a,{variant:"primary",checked:!0,partial:a.length<o,onChange:n})})}),Object(s.jsx)(H.Box,{flex:"1",children:Object(s.jsxs)(Y.a,{variant:"bodySecondary",fontWeight:1,color:"neutral_0",children:[Object(yj.a)(bf()(r.toString(),a.length,!0)).toLowerCase()," ","selected"]})}),Object(s.jsx)(mj.a,{spacing:8,children:Object(s.jsx)(H.Box,{mr:2,children:t})})]})}function Sj(e){var t=e.isSearch,n=e.onAddClick,r=e.addingActive;return Object(s.jsx)(qe,{heading:t?"There are no matches for this search":"You have no synonyms",imageWidth:125,pb:5,image:Ge,body:t?"Try a different search query or add more data.":Object(s.jsxs)(H.Box,{width:142,children:["To learn more about entity synonyms, see the"," ",Object(s.jsx)(H.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#synonyms",target:"_blank",children:"Rasa docs"}),"."," "]}),actions:Object(s.jsx)(B.a,{large:!0,disabled:r,onClick:n,"data-qa":"empty-state-create-synonym_btn",children:"Create new synonym"})})}function wj(e){var t=e.onDelete,n=(e.onLoadMoreRows,e.onSaveSynonym),r=e.onSearch,o=e.onUpdate,c=e.searchQuery,i=e.onUpdateSynonymReference,l=e.references,u=e.total,d=e.synonyms,b=e.onSaveSynonymValues,f=e.onNavigate,p=Object(R.n)(!1),j=Object(F.a)(p,2),h=j[0],O=j[1],x=a.useState(null),g=Object(F.a)(x,2),v=g[0],m=g[1],y=a.useState(""),C=Object(F.a)(y,2),S=C[0],w=C[1],E=a.useState(null),k=Object(F.a)(E,2),T=k[0],_=k[1],D=a.useState([]),I=Object(F.a)(D,2),L=I[0],N=I[1],U=a.useCallback((function(e){return"Search ".concat(e," synonyms...")}),[]),M=a.useCallback((function(e,t){N((function(n){return t?[].concat(Object(A.a)(n),[e]):n.filter((function(t){return t!==e}))}))}),[N]),P=a.useCallback((function(e){var t=e.name,n=e.newName;i({synonymId:d.find((function(e){return e.synonym_reference===t})).id,value:n})}),[i,d]),q=function(e){S!==e.value&&o({synonymId:d.find((function(t){return t.mapped_values.includes(e)})).id,valueId:e.id,newValue:S}),m(null)},G=a.useCallback((function(e){if(0!==e.length){var n=d.map((function(e){return e.id})),r=d.map((function(e){return e.synonym_reference})),a=e[0].synonymId;if(d.find((function(e){return e.id===a})).mapped_values.length===e.length){var o=n.indexOf(a);o<=0&&_(null),_(r[o-1])}t(e)}}),[d,t,_]),V=Object(s.jsx)(B.a,{variant:"headerIcon",onClick:O,active:h,"data-qa":"create-synonym_btn",children:Object(s.jsx)(ie.a,{icon:mo.faPlus})});return Object(s.jsx)(oc.a,{children:Object(s.jsxs)(H.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[L.length>0&&Object(s.jsx)(Cj,{actions:Object(s.jsx)(B.a,{onClick:function(){var e=T?d.find((function(e){return e.synonym_reference===T})):d[0];if(e){var t=L.map((function(t){return{valueId:e.mapped_values[t].id,synonymId:e.id}}));G(t)}N([])},variant:"inverse",children:"Delete"}),onChangeSelected:function(){return N([])},resource:Te.d.EntitySynonyms,selectedIndices:L,total:u}),0===L.length&&Object(s.jsx)(De.a,{buttons:[V],count:u,query:c,label:U,onChange:function(e){null===r||void 0===r||r(e)},onReturn:r}),Object(s.jsx)(H.Flex,{sx:{position:"absolute",top:"56px",left:0,zIndex:1},width:"100%",children:Object(s.jsx)(vj,{show:h,onCancel:O,onSaveSynonym:n,onSaveSynonymValues:b,references:l})}),Object(s.jsx)(np,{data:d,dataProp:"mapped_values",list:l.map((function(e){return e.synonym_reference})),selectedListElement:T,setSelectedListElement:_,listElementRenderer:function(e){return e},groupedTotal:u,onEditListElement:P,noRowsPlaceholder:Object(s.jsx)(Sj,{isSearch:c.length>0,onAddClick:O,addingActive:h}),children:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Co.a,{title:"",width:"30%",children:function(e,t){t.highlighted;var n=t.index;return Object(s.jsxs)(H.Flex,{alignItems:"center",children:[Object(s.jsx)(H.Box,{flex:"0 1 auto",mr:2,children:Object(s.jsx)("label",{children:Object(s.jsx)(ea.a,{checked:-1!==L.indexOf(n),onChange:function(){M(n,!L||-1===L.indexOf(n))}})})}),Object(s.jsx)(H.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(s.jsx)(H.Flex,{flexDirection:"row",alignItems:"center",children:n===v?Object(s.jsx)(H.Box,{width:320,children:Object(s.jsx)(Kf,{onClickOutside:function(){q(e)},children:Object(s.jsx)(Pr.a,{autoFocus:!0,fullWidth:!0,value:S,onChangeValue:w,onReturn:function(){q(e)}})})}):Object(s.jsx)(Y.a,{as:"div",variant:"bodySecondary",ml:2,"data-qa":"synonym-item_div",onClick:function(){m(n),w(e.value)},children:Object(s.jsx)(Mr.a,{content:e.value,children:e.value})})})})]})}}),Object(s.jsx)(Co.a,{title:"",width:"70%",children:function(e,t){t.highlighted,t.index;return Object(s.jsx)(H.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(s.jsx)(H.Flex,{flexDirection:"row",alignItems:"center",children:Object(s.jsx)(Y.a,{as:"div",variant:"bodySecondary",color:"neutral_6","data-qa":"synonym-usage-details_div",children:0!==e.nlu_examples_count?Object(s.jsxs)(s.Fragment,{children:[e.nlu_examples_count," NLU examples"]}):Object(s.jsx)(Mr.a,{appendTo:document.body,content:"For this synonym to work, please add NLU examples that include it",children:Object(s.jsxs)(Sb,{sx:{display:"inline-block"},children:[Object(s.jsx)(ie.a,{color:"neutral_6",icon:Vc.faInfoCircle,mr:1}),Object(s.jsx)(Y.a,{as:"div",color:"primary_1",sx:{cursor:"pointer",display:"inline"},onClick:function(){return f("/data/training-data")},children:"Add NLU examples"})," ","with this synonym in order for it to work"]})})})})})}}),Object(s.jsx)(Co.a,{title:"",children:function(e,t){t.highlighted,t.index;return Object(s.jsx)(H.Flex,{flexDirection:"row-reverse",mr:-1,children:Object(s.jsx)(qc.a,{resource:Te.d.EntitySynonyms,action:Te.a.Delete,yes:Object(s.jsx)(Mr.a,{content:"Delete",children:Object(s.jsx)(B.a,{mx:1,"data-qa":"delete-synonym_btn",onClick:function(){G([{synonymId:d.find((function(t){return t.mapped_values.includes(e)})).id,valueId:e.id}])},variant:"icon",children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})})})})}})]})}})]})})}function Ej(e){var t=e.onFetchSynonyms,n=e.onLoadMoreRows,r=e.onSaveSynonym,o=e.onSaveSynonymValues,c=e.onUpdateSynonymValue,i=e.onDeleteSynonymValues,l=e.onUpdateSynonymReference,u=e.references,d=e.searchQuery,b=e.synonyms,f=e.total,p=Object(R.k)();a.useEffect((function(){p("view:synonyms:loaded")}),[p]);var j=Object(y.h)().push,h=a.useCallback((function(e){return t({search:e})}),[t]);return Object(s.jsx)(wj,{onDelete:i,onLoadMoreRows:n,onSaveSynonym:r,onSaveSynonymValues:o,onSearch:h,onUpdate:c,references:u,searchQuery:d,onUpdateSynonymReference:l,synonyms:b,total:f,onNavigate:j})}var kj={onFetchSynonyms:Ai.b.request,onSaveSynonym:Ai.c.request,onSaveSynonymValues:Ai.d.request,onUpdateSynonymValue:Ai.f.request,onUpdateSynonymReference:Ai.e.request,onDeleteSynonymValues:Ai.a.request};var Tj=Object(m.b)((function(e){return{synonyms:e.synonyms.synonyms,role:e.auth.role,searchQuery:e.synonyms.searchQuery,references:e.synonyms.references,total:e.synonyms.total}}),kj)((function(e){e.history;var t=Object(V.a)(e,["history"]),n=t.searchQuery,r=t.onFetchSynonyms;a.useEffect((function(){r({search:n})}),[r,n]);var o=Object(R.g)(Ai.b);return Object(s.jsx)(Ej,Object(_.a)(Object(_.a)({},t),{},{onLoadMoreRows:o}))}));function Aj(e){var t=e.onClick;return Object(s.jsx)(Mr.a,{hideOnClick:!0,textAlign:"left",content:"Download this data as a file, it will contain all your training data, synonyms, regexes, and references to lookup tables.",children:Object(s.jsx)(B.a,{variant:"headerIcon",onClick:t,children:Object(s.jsx)(ie.a,{icon:Do.faArrowToBottom})})})}function _j(e){var t=e.loading,n=e.error,r=e.onUploadExamples,o=Object(V.a)(e,["loading","error","onUploadExamples"]),c=o.onClose,i=me().addToast,l=a.useState(null),u=Object(F.a)(l,2),d=u[0],b=u[1],f=a.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&(b(n.result),r({examples:n.result,fileName:t.name})),c()},n.readAsText(t)}}),[c,r]);return a.useEffect((function(){!t&&!n&&d&&d.match(/## lookup:/m)&&i({head:"Lookup Tables in nlu.md will be ignored",content:"To include lookup tables, please upload lookup table files separately. Lookup tables within nlu.md will no longer be recognized.",variant:"error",key:"LookupTablesIgnored"})}),[t,n,i,d]),Object(s.jsx)(ba.a,Object(_.a)({content:Object(s.jsxs)(H.Flex,{p:5,flexDirection:"column",alignItems:"start",width:400,style:{textAlign:"left"},children:[Object(s.jsx)(z.a,{variant:"h2",mb:3,children:"Replace existing NLU file?"}),Object(s.jsx)(Y.a,{variant:"bodySecondary",mb:5,children:"Uploading a new NLU file will replace the existing one. All parts of the NLU file including training data, synonyms, regexes and references to lookup tables will also be replaced. To include lookup tables, please upload lookup table files separately."}),Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1,children:[Object(s.jsx)(pi,{accept:".json, .md, .yml, .yaml",onUpload:f,large:!0,ml:2,children:"Upload and replace"}),Object(s.jsx)(B.a,{large:!0,variant:"secondary",onClick:c,children:"Cancel"})]})]}),offset:[0,8],appendTo:"parent"},o))}var Fj=function(e){return Array.isArray(e)?e:[e]},Rj=n(295).a.filter,Dj={date:{label:"Date",test:function(e){return e.from&&e.from.length>0},transformContent:function(e){var t=Object(Ci.g)(e);return"Custom"===t.label?Object(Ci.d)(Yo()(e.from,["YYYY-MM-D","D/M/YYYY"]))+" - "+(e.to?Object(Ci.d)(Yo()(e.to,["YYYY-MM-D","D/M/YYYY"])):"Today"):t.label}},intents:{label:"Intents",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}}},Ij=a.memo((function(e){var t=e.filter,n=e.onChange,r=Object.keys(Dj).filter((function(e){return Dj[e].test(t[e])}));return 0===r.length?null:Object(s.jsx)(H.Flex,{pl:2,alignItems:"center",sx:{minWidth:"auto"},children:r.map((function(e){return Object(s.jsx)(H.Box,{children:Object(s.jsx)(is.a,{label:Dj[e].label,content:Dj[e].transformContent(t[e]),active:!0,onChange:function(){return n(Object(_.a)(Object(_.a)({},t),{},{[e]:Rj[e]}))},mr:2})},e)}))})})),Lj=n(1178);function Nj(e){var t=e.onShowAnnotationPopup,n=e.example,r=e.onChange,o=e.showEntityPopup,c=Object(V.a)(e,["onShowAnnotationPopup","example","onChange","showEntityPopup"]),i=a.useCallback((function(e,t){return r(Object(_.a)(Object(_.a)({},n),{},{text:e,entities:t}))}),[n,r]);return Object(s.jsx)(Ll,Object(_.a)({showPopup:o,entities:n.entities,onChange:i,setShowPopup:t,text:n.text},c))}function Bj(e){var t=e.emptyStatePlaceholder,n=e.entityGroups,r=e.entityRoles,o=e.entityTypes,c=e.examples,i=e.intents,l=e.loading,u=e.onChange,d=e.onDelete,b=e.onLoadMoreRows,f=e.onSave,j=e.synonyms,h=e.totalExamples,O=a.useState(null),x=Object(F.a)(O,2),g=x[0],v=x[1],m=a.useState(null),y=Object(F.a)(m,2),C=y[0],S=y[1],w=$s(),E=w.expandedRows,k=w.getOnCollapseRow,T=Object(R.f)(Te.d.Examples,Te.a.Delete),A=Object(R.f)(Te.d.Examples,Te.a.Update),D=a.useCallback((function(e,t){var n=Bl(e,t,g);v(n)}),[g]),I=function(e){return{visibility:"hidden",[".table-row:hover &.".concat(e)]:{visibility:"visible"}}},L=Object(p.b)("Save changes"),N=Object(p.b)("Delete");return Object(s.jsxs)(yo.a,{emptyStatePlaceholder:t,getKey:function(e){return e.id},loading:l,onLoadMore:b,rows:c,rowStyle:{alignItems:"flex-start"},stripeSelection:!0,total:h,variant:"flattened",children:[Object(s.jsx)(Co.a,{title:"Sentence",width:300,flex:"1 1",children:function(e,t){var a=t.index;return Object(s.jsx)(H.Box,{py:4,onMouseEnter:function(){return S(a)},children:Object(s.jsx)(al,{children:Object(s.jsx)(Nj,{example:e,interactive:g===a||null===g&&C===a,showEntityPopup:g===a,onShowAnnotationPopup:function(e){return D(e,a)},onChange:u,entityTypes:o,entityRoles:r,entityGroups:n,synonyms:j,onCollapse:k(a),collapsed:!E[a]})})})}}),Object(s.jsx)(Co.a,{width:50,children:function(e,t){var n=t.index;return Object(s.jsx)(H.Flex,{flexShrink:0,width:"40px",className:"edit-btn",sx:I("edit-btn"),py:"".concat(12,"px"),children:Object(s.jsx)(Ml,{entities:e.entities,interactive:g===n||null===g,onChange:function(t,n){return u(Object(_.a)(Object(_.a)({},e),{},{text:t,entities:n}))},onShowAnnotationPopup:function(e){return D(e,n)},text:e.text})})}}),Object(s.jsx)(Co.a,{title:"Intent",width:200,flex:"1 1",children:function(e){return Object(s.jsx)(H.Flex,{width:"100%",alignItems:"flex-start",py:"".concat(12,"px"),children:Object(s.jsx)(Ss,{fullWidth:!0,autoFocus:!1,rankedIntents:[],intent:e.intent,onChange:function(t){return u(Object(_.a)(Object(_.a)({},e),{},{intent:t.name}))},intents:i})})}}),Object(s.jsx)(Co.a,{width:100,flex:"1 1",children:function(e){return Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",mr:-1,py:"".concat(12,"px"),children:[T&&Object(s.jsx)(H.Box,{className:"delete-btn",sx:I("delete-btn"),children:Object(s.jsx)(B.a,{ref:N,mx:1,onClick:function(){return d(e)},variant:"icon",children:Object(s.jsx)(ie.a,{icon:ze.faTrashAlt})})}),A&&Object(s.jsx)(H.Box,{className:"save-btn-".concat(e.id),sx:Object(_.a)({},e.isDirty?I("save-btn-".concat(e.id)):{visibility:"hidden"}),children:Object(s.jsx)(B.a,{mx:1,onClick:function(){return f(e)},variant:"icon",active:e.isDirty,ref:L,children:Object(s.jsx)(ie.a,{icon:Lj.faSave})})})]})}})]})}function Uj(e){var t=e.intents,n=e.onClose,o=e.onSaveExample,c=Object(m.c)(),i=Object(m.d)((function(e){return e.suggestions.draftSuggestionExists})),l=a.useState(r.b),u=Object(F.a)(l,2),d=u[0],b=u[1],f=Object(Ob.a)(a.useCallback((function(e){return c(Si.b.request(e))}),[c]),2);a.useEffect((function(){""!==d.text&&f(d.text)}),[d.text,f]);var p=a.useCallback((function(){b((function(e){return o(e),r.b}))}),[o,b]),j=a.useMemo((function(){return!i&&Object(r.ud)(d)}),[d,i]);return Object(s.jsxs)(H.Flex,{sx:{width:"100%",pr:zs.a},"data-qa":"training-data-new-row_div",children:[Object(s.jsx)(H.Box,{flex:"3 1 300px",children:Object(s.jsx)(Pr.a,{"data-qa":"training-data-new-row-sentence_input",fullWidth:!0,placeholder:"Add a new sentence...",value:d.text,onChangeValue:function(e){return b((function(t){return Object(_.a)(Object(_.a)({},t),{},{text:e})}))},invalid:i,onReturn:j?p:void 0,autoFocus:!0})}),Object(s.jsx)(H.Box,{mx:"10px",children:Object(s.jsx)(Ss,{"data-qa":"training-data-new-row-intent_input",rankedIntents:[],intent:d.intent,onChange:function(e){return b((function(t){return Object(_.a)(Object(_.a)({},t),{},{intent:e.name})}))},onReturn:function(){return j&&p()},intents:t,fullWidth:!0})}),Object(s.jsx)(H.Box,{width:150,flex:"1 1 150px",children:Object(s.jsxs)(H.Flex,{flexDirection:"row-reverse",mr:-1,style:{height:"100%"},children:[Object(s.jsx)(B.a,{"data-qa":"training-data-new-row-save_button",mx:1,variant:"primary",disabled:!j,onClick:p,children:"Save"}),Object(s.jsx)(B.a,{mx:1,variant:"secondary",onClick:n,bg:"neutral_0",children:"Cancel"})]})})]})}function Mj(){var e=Object(m.d)((function(e){return e.examples.entityGroups})),t=Object(m.d)((function(e){return e.examples.entityRoles})),n=Object(m.d)((function(e){return e.examples.entityTypes})),r=Object(m.d)((function(e){return e.examples.examples})),o=Object(m.d)((function(e){return e.examples.filter})),c=Object(m.d)((function(e){return e.examples.intents})),i=Object(m.d)((function(e){return e.examples.loading})),l=Object(m.d)((function(e){return e.examples.searchQuery})),u=Object(m.d)((function(e){return e.synonyms.synonyms})),d=Object(m.d)((function(e){return e.examples.initialFetchComplete})),b=Object(m.d)((function(e){return e.examples.filterPresentOnLoad})),f=Object(m.c)(),p=Object(y.h)().push,j=a.useCallback((function(e){return f(yi.k.request(e))}),[f]),h=a.useCallback((function(e){return f(yi.b(e))}),[f]),O=a.useCallback((function(e){return f(yi.d.request(e))}),[f]),x=a.useCallback((function(e){return f(yi.o.request(Fj(e)))}),[f]),g=a.useCallback((function(e){return f(yi.r.request(Fj(e)))}),[f]),v=Object(R.k)();a.useEffect((function(){v("view:suggestions:loaded")}),[v]);var C=a.useMemo((function(){return r.some((function(e){return e.isDirty}))}),[r]);va({hasChanges:C});var S=a.useCallback((function(e){return"Search ".concat(e," items")}),[]),w=a.useState(l),E=Object(F.a)(w,2),k=E[0],T=E[1],A=a.useState(o),_=Object(F.a)(A,2),D=_[0],I=_[1],L=Object(R.n)(!1),N=Object(F.a)(L,2),M=N[0],P=N[1],q=Object(s.jsx)(Ij,{filter:D,onChange:function(e){I(e)}}),H=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B.a,{variant:"headerIcon",onClick:P,active:M,children:Object(s.jsx)(ie.a,{icon:gi.faSlidersH})}),Object(s.jsx)(cs,{filter:D,expanded:M,offset:[-4,-4],onApply:function(e){"Example"===e.type&&I(e),M&&P()},onCancel:function(){M&&P()}})]}),G=Object(R.n)(!1),V=Object(F.a)(G,2),z=V[0],Y=V[1],W=Object(s.jsx)(B.a,{variant:"headerIcon",onClick:Y,active:z,"data-qa":"table-header-add_button",children:Object(s.jsx)(ie.a,{icon:mo.faPlus})});a.useEffect((function(){f(yi.f.request()),f(Ai.b.request({search:""}))}),[f]);var K=a.useCallback((function(e){i.fetchExamples||j({search:k,offset:Math.max(1,e-50),limit:50,filter:D})}),[j,i.fetchExamples,D,k]),Q=Object(y.i)().pathname,X=Object(_e.a)(Q);return Object(R.a)((function(){var e=0===r.length&&!d,t=Q!==X,n=k!==l,a=!mi()(o,D);(e||t||n||a||b)&&j({search:k,filter:D,offset:0,limit:50})}),200,[D,b,l,k]),Object(s.jsx)(oc.a,{children:Object(s.jsxs)(U.a,{sx:{minWidth:"790px",width:"100%",height:"calc(100% - 56px)"},children:[Object(s.jsx)(U.d,{width:"100%",sx:{backgroundColor:"white",borderTopLeftRadius:"16px",borderTopRightRadius:"16px"},children:Object(s.jsx)(De.a,{buttons:[W,H],count:r.length,filterTablets:q,query:k,label:S,onChange:T,loading:i.fetchExamples&&k.length>0,children:z&&Object(s.jsx)(Uj,{intents:c,onClose:Y,onSaveExample:x})})}),Object(s.jsx)(Bj,{entityTypes:n,entityRoles:t,entityGroups:e,examples:r,intents:c,onChange:h,onDelete:O,loading:!d,onLoadMoreRows:K,onSave:g,totalExamples:r.length,synonyms:u,emptyStatePlaceholder:Object(s.jsx)(qe,{heading:l.length>0?"There are no matches for this search":"You have no training data yet!",body:l.length>0?"Try a different search query or add more data.":"You have no training data. Create new training data or annotate new data from the NLU Inbox.",image:zl,actions:Object(s.jsx)(B.a,{onClick:function(){return p("/nlu-inbox")},large:!0,children:l.length>0?"Search the NLU Inbox":"Go to the NLU Inbox"})})})]})})}function Pj(e){var t=e.loading,n=e.error,r=e.location,o=e.match,c=e.onDownloadExamples,i=e.onNavigate,l=e.onUploadExamples,u=me().addToast,d=a.useRef(!0);a.useEffect((function(){d.current?d.current=!1:!1===t.uploadExamples&&(n.uploadExamples?u({head:"Upload failed",content:"Training data upload failed",variant:"error"}):u({head:"Upload succeeded",content:"Training data upload has succeeded"}))}),[u,t.uploadExamples,n.uploadExamples]);var b=o.url,f=r&&r.pathname,p=a.useState(!1),j=Object(F.a)(p,2),h=j[0],O=j[1],x={lookup:No()(b,"lookup"),trainingData:No()(b,"training-data"),synonyms:No()(b,"synonyms")},g={lookup:!!Object(y.g)(f,{path:x.lookup}),trainingData:!!Object(y.g)(f,{path:[b,x.trainingData]}),synonyms:!!Object(y.g)(f,{path:x.synonyms})},v=Object(s.jsxs)(Oc.a,{children:[Object(s.jsx)(qc.a,{resource:Te.d.Examples,action:Te.a.Read,yes:Object(s.jsx)(hc.a,{onClick:function(){return i(x.trainingData)},active:g.trainingData,children:"Training data"})}),Object(s.jsx)(qc.a,{resource:Te.d.Regexes,action:Te.a.Read,yes:Object(s.jsx)(hc.a,{onClick:function(){return i(x.lookup)},active:g.lookup,"aria-label":"Regex and Lookup",children:"Regex & Lookup"})}),Object(s.jsx)(hc.a,{onClick:function(){return i(x.synonyms)},active:g.synonyms,"aria-label":"Synonyms",children:"Synonyms"})]});return Object(s.jsxs)(Ee.a,{title:"NLU Training Data",centreContent:v,rightContent:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Io.a,{left:!0,children:Object(s.jsx)(_j,{visible:h,onClose:function(){return O(!1)},onUploadExamples:l,loading:t.uploadExamples,error:n.uploadExamples,children:Object(s.jsx)(Mr.a,{hideOnClick:!0,textAlign:"left",content:"Upload a new NLU file. This will replace all parts of the NLU file including training data, synonyms, regexes and references to lookup tables. To include lookup tables, please upload lookup table files separately.",children:Object(s.jsx)(B.a,{variant:"headerIcon",active:h,onClick:function(){return O(!h)},children:Object(s.jsx)(ie.a,{icon:Uc.faArrowToTop})})})})}),Object(s.jsx)(Io.a,{left:!0,children:Object(s.jsx)(Aj,{onClick:c})})]}),children:[Object(s.jsx)(y.c,{exact:!0,path:b,component:Mj}),Object(s.jsx)(y.c,{exact:!0,path:x.lookup,component:Oj}),Object(s.jsx)(y.c,{exact:!0,path:x.trainingData,component:Mj}),Object(s.jsx)(y.c,{exact:!0,path:x.synonyms,component:Tj})]})}var qj={onFetchIntents:yi.l.request,onTrainModel:Oo.n.request,onUploadExamples:yi.s.request,onDownloadExamples:yi.e};var Hj=Object(m.b)((function(e){return{modelIsTraining:e.models.modelIsTraining,role:e.auth.role,apiToken:e.auth.apiToken,loading:e.examples.loading,error:e.examples.error}}),qj)((function(e){var t=e.onFetchIntents,n=Object(V.a)(e,["onFetchIntents"]);a.useEffect((function(){t()}),[t]);var r=Object(y.h)().push,o=Object(y.i)(),c=Object(y.k)();return Object(s.jsx)(Pj,Object(_.a)({onNavigate:r,location:o,match:c},n))})),Gj=Object(u.a)((function(){return Promise.all([n.e(0),n.e(5),n.e(8)]).then(n.bind(null,2582))}),{fallback:Object(s.jsx)(cc.a,{pt:7,children:"Loading Analytics"})}),Vj=Object(u.a)((function(){return n.e(9).then(n.bind(null,2581))}),{fallback:Object(s.jsx)(cc.a,{pt:7,children:"Loading Roles"})}),zj=Object(u.a)((function(){return n.e(6).then(n.bind(null,2579))}),{fallback:Object(s.jsx)(cc.a,{pt:7,children:"Loading Users"})}),Yj=Object(v.createBrowserHistory)({basename:Ce.b}),Wj=Object(aj.a)(Yj),Kj=Wj.store,Qj=Wj.persistor,Xj=Object(l.default)(S.BaseModalBackground).attrs((function(){return{"data-e2e":"ModalBackground"}})).withConfig({displayName:"App__StyledModalBackground",componentId:"t51pt2-0"})(["z-index:110;opacity:0;transition:all cubic-bezier(0.46,0.1,0.52,0.98) 250ms;"]);function $j(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(T,{}),Object(s.jsx)(m.a,{store:Kj,children:Object(s.jsx)(C.a,{persistor:Qj,children:Object(s.jsx)(Se,{children:Object(s.jsx)(y.d,{history:Yj,children:Object(s.jsx)(g,{children:Object(s.jsx)(l.ThemeProvider,{theme:h.b,children:Object(s.jsx)(I,{children:Object(s.jsx)(ee,{children:Object(s.jsx)(ve,{children:Object(s.jsx)(S.ModalProvider,{backgroundComponent:Xj,children:Object(s.jsxs)(y.e,{children:[Gj&&Object(s.jsx)(vd,{authRequired:!0,path:"/analytics",component:Gj}),Object(s.jsx)(vd,{authRequired:!0,path:"/interactive",component:Yf}),Object(s.jsx)(y.b,{from:"/talk",to:"/interactive"}),Object(s.jsx)(vd,{authRequired:!0,path:"/conversations/:conversationId?/:timestamp?",component:cf}),Object(s.jsx)(vd,{authRequired:!0,path:"/nlu-inbox",component:Kl}),Object(s.jsx)(vd,{authRequired:!0,path:"/data",component:Hj}),Object(s.jsx)(vd,{authRequired:!0,path:"/models",component:Oi}),Object(s.jsx)(vd,{authRequired:!0,path:"/environments",component:Ro}),Object(s.jsx)(vd,{authRequired:!0,path:"/responses",component:Ip}),Object(s.jsx)(vd,{authRequired:!0,path:"/config",component:Yd}),Object(s.jsx)(vd,{authRequired:!0,path:"/domain",component:Sf}),Object(s.jsx)(vd,{authRequired:!0,path:"/rules",component:cj}),Object(s.jsx)(vd,{authRequired:!0,path:"/stories",component:sj}),Object(s.jsx)(vd,{authRequired:!0,path:"/blueprints/flows/:flowId",component:jo}),Object(s.jsx)(vd,{authRequired:!0,path:"/blueprints",component:Nd}),Object(s.jsx)(vd,{authRequired:!0,path:"/insights",component:gc}),zj&&Object(s.jsx)(vd,{authRequired:!0,path:"/users",component:zj}),Vj&&Object(s.jsx)(vd,{authRequired:!0,path:"/roles",component:Vj}),Object(s.jsx)(y.b,{from:"/data/settings",to:"/config"}),Object(s.jsx)(y.c,{path:"/guest/conversations/:environment/:chatToken",component:If}),Object(s.jsx)(y.c,{path:"/login",component:Bc}),Object(s.jsx)(y.c,{path:"/enterprise-login/:singleUseToken",component:Bc}),Object(s.jsx)(y.c,{path:"/invite",component:Dc}),Object(s.jsx)(_c,{})]})})})})})})})})})})})]})}Object(r.Wc)(Ce.a);var Zj=document.getElementById("root");Zj&&i.a.render(a.createElement($j),Zj)},2244:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(1);function a(e,t){for(var n=e;null===n||void 0===n?void 0:n.parentElement;){if(t(n))return!0;n=n.parentElement}return!1}var o=function(e,t,n){r.useEffect((function(){if(t){var r=function(r){if(e.current){var o=r.target;e.current.contains(o)||n&&a(o,n)||t(r)}};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}}),[t,n,e])}},2245:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(0),a=n(349),o=n(427),c=n(1),i=n(61),s=n(562),l=n(2250),u=n(21),d=n(1183),b=n(266),f=n(1185),p=n(2246),j=n(1186),h=n(1188),O=n(742),x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},m=o.a.stateChangeTypes,y=c.forwardRef((function(e,t){return Object(r.jsx)(d.a,x({py:2,variant:"plainDropdown",ref:t},e,{children:Object(r.jsx)(b.a,{icon:a.faChevronDown,fontSize:"12px"},void 0)}),void 0)})),C=c.forwardRef((function(e,t){return Object(r.jsx)(f.a,x({p:0,m:0,boxShadow:"selectBox",ref:t},e,{style:x(x({},e.style||{}),{overflow:"hidden",border:0,zIndex:99999,display:"inline-block"})}),void 0)})),S=function(e){var t=e.onClick,n=e.onHover,a=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(p.a,{},void 0),Object(r.jsx)(j.a,x({onClick:t,onMouseMove:n,tabIndex:0,variant:"primary","data-qa":"select-create-button"},{children:a}),void 0)]},void 0)},w={placement:"bottom-start",modifiers:[{name:"flip",options:{fallbackPlacements:["bottom-end","top-start","top-end","right","left"]}},{name:"offset",options:{offset:[0,8]}}]};function E(e){var t=e.block,n=e.createNewText,a=void 0===n?"Create new":n,d=e.disabled,b=e.closeOnCreate,f=e.clearOnCreate,p=e.fullWidth,E=e.fullHeight,k=e.hideSelected,T=e.invalid,A=e.items,_=void 0===A?[]:A,F=e.itemsAreEqual,R=void 0===F?function(e,t){return e&&t?e.value===t.value:e===t}:F,D=e.itemToString,I=e.menuIsOpen,L=e.onBackspaceEmpty,N=e.onChange,B=e.onCreate,U=e.onEscape,M=e.onMenuClose,P=e.onMenuOpen,q=e.onReturn,H=e.placeholder,G=e.portalRef,V=e.customPrefix,z=e.prefix,Y=e.renderItem,W=void 0===Y?function(e,t){return t}:Y,K=e.suffix,Q=e.toggleButtonProps,X=void 0===Q?{}:Q,$=e.value,Z=e.onInputFieldChange,J=g(e,["block","createNewText","disabled","closeOnCreate","clearOnCreate","fullWidth","fullHeight","hideSelected","invalid","items","itemsAreEqual","itemToString","menuIsOpen","onBackspaceEmpty","onChange","onCreate","onEscape","onMenuClose","onMenuOpen","onReturn","placeholder","portalRef","customPrefix","prefix","renderItem","suffix","toggleButtonProps","value","onInputFieldChange"]),ee=c.useCallback((function(e){return D?D(e):e?e.label:""}),[D]),te=c.useState(_),ne=te[0],re=te[1],ae=c.useState(""),oe=ae[0],ce=ae[1],ie=c.useState($||void 0),se=ie[0],le=ie[1],ue=Object(O.a)($);c.useEffect((function(){$!==ue&&$!==se&&le($||void 0)}),[ue,$,se]),c.useEffect((function(){if(Z)Z(oe),re(_);else{var e=new RegExp(v(oe||""),"i");re(_.filter((function(t){return ee(t).match(e)})))}}),[oe,_,ee,Z,v,ee]);var de=c.useState(null),be=de[0],fe=de[1],pe=c.useState(null),je=pe[0],he=pe[1],Oe=Object(l.a)(be,je,w),xe=Oe.styles,ge=Oe.attributes,ve=Oe.update,me=Oe.forceUpdate,ye=Object(o.a)({items:ne,inputValue:oe,itemToString:ee,selectedItem:se,onStateChange:function(e){switch(e.type){case m.InputChange:return ve&&ve(),void ce(e.inputValue||"");case m.InputKeyDownEnter:case m.ItemClick:case m.FunctionSelectItem:ce("");var t=e.selectedItem?e.selectedItem:_.find((function(t){return ee(t)===e.inputValue}));return N(t||null),le(t),void Ce();case m.FunctionOpenMenu:return void(e.isOpen&&(me&&me(),P&&P()));case m.InputBlur:case m.InputKeyDownEscape:case m.FunctionCloseMenu:return void(e.isOpen||M&&M())}}}),Ce=ye.closeMenu,Se=ye.getComboboxProps,we=ye.getInputProps,Ee=ye.getItemProps,ke=ye.getMenuProps,Te=ye.getToggleButtonProps,Ae=ye.highlightedIndex,_e=ye.isOpen,Fe=ye.openMenu,Re=ye.selectItem,De=ye.setHighlightedIndex,Ie=Object(r.jsxs)(r.Fragment,{children:[K,Object(r.jsx)(y,x({},Te(x(x(x({},X),{disabled:d}),"inverse"===J.variant?{variant:"plain"}:{})),{ml:3}),void 0)]},void 0),Le=_e||I?i.createPortal(Object(r.jsx)(C,x({},ke({ref:Object(s.a)([he,G||null])}),ge.popper,{style:xe.popper,"data-qa":"select-dropdown_box"},{children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.a,x({style:{maxHeight:"240px",overflow:"auto",display:"grid",width:((null===be||void 0===be?void 0:be.clientWidth)||0)+"px",minWidth:"240px"}},{children:ne.map((function(e,t){var n=R(se,e),a=Ae===t;if(n&&k)return null;var o=ee(e);return Object(r.jsx)(j.a,x({isSelected:n,isFocused:a,children:W(e,o),colorNuance:e.color},Ee({item:e,index:t,disabled:d,onMouseDown:function(){return Re(e)}})),""+o+t)}))}),void 0),B&&Object(r.jsx)(S,x({onClick:function(){B(oe),b&&Ce(),f&&ce("")},onHover:function(){return De(-1)}},{children:a}),void 0)]},void 0)}),void 0),document.body):Object(r.jsx)("span",x({},ke()),void 0);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h.a,x({block:t,prefix:z,customPrefix:V,suffix:Ie,containerProps:Se({ref:fe}),colorNuance:null===$||void 0===$?void 0:$.color,fullWidth:p,fullHeight:E,invalid:T,placeholder:$?W($,ee($)):H,darkenPlaceholder:!!$},we({disabled:d,onKeyDown:function(e){switch(e.key){case"Enter":return void(!_e&&q&&q());case"Escape":return void(!_e&&U&&U());case"Backspace":return void(""===oe&&L&&L())}},onFocus:Fe}),J),void 0),Le]},void 0)}},2246:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(21),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function i(e){var t=e.barColor,n=void 0===t?"neutral_4":t,i=e.variant,s=void 0===i?"center":i,l=c(e,["barColor","variant"]),u={bg:n,content:'" "',height:"1px",display:"block",flex:"1 1 auto"};return Object(r.jsx)(a.d,o({variant:"separator."+s,m:0},l,{sx:{width:"100%",alignItems:"center",whiteSpace:"nowrap","&::before":u,"&::after":u}}),void 0)}},2247:function(e,t,n){"use strict";var r=n(0),a=n(139),o=n(1),c=n(21),i=n(24),s=n(217),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},d=Object(a.default)(c.c)(Object(i.compose)(i.border,i.maxWidth)),b=o.forwardRef((function(e,t){var n=e.as,a=e.fontSize,o=e.fontWeight,c=e.children,i=e.color,b=(e.tooltipContent,e.onClick),f=(e.css,u(e,["as","fontSize","fontWeight","children","color","tooltipContent","onClick","css"]));return Object(r.jsx)(d,l({sx:{display:"inline-block",borderRadius:"100px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",cursor:b?"pointer":void 0},onClick:b},f,{ref:t},{children:Object(r.jsx)(s.a,l({as:n,color:i,fontWeight:o,fontSize:a},{children:c}),void 0)}),void 0)}));b.defaultProps={px:3,py:2,fontSize:"12px",fontWeight:"bold"},t.a=o.memo(b)},2248:function(e,t,n){"use strict";var r=n(0),a=n(59),o=n(1),c=n(21),i=n(2247),s=n(266),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},d=o.forwardRef((function(e,t){var n=e.active,o=e.label,d=e.content,b=e.cannotBeCancelled,f=e.onChange,p=e.onClick,j=e.permanent,h=e.total,O=e.bg,x=void 0===O?"primary_2":O,g=e.color,v=void 0===g?"neutral_0":g,m=(e.css,u(e,["active","label","content","cannotBeCancelled","onChange","onClick","permanent","total","bg","color","css"]));if(!j&&!n&&0===h)return null;var y=(o||"")+(void 0!==h?" ("+h+")":""),C=Object(r.jsxs)(c.a,l({flex:"1",style:{textOverflow:"ellipsis",overflow:"hidden"}},{children:[y.length>0&&Object(r.jsx)("b",{children:y},void 0),d&&" "+d]}),void 0);return Object(r.jsx)(i.a,l({ref:t,display:"inline-block",bg:n?x:"transparent",color:n?v:x,maxWidth:"250px",borderColor:n?"transparent":x,borderWidth:"1px",borderStyle:"solid",fontWeight:"normal",onClick:function(e){f&&f(!n),p&&p(e)}},m,{children:Object(r.jsxs)(c.d,l({alignItems:"center"},{children:[C,f&&n&&!b&&Object(r.jsx)(c.a,l({ml:2},{children:Object(r.jsx)(s.a,{icon:a.faTimes},void 0)}),void 0)]}),void 0)}),void 0)}));t.a=d},2267:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n.n(r);function o(e,t){a.a.useEffect((function(){if(t){var n=new ResizeObserver(e);return n.observe(t),function(){return n.unobserve(t)}}}),[e,t])}},2268:function(e,t,n){"use strict";var r=n(0),a=n(257),o=n(256),c=n(1),i=n(21),s=n(1185),l=n(266),u=n(1188),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};t.a=c.memo((function(e){var t=e.buttons,n=e.count,b=e.filterTablets,f=e.query,p=e.label,j=e.loading,h=e.onChange,O=e.onFocus,x=e.onBlur,g=e.onReturn,v=e.children,m=e.variant,y=c.useMemo((function(){return p(n)}),[p,n]),C=c.useCallback((function(e){return h(e.target.value)}),[h]),S=c.useCallback((function(){return null===O||void 0===O?void 0:O()}),[O]),w=c.useCallback((function(){return null===x||void 0===x?void 0:x()}),[x]),E=c.useCallback((function(e){return null===g||void 0===g?void 0:g(e)}),[g]),k={"rounded-top":{borderTopLeftRadius:"large",borderTopRightRadius:"large",borderBottomLeftRadius:0,borderBottomRightRadius:0},rounded:{borderTopLeftRadius:"large",borderTopRightRadius:"large",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"},square:{borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}},T=m?k[m]:k["rounded-top"];return Object(r.jsxs)(i.d,d({alignItems:"center",justifyContent:"space-between",sx:d({width:"100%",height:"56px",borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",borderBottomColor:"neutral_2",backgroundColor:"neutral_0",overflow:"hidden","&:focus-within":{borderColor:"primary_2"}},T)},{children:[b,Object(r.jsxs)(i.d,d({alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",sx:{paddingLeft:"24px"}},{children:[!v&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.a,{icon:j?o.faSpinnerThird:a.faSearch,spin:j,color:"neutral_6","data-qa":j?"search-bar-loading":"search-bar-loaded"},void 0),Object(r.jsx)(u.a,{fullWidth:!0,fullHeight:!0,variant:"search",placeholder:y,width:"100%",value:f,onChange:C,onFocus:S,onBlur:w,onReturn:E,"data-qa":"search-bar-input"},void 0)]},void 0),v]}),void 0),t&&t.map((function(e,t){return Object(r.jsx)(s.a,d({p:0,sx:{borderColor:"neutral_4",borderLeftStyle:"solid",borderLeftWidth:"1px",minWidth:"auto"}},{children:e}),t)}))]}),void 0)}))},2269:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n(21),o=n(217),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function s(e){var t=e.text,n=e.children,s=i(e,["text","children"]);return Object(r.jsxs)(o.a,c({variant:"bodySecondary",as:"label",fontWeight:700,width:"100%"},s,{children:[Object(r.jsx)(a.a,{mb:2,children:t},void 0),n]}),void 0)}},2270:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n(21),o=n(217),c=n(578),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function s(e){var t=e.items,n=e.limit,s=void 0===n?1:n,l=e.placeholder,u=void 0===l?"-":l,d=e.useAnd,b=void 0===d||d,f=t.length-s,p=Object(c.b)(f>0&&Object(r.jsx)(a.a,{children:t.slice(f).map((function(e){return Object(r.jsx)(a.a,{children:e},e)}))},void 0));return 0===t.length?Object(r.jsx)(o.a,i({variant:"bodySecondary"},{children:u}),void 0):b&&2===t.length&&s>=2?Object(r.jsx)(o.a,i({variant:"bodySecondary"},{children:t.join(" and ")}),void 0):Object(r.jsxs)(o.a,i({as:"div",variant:"bodySecondary"},{children:[t.slice(0,s).join(", "),f>0&&Object(r.jsxs)(o.a,i({as:"span",variant:"bodySecondary",ref:p,ml:1,sx:{display:"inline",fontWeight:"bold"}},{children:["+",f," more"]}),void 0)]}),void 0)}},2271:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(21),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function i(e){var t=e.top,n=e.right,i=e.bottom,s=e.left,l=e.variant,u=void 0===l?"primary":l,d=c(e,["top","right","bottom","left","variant"]);return Object(r.jsx)(a.c,o({},d,{variant:"section."+u,sx:o({flexShrink:0,borderTopStyle:t?"solid":"",borderTopWidth:t?"1px":"",borderRightStyle:n?"solid":"",borderRightWidth:n?"1px":"",borderBottomStyle:i?"solid":"",borderBottomWidth:i?"1px":"",borderLeftStyle:s?"solid":"",borderLeftWidth:s?"1px":""},d.sx)}),void 0)}},2272:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n(427),o=n(1),c=n(2248),i=n(2245),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function d(e){var t=e.itemsAreEqual,n=void 0===t?function(e,t){return e&&t?e.value===t.value:e===t}:t,d=e.itemToString,b=void 0===d?function(e){return e?e.label:""}:d,f=e.items,p=void 0===f?[]:f,j=e.value,h=e.onChange,O=l(e,["itemsAreEqual","itemToString","items","value","onChange"]),x=Object(a.b)({selectedItems:j}),g=x.getSelectedItemProps,v=x.getDropdownProps,m=o.useCallback((function(e){return e&&h(u(u([],j),[e]))}),[h,j]),y=o.useCallback((function(){return h(j.slice(0,-1))}),[h,j]),C=o.useMemo((function(){return p.filter((function(e){return!j.find((function(t){return n(e,t)}))}))}),[j,p,n]),S=j.length>0?j.map((function(e,t){return Object(r.jsx)(c.a,s({active:!0,color:"neutral_8",bg:"neutral_2",fontSize:2,py:"1px",m:"0 4px 4px 0",content:b(e)},g({selectedItem:e,index:t,onChange:function(e){return h(j.filter((function(e,n){return n!==t})))}})),"selected-item-"+t)})):null;return Object(r.jsx)(i.a,s({itemToString:b,onChange:m,customPrefix:S,toggleButtonProps:v(),onBackspaceEmpty:y,items:C},O),void 0)}},2274:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(1),o=n(21),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function i(e){var t,n=e.children,i=e.spacing,s=e.variant,l=void 0===s?"row":s,u=e.alignItems,d=void 0===u?"center":u,b=e.fullSize,f=void 0!==b&&b,p="row"===l,j=a.useMemo((function(){var e,t;return{margin:p?"0 "+i/2+"px":i/2+"px 0","&:first-of-type":(e={},e[p?"marginLeft":"marginTop"]=0,e),"&:last-of-type":(t={},t[p?"marginRight":"marginBottom"]=0,t.flexGrow=f?1:0,t)}}),[i,f,p]),h=f?((t={})[p?"width":"height"]="100%",t):{};return Object(r.jsx)(o.d,c({alignItems:d,flexDirection:l,sx:h},{children:a.Children.map(n,(function(e){return Object(r.jsx)(o.a,c({sx:j},{children:e}),void 0)}))}),void 0)}},2278:function(e,t,n){"use strict";var r=n(0),a=n(257),o=n(256),c=n(1),i=n(1133),s=n(1132),l=n(21),u=n(2267),d=n(266),b=n(217),f=n(1134),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},j=c.memo((function(e){var t=e.start,n={background:function(e){return""+e.gradients.secondary_1},backgroundSize:"1000px 64px"};return Object(r.jsxs)(l.d,p({px:4,flex:1,alignItems:"center",sx:{height:"64px",transform:"translateY("+t+"px)",position:"absolute",width:"100%",left:0,top:0,borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2"}},{children:[Object(r.jsx)(l.d,p({width:1/3},{children:Object(r.jsx)(l.a,{ml:5,height:"8px",width:"50%",sx:n},void 0)}),void 0),Object(r.jsx)(l.d,p({width:1/3},{children:Object(r.jsx)(l.a,{height:"8px",width:"100%",sx:n},void 0)}),void 0)]}),void 0)})),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};t.a=function(e){var t=e.rows,n=e.rowHeight,p=void 0===n?64:n,O=e.rowStyle,x=e.metadata,g=e.children,v=e.variant,m=void 0===v?"default":v,y=e.loading,C=void 0!==y&&y,S=e.onLoadMore,w=e.highlight,E=void 0===w?-1:w,k=e.total,T=e.getKey,A=e.setHighlightedRow,_=e.stripeSelection,F=void 0!==_&&_,R=e.pageSize,D=void 0===R?50:R,I=e.emptyStatePlaceholder,L=e.disableExpensiveHeightMeasuring;k||(k=t.length);var N=c.useMemo((function(){var e,t;return(null===(e=g)||void 0===e?void 0:e.type)===c.Fragment?null===(t=g)||void 0===t?void 0:t.props.children:g}),[g]),B=c.useRef(null),U=c.useState(!0),M=U[0],P=U[1],q=c.useState(0),H=q[0],G=q[1],V=c.useState(0),z=V[0],Y=V[1],W=c.useCallback((function(e){return"number"===typeof p?p:p({index:e,size:{width:z,height:H}})}),[p,H,z]);Object(u.a)(c.useCallback((function(e){var t=e[0];t&&(G(t.contentRect.height),Y(t.contentRect.width))}),[]),B.current);var K=Object(i.a)({size:k,parentRef:B,estimateSize:W,useObserver:c.useCallback((function(){return{width:z,height:H}}),[z,H])});c.useEffect((function(){if(S){var e=t.filter((function(e){return e})).pop(),n=e&&t.indexOf(e),r=K.virtualItems.slice(-1)[0],a=Math.max(t.length,k||0);!C&&r&&n&&r.index>=n&&r.index<a-1&&S(n+D)}}),[C,K.virtualItems,t.length,S,D,t,k]);var Q=c.useState(-1),X=Q[0],$=Q[1];c.useEffect((function(){E>-1&&E!==X&&B.current&&!M&&(K.scrollToIndex(E),$(E)),P(!1)}),[E,K,M,X]);var Z=c.useMemo((function(){return c.Children.map(N,(function(e){return c.cloneElement(e,{asHeader:!0})}))}),[N]),J=c.useMemo((function(){return!!Z&&Z.some((function(e){return""!==e.props.title}))}),[Z]);return Object(r.jsxs)(l.a,h({sx:{color:"neutral_8",fontSize:2,backgroundColor:"neutral_0",height:"100%",width:"100%"},variant:"table."+m},{children:[J&&Object(r.jsx)(l.d,h({p:4,sx:h({fontWeight:"bold",borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2"},O)},{children:Z}),void 0),Object(r.jsx)(s.a,{children:function(e){var n=e.height,c=e.width;return Object(r.jsx)(l.a,h({ref:function(e){B.current=e,H<=0&&(G(n),Y(n))},sx:{height:J?n-64:n,width:c,overflow:"auto"}},{children:C?Object(r.jsxs)(l.d,h({alignItems:"center",flexDirection:"column",justifyContent:"center",sx:{width:"100%",height:"100%"}},{children:[Object(r.jsx)(d.a,{fontSize:"64px",icon:C?o.faSpinnerThird:a.faSearch,spin:C,color:"primary_2","qa-data":"table-loading-spinner"},void 0),Object(r.jsx)(b.a,h({color:"neutral_8",mt:3,sx:{fontWeight:"700"}},{children:"Fetching results"}),void 0)]}),void 0):0===t.length?I:Object(r.jsx)(l.a,h({sx:{height:K.totalSize+"px",width:"100%",position:"relative"}},{children:K.virtualItems.map((function(e){var n=e.index,a=e.measureRef,o=e.start,c=e.size;return t[n]?Object(r.jsx)(f.c,{forwardRef:a,index:n,stripeSelected:F,highlighted:E===n,setUpdateByMouse:P,columns:N,data:t[n],metadata:x,start:o,setHighlightedRow:A,rowHeight:c,rowStyle:O,disableExpensiveHeightMeasuring:L},T?T(t[n]):n):Object(r.jsx)(j,{start:o},"placeholder-"+n)}))}),void 0)}),void 0)}},void 0)]}),void 0)}},2281:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n(21),o=n(1),c=n(1184),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=o.memo((function(e){var t=e.content,n=e.leftContent,o=e.centreContent,s=e.rightContent,l=e.title,u=e.fixedColumns?"auto":100/[n,l,t,o,s].reduce((function(e,t){return e+(t?1:0)}),0)+"%";return Object(r.jsxs)(a.d,i({sx:{height:function(e){return e.space[10]}},"data-qa":"title-bar_div",alignItems:"center",justifyContent:"space-between"},{children:[n&&Object(r.jsx)(a.a,i({flex:"0 1 "+u},{children:n}),void 0),l&&Object(r.jsx)(a.a,i({p:4,flex:"0 1 "+u},{children:Object(r.jsx)(c.a,i({variant:"h3"},{children:l}),void 0)}),void 0),t&&Object(r.jsx)(a.a,i({flex:"1 1 "+u,alignSelf:"stretch"},{children:t}),void 0),!t&&Object(r.jsxs)(r.Fragment,{children:[o&&Object(r.jsx)(a.d,i({justifyContent:"center",flex:"0 1 "+u,height:"100%"},{children:o}),void 0),s&&Object(r.jsx)(a.d,i({height:"100%",justifyContent:"flex-end",flex:"0 1 "+u},{children:s}),void 0)]},void 0)]}),void 0)})),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function u(e){var t=e.noPadding,n=e.title,o=e.content,c=e.leftContent,i=e.centreContent,u=e.rightContent,d=e.children,b=e.scrollable,f=e.fixedColumns;return Object(r.jsxs)(a.d,l({flex:"1",flexDirection:"column",sx:{maxWidth:"100%",overflow:"hidden"}},{children:[Object(r.jsx)(a.a,l({flex:"0 0 auto",sx:{borderBottom:"1px solid",borderBottomColor:"neutral_4",zIndex:99}},{children:Object(r.jsx)(s,{title:n,content:o,leftContent:c,centreContent:i,rightContent:u,fixedColumns:f},void 0)}),void 0),Object(r.jsxs)(a.a,l({flex:"1 1 auto",px:t?0:10,py:t?0:7,sx:{height:"100%",overflow:b?"auto":"hidden"},bg:"neutral_3"},{children:[d,b&&Object(r.jsx)(a.a,{pb:t?0:7},void 0)]}),void 0)]}),void 0)}},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(15),a=n(2),o=n(141),c=n(84),i=n.n(c),s=n(1102),l=n.n(s),u=n(3),d=n(85),b=n(20),f=n(36),p={draftSuggestionExists:!1,error:null,filter:Object(a.a)({},{intents:[],tags:[],entities:[],type:"Suggestion",date:{from:null,to:null}}),filterPresentOnLoad:!1,initialFetchComplete:!1,loading:!1,searchQuery:"",searchQueryChanged:!1,sortBy:"time",sortOrder:"desc",suggestions:[],tags:[],total:0,totalFetched:0,noMoreSuggestions:!1},j=Object(o.a)((function(e,t){switch(t.type){case Object(u.getType)(f.e.request):e.loading=!0;var n=t.payload,o=n.filter,c=n.offset,s=n.search,p=n.sortBy,j=n.sortOrder,h=!i()(o,e.filter),O=p&&p!==e.sortBy,x=j&&j!==e.sortOrder,g=s!==e.searchQuery;!e.filterPresentOnLoad&&h?e.filter=o:0===c&&(e.filterPresentOnLoad=!1),(g||O||x||h)&&(e.searchQuery=s,O&&(e.sortBy=p),x&&(e.sortOrder=j),e.searchQueryChanged=!0,e.totalFetched=0);break;case Object(u.getType)(f.e.success):e.loading=!1,e.initialFetchComplete=!0;var v,m=t.payload,y=m.suggestions,C=m.total,S=m.offset;if(y.map((function(e){return e.user_input.intent_ranking=[e.user_input.intent].concat(Object(r.a)(e.user_input.intent_ranking.splice(1)))})),e.searchQueryChanged&&(e.suggestions=[],e.searchQueryChanged=!1),e.suggestions.length&&y.length&&e.suggestions[0].id===y[0].id&&e.suggestions.length===y.length)break;if(0===S)e.suggestions=y,e.noMoreSuggestions=!1;else(v=e.suggestions).splice.apply(v,[S||0,y.length].concat(Object(r.a)(y)));C&&(0===e.total&&(e.total=C),e.suggestions.length=C),0!==y.length&&y.length%50===0||(e.noMoreSuggestions=!0);break;case Object(u.getType)(f.e.failure):e.error=t.payload,e.loading=!1,e.initialFetchComplete=!0;break;case Object(u.getType)(f.f.request):e.loading=!0;break;case Object(u.getType)(f.f.success):e.loading=!1,e.total=t.payload;break;case Object(u.getType)(f.f.failure):e.error=t.payload,e.loading=!1;break;case Object(u.getType)(f.n):if(t.payload<=e.totalFetched)break;e.totalFetched=t.payload;break;case Object(u.getType)(f.g.success):var w=t.payload,E=w.suggestionId,k=w.entities,T=w.synonyms;k.forEach((function(t,n){var r=e.suggestions.find((function(e){return e.id===E})).user_input.entities.findIndex((function(e){return e.id===t.id||e.start===t.start&&e.end===t.end}));e.suggestions.find((function(e){return e.id===E})).user_input.entities.splice(r,1,Object(a.a)(Object(a.a)({},t),{},{entity_synonym_id:T[n].id}))}));break;case Object(u.getType)(f.k.success):e.suggestions.splice(0,0,t.payload);break;case Object(u.getType)(f.l.success):var A=t.payload,_=A.tags,F=A.suggestionId,R=_.map((function(e){return e.id})),D=e.suggestions.filter(d.a).findIndex((function(e){return e.id===F}));if(-1===D)return;e.tags=l()(_,e.tags,"id"),e.suggestions[D].tags=[].concat(Object(r.a)(e.suggestions[D].tags),Object(r.a)(R.filter((function(t){return!e.suggestions[D].tags.includes(t)}))));break;case Object(u.getType)(f.j.success):var I=t.payload,L=I.tag,N=I.suggestionId;e.suggestions=e.suggestions.filter(d.a).map((function(e){return e.id!==N?e:Object(a.a)(Object(a.a)({},e),{},{tags:e.tags.filter((function(e){return e!==L.id}))})}));break;case Object(u.getType)(b.p.success):t.payload.forEach((function(t){var n=e.suggestions.findIndex((function(e){return e.user_input.text===t.text}));n>=0&&e.suggestions.splice(n,1)})),e.total--,e.totalFetched--;break;case Object(u.getType)(f.c.success):(Array.isArray(t.payload)?t.payload:[t.payload]).forEach((function(t){var n=e.suggestions.findIndex((function(e){return e.id===t.id}));n>=0&&e.suggestions.splice(n,1)})),e.total--,e.totalFetched--;break;case Object(u.getType)(f.a):var B=e.suggestions.findIndex((function(e){return(null===e||void 0===e?void 0:e.id)===t.payload.id}));if(B<0)break;e.suggestions[B]=Object(a.a)(Object(a.a)({},t.payload),{},{isDirty:!0});break;case Object(u.getType)(f.b.success):e.draftSuggestionExists=t.payload;break;case Object(u.getType)(f.m):e.searchQuery=t.payload;break;case Object(u.getType)(f.h):var U=t.payload.tagIds.map((function(e){return{id:parseInt(e),color:"",value:""}}));e.filterPresentOnLoad=!0,e.filter={date:t.payload.date,type:"Suggestion",intents:t.payload.intents,tags:U,entities:t.payload.entities};break;case Object(u.getType)(f.d.success):e.tags=t.payload;break;case Object(u.getType)(f.i):var M=e.filter.tags.map((function(t){if(e.tags.length&&(0===t.value.length||0===t.color.length)){var n=e.tags.find((function(e){return e.id===t.id}));if(n)return{id:t.id,value:n.value,color:n.color}}return t}));e.filterPresentOnLoad=!0,e.filter={date:e.filter.date,type:"Suggestion",intents:e.filter.intents,tags:M,entities:e.filter.entities}}}),p);t.b=j},26:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"n",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"o",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"l",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"i",(function(){return O})),n.d(t,"k",(function(){return x}));var r=n(3),a=Object(r.createAsyncAction)("FETCH MODELS","FETCH MODELS SUCCESS","FETCH MODELS FAILURE")(),o=Object(r.createAsyncAction)("FETCH HEALTH","FETCH HEALTH SUCCESS","FETCH HEALTH FAILURE")(),c=Object(r.createAsyncAction)("TRAIN MODEL","TRAIN MODEL SUCCESS","TRAIN MODEL FAILURE")(),i=Object(r.createAsyncAction)("DELETE MODEL","DELETE MODEL SUCCESS","DELETE MODEL FAILURE")(),s=Object(r.createAsyncAction)("ADD MODEL ENVIRONMENT","ADD MODEL ENVIRONMENT SUCCESS","ADD MODEL ENVIRONMENT FAILURE")(),l=Object(r.createAsyncAction)("REMOVE MODEL ENVIRONMENT","REMOVE MODEL ENVIRONMENT SUCCESS","REMOVE MODEL ENVIRONMENT FAILURE")(),u=Object(r.createAsyncAction)("UPLOAD MODEL","UPLOAD MODEL SUCCESS","UPLOAD MODEL FAILURE")(),d=Object(r.createStandardAction)("START POLLING HEALTH")(),b=Object(r.createAsyncAction)("FETCH EVALUATION","FETCH EVALUATION SUCCESS","FETCH EVALUATION FAILURE")(),f=Object(r.createStandardAction)("START EVALUATUION")(),p=Object(r.createStandardAction)("FILTER EVALUATION")(),j=Object(r.createAsyncAction)("DELETE ENVIRONMENT","DELETE ENVIRONMENT SUCCESS","DELETE ENVIRONMENT FAILURE")(),h=Object(r.createAsyncAction)("FETCH ENVIRONMENTS","FETCH ENVIRONMENTS SUCCESS","FETCH ENVIRONMENTS FAILURE")(),O=Object(r.createAsyncAction)("GET MODEL TRAINING STATUS","GET MODEL TRAINING STATUS SUCCESS","GET MODEL TRAINING STATUS FAILURE")(),x=Object(r.createAsyncAction)("SAVE ENVIRONMENT","SAVE ENVIRONMENT SUCCESS","SAVE ENVIRONMENT FAILURE")()},263:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),a=Object(r.createAsyncAction)("FETCH ANALYTICS","FETCH ANALYTICS SUGGEST","FETCH ANALYTICS FAILURE")();Object(r.createStandardAction)("SET ANALYTICS RANGE")()},266:function(e,t,n){"use strict";var r=n(0),a=n(139),o=n(527),c=n(1),i=n(24),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=Object(a.default)((function(e){e.color,e.fontSize,e.opacity;var t=l(e,["color","fontSize","opacity"]);return Object(r.jsx)(o.a,s({},t),void 0)}))(Object(i.compose)(i.space,i.color,i.fontSize));function d(e){var t=e.icon,n=l(e,["icon"]);return Object(r.jsx)(u,s({icon:t,style:{width:"1em"}},n),void 0)}d.defaultProps={color:"inherit",fontSize:"inherit"},t.a=c.memo(d)},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"i",(function(){return f}));var r=n(3),a=Object(r.createAsyncAction)("CREATE ENTERPRISE USER","CREATE ENTERPRISE USER SUCCESS","CREATE ENTERPRISE USER FAILURE")(),o=Object(r.createAsyncAction)("CHANGE PASSWORD","CHANGE PASSWORD SUCCESS","CHANGE PASSWORD FAILURE")(),c=Object(r.createAsyncAction)("FETCH FEATURES","FETCH FEATURES SUCCESS","FETCH FEATURES FAILURE")(),i=Object(r.createAsyncAction)("SAVE FEATURE","SAVE FEATURE SUCCESS","SAVE FEATURE FAILURE")(),s=Object(r.createAsyncAction)("LOGIN","LOGIN SUCCESS","LOGIN FAILURE")(),l=Object(r.createAsyncAction)("LOGIN WITH INVITE","LOGIN WITH INVITE SUCCESS","LOGIN WITH INVITE FAILURE")(),u=Object(r.createAsyncAction)("FETCH SSO URL","FETCH SSO URL SUCCESS","FETCH SSO URL FAILURE")(),d=Object(r.createAsyncAction)("FETCH ENTERPRISE TOKEN","FETCH ENTERPRISE TOKEN SUCCESS","FETCH ENTERPRISE TOKEN FAILURE")(),b=Object(r.createAsyncAction)("FETCH TEMPORARY ACCESS TOKEN","FETCH TEMPORARY ACCESS TOKEN SUCCESS","FETCH TEMPORARY ACCESS TOKEN FAILURE")(),f=Object(r.createStandardAction)("LOGOUT")()},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n(0),o=(n(1),n(111));function c(e){var t=Object.assign({},e);return Object(a.jsx)(o.a,Object(r.a)({},t))}c.defaultProps={px:3,py:2,maxWidth:320}},29:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return O}));var r=n(3),a=Object(r.createAsyncAction)("GET INSIGHT CALCULATION CONFIG","GET INSIGHT CALCULATION CONFIG SUCCESS","GET INSIGHT CALCULATION CONFIG FAILURE")(),o=Object(r.createAsyncAction)("PUT INSIGHT CALCULATION CONFIG","PUT INSIGHT CALCULATION CONFIG SUCCESS","PUT INSIGHT CALCULATION CONFIG FAILURE")(),c=Object(r.createAsyncAction)("RUN INSIGHT CALCULATION","RUN INSIGHT CALCULATION CONFIG SUCCESS","RUN INSIGHT CALCULATION CONFIG FAILURE")(),i=Object(r.createAsyncAction)("FETCH LATEST NLU INSIGHT REPORTS","FETCH LATEST NLU INSIGHT REPORTS SUCCESS","FETCH LATEST NLU INSIGHT REPORTS FAILURE")(),s=Object(r.createAsyncAction)("FETCH NLU EVALUATION RESULTS","FETCH NLU EVALUATION RESULTS SUCCESS","FETCH NLU EVALUATION RESULTS FAILURE")(),l=Object(r.createAsyncAction)("FETCH SCORECARD","FETCH SCORECARD SUCCESS","FETCH SCORECARD FAILURE")(),u=Object(r.createAsyncAction)("FETCH SCORECARD CONFIG","FETCH SCORECARD CONFIG SUCCESS","FETCH SCORECARD CONFIG FAILURE")(),d=Object(r.createAsyncAction)("SAVE SCORECARD CONFIG","SAVE SCORECARD CONFIG SUCCESS","SAVE SCORECARD CONFIG FAILURE")(),b=Object(r.createStandardAction)("SET SEARCH QUERY")(),f=Object(r.createStandardAction)("SET SORT BY")(),p=Object(r.createStandardAction)("INSIGHTS EVALUATION DONE")(),j=Object(r.createStandardAction)("DOWNLOAD NLU REPORTS")(),h=Object(r.createStandardAction)("DOWNLOAD SCORECARD")(),O=Object(r.createStandardAction)("CLEAR NLU REPORT ERROR")()},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(15),a=n(2),o=n(141),c=n(84),i=n.n(c),s=n(3),l=n(296),u=n.n(l),d=n(27),b=n(20),f={correction:null,draftExampleExists:!1,entityGroups:[],entityRoles:[],entityTypes:[],error:{},examples:[],filter:Object(a.a)({},{intents:[],type:"Example",date:{from:null,to:null}}),filterPresentOnLoad:!1,initialFetchComplete:!1,intents:[],loading:{},searchQuery:""},p=Object(o.a)((function(e,t){switch(t.type){case Object(s.getType)(d.i):return f;case Object(s.getType)(b.k.request):e.loading.fetchExamples=!0,e.error.fetchExamples=null;var n=t.payload,o=n.search,c=n.filter,l=n.offset,p=!i()(c,e.filter),j=e.searchQuery!==o;!e.filterPresentOnLoad&&p?e.filter=c:0===l&&(e.filterPresentOnLoad=!1),j&&(e.searchQuery=o,e.examples=[]);break;case Object(s.getType)(b.k.success):var h,O=t.payload,x=O.examples,g=O.total,v=O.offset,m=x.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{entities:e.entities.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{id:u()()})}))})}));(h=e.examples).splice.apply(h,[v||0,x.length].concat(Object(r.a)(m))),e.examples.length=g,e.loading.fetchExamples=!1,e.initialFetchComplete=!0;break;case Object(s.getType)(b.k.failure):e.loading.fetchExamples=!1,e.error.fetchExamples=t.payload,e.initialFetchComplete=!0;break;case Object(s.getType)(b.j.request):e.loading.fetchExample=!0,e.error.fetchExample=null;break;case Object(s.getType)(b.j.success):case Object(s.getType)(b.n.success):e.correction=Array.isArray(t.payload)?t.payload[0]:t.payload,e.loading.fetchExample=!1;break;case Object(s.getType)(b.j.failure):e.correction=null,e.loading.fetchExample=!1;break;case Object(s.getType)(b.l.request):e.loading.fetchIntents=!0,e.error.fetchIntents=null;break;case Object(s.getType)(b.l.success):e.intents=t.payload.sort(),e.loading.fetchIntents=!1;break;case Object(s.getType)(b.l.failure):e.loading.fetchIntents=!1,e.error.fetchIntents=t.payload;break;case Object(s.getType)(b.o.success):case Object(s.getType)(b.p.success):var y,C=t.payload;e.intents=Object(r.a)(new Set([].concat(Object(r.a)(e.intents),Object(r.a)(C.map((function(e){return e.intent})))))),(y=e.examples).splice.apply(y,[0,0].concat(Object(r.a)(C)));break;case Object(s.getType)(b.b):var S=t.payload;S.isDirty=!0;var w=e.examples.findIndex((function(e){return e&&e.id===S.id}));e.examples[w]=S;break;case Object(s.getType)(b.r.success):t.payload.forEach((function(t){var n=e.examples.findIndex((function(e){return e&&e.id===t.id}));e.examples[n]=t}));break;case Object(s.getType)(b.d.success):var E=t.payload,k=e.examples.findIndex((function(e){return e&&e.id===E.id}));e.examples.splice(k,1);break;case Object(s.getType)(b.a):e.correction=t.payload,e.correction&&(e.correction.isDirty=!0);break;case Object(s.getType)(b.s.request):e.loading.uploadExamples=!0,e.error.uploadExamples=null;break;case Object(s.getType)(b.s.success):e.loading.uploadExamples=!1,e.examples=[];break;case Object(s.getType)(b.s.failure):e.loading.uploadExamples=!1,e.error.uploadExamples=t.payload;break;case Object(s.getType)(b.g.success):e.entityGroups=t.payload;break;case Object(s.getType)(b.h.success):e.entityRoles=t.payload;break;case Object(s.getType)(b.i.success):e.entityTypes=t.payload;break;case Object(s.getType)(b.q):e.searchQuery=t.payload,e.examples=[];break;case Object(s.getType)(b.m):e.filterPresentOnLoad=!0,e.filter={date:t.payload.date,type:"Example",intents:t.payload.intents};break;case Object(s.getType)(b.c.success):e.draftExampleExists=t.payload}}),f);t.b=p},31:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return f}));var r=n(3),a=Object(r.createAsyncAction)("SAVE CONFIG","SAVE CONFIG SUCCESS","SAVE CONFIG FAILURE")(),o=Object(r.createAsyncAction)("FETCH CONFIG","FETCH CONFIG SUCCESS","FETCH CONFIG FAILURE")(),c=Object(r.createAsyncAction)("FETCH DATA TAGS","FETCH DATA TAGS SUCCESS","FETCH DATA TAGS FAILURE")(),i=(Object(r.createAsyncAction)("SAVE DOMAIN","SAVE DOMAIN SUCCESS","SAVE DOMAIN FAILURE")(),Object(r.createAsyncAction)("FETCH DOMAIN FILES","FETCH DOMAIN FILES SUCCESS","FETCH DOMAIN FILES FAILURE")()),s=Object(r.createAsyncAction)("FETCH DOMAIN FILE","FETCH DOMAIN FILE SUCCESS","FETCH DOMAIN FILE FAILURE")(),l=Object(r.createAsyncAction)("CREATE DOMAIN FILE","CREATE DOMAIN FILE SUCCESS","CREATE DOMAIN FILE FAILURE")(),u=Object(r.createAsyncAction)("SAVE DOMAIN FILE","SAVE DOMAIN FILE SUCCESS","SAVE DOMAIN FILE FAILURE")(),d=Object(r.createAsyncAction)("DELETE DOMAIN FILE","DELETE DOMAIN FILE SUCCESS","DELETE DOMAIN FILE FAILURE")(),b=Object(r.createAsyncAction)("FETCH DOMAIN WARNINGS","FETCH DOMAIN WARNINGS SUCCESS","FETCH DOMAIN WARNINGS FAILURE")(),f=Object(r.createStandardAction)("CLEAR PROJECT ERROR")()},32:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"m",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return h}));var r=n(3),a=Object(r.createAsyncAction)("FETCH GIT REPOSITORIES","FETCH GIT REPOSITORIES SUCCESS","FETCH GIT REPOSITORIES FAILURE")(),o=Object(r.createAsyncAction)("FETCH SSH KEY","FETCH SSH KEY SUCCESS","FETCH SSH KEY FAILURE")(),c=Object(r.createAsyncAction)("CONNECT GIT REPOSITORY","CONNECT GIT REPOSITORY SUCCESS","CONNECT GIT REPOSITORY FAILURE")(),i=Object(r.createAsyncAction)("UPDATE GIT REPOSITORY","UPDATE GIT REPOSITORY SUCCESS","UPDATE GIT REPOSITORY FAILURE")(),s=Object(r.createAsyncAction)("DELETE GIT REPOSITORY","DELETE GIT REPOSITORY SUCCESS","DELETE GIT REPOSITORY FAILURE")(),l=Object(r.createAsyncAction)("FETCH GIT REPOSITORY STATUS","FETCH GIT REPOSITORY STATUS SUCCESS","FETCH GIT REPOSITORY STATUS FAILURE")(),u=Object(r.createStandardAction)("START POLLING STATUS")(),d=Object(r.createStandardAction)("STOP POLLING STATUS")(),b=Object(r.createAsyncAction)("COMMIT GIT CHANGES","COMMIT GIT CHANGES SUCCESS","COMMIT GIT CHANGES FAILURE")(),f=Object(r.createAsyncAction)("DISCARD GIT CHANGES","DISCARD GIT CHANGES SUCCESS","DISCARD GIT CHANGES FAILURE")(),p=Object(r.createStandardAction)("GIT BRANCH SYNC COMPLETE")(),j=Object(r.createStandardAction)("CANCEL CONNECT")(),h=Object(r.createStandardAction)("CANCEL UPDATE")()},335:function(e,t,n){"use strict";var r=n(47),a=n(1),o=n(22),c=n(189);function i(){var e=Object(r.a)([""]);return i=function(){return e},e}var s=Object(o.default)(c.a)(i());s.defaultProps={justifyContent:"center",alignItems:"flex-end",height:"100%"},t.a=a.memo(s)},34:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return b}));var r=n(3),a=Object(r.createAsyncAction)("FETCH SAMPLE CONVERSATIONS","FETCH SAMPLE CONVERSATIONS SUCCESS","FETCH SAMPLE CONVERSATIONS FAILURE")(),o=Object(r.createAsyncAction)("FETCH SAMPLE CONVERSATION","FETCH SAMPLE CONVERSATION SUCCESS","FETCH SAMPLE CONVERSATION FAILURE")(),c=Object(r.createAsyncAction)("CREATE SAMPLE CONVERSATION","CREATE SAMPLE CONVERSATION SUCCESS","CREATE SAMPLE CONVERSATION FAILURE")(),i=Object(r.createAsyncAction)("UPDATE SAMPLE CONVERSATION","UPDATE SAMPLE CONVERSATION SUCCESS","UPDATE SAMPLE CONVERSATION FAILURE")(),s=Object(r.createAsyncAction)("ADD SAMPLE CONVERSATION ITEM","ADD SAMPLE CONVERSATION ITEM SUCCESS","ADD SAMPLE CONVERSATION ITEM FAILURE")(),l=Object(r.createAsyncAction)("UPDATE SAMPLE CONVERSATION ITEM","UPDATE SAMPLE CONVERSATION ITEM SUCCESS","UPDATE SAMPLE CONVERSATION ITEM FAILURE")(),u=Object(r.createAsyncAction)("DELETE SAMPLE CONVERSATION","DELETE SAMPLE CONVERSATION SUCCESS","DELETE SAMPLE CONVERSATION FAILURE")(),d=Object(r.createAsyncAction)("DELETE SAMPLE CONVERSATION ITEM","DELETE SAMPLE CONVERSATION ITEM SUCCESS","DELETE SAMPLE CONVERSATION ITEM FAILURE")(),b=Object(r.createStandardAction)("CLEAR SAMPLE CONVERSATIONS ERROR")()},357:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var r=n(15),a=n(5),o=n(47),c=n(0),i=n(72),s=n(257),l=n(251),u=n(59),d=n(2248),b=n(1183),f=n(266),p=n(1184),j=n(1188),h=n(2247),O=n(2271),x=n(745),g=n.n(x),v=n(211),m=n.n(v),y=n(1),C=n(4),S=n(154),w=n.n(S),E=n(22),k=n(39),T=n(16),A=n(11),_=n(115),F=n(2),R=n(23),D=Object(E.default)(C.Box).withConfig({displayName:"Expandable__Container",componentId:"sc-1vaci0m-0"})(["position:absolute;left:0;right:0;overflow:hidden;z-index:99;display:flex;max-height:0;height:auto;transition:max-height 0.4s ease;box-shadow:rgba(37,49,70,0.3) 0px 2px 6px 0px;",""],(function(e){return e.expanded&&"\n    max-height: 456px;\n  "})),I=y.memo((function(e){e.ref;var t=Object(R.a)(e,["ref"]);return Object(c.jsx)(D,Object(F.a)({},t))})),L=y.memo((function(e){var t=e.expanded,n=e.children,r=e.onApply,a=e.onCancel;return Object(c.jsx)(I,{expanded:t,bg:"neutral_0",children:Object(c.jsx)(C.Card,{flex:"1",sx:{borderBottom:"1px solid",borderColor:"neutral_4"},children:Object(c.jsxs)(C.Flex,{flexDirection:"column",style:{maxHeight:"100%",height:"100%"},children:[Object(c.jsx)(C.Card,{flex:"1 1 auto",sx:{borderBottom:"1px solid",borderColor:"neutral_4",overflow:"hidden",display:"flex",flexDirection:"column"},children:n}),Object(c.jsxs)(C.Flex,{py:3,px:4,flex:"0 0 auto",mr:-1,flexDirection:"row-reverse",children:[Object(c.jsx)(C.Box,{mx:1,children:Object(c.jsx)(b.a,{large:!0,onClick:r,variant:"primary",children:"Apply Filters"})}),Object(c.jsx)(C.Box,{mx:1,children:Object(c.jsx)(b.a,{large:!0,variant:"secondary",onClick:a,children:"Cancel"})})]})]})})})})),N=n(28);function B(){var e=Object(o.a)(["\n  align-self: stretch;\n  display: flex;\n  align-items: center;\n"]);return B=function(){return e},e}function U(){var e=Object(o.a)(["\n  &:hover,\n  &:active,\n  &:focus-within {\n    ","\n  }\n"]);return U=function(){return e},e}var M=Object(E.default)(C.Flex)(U(),(function(e){return e.highlightable?_.b:null})),P=Object(E.default)(C.Box)(B());function q(e){var t=e.adding,n=e.buttons,o=void 0===n?[]:n,x=e.className,v=e.filters,S=void 0===v?function(){return null}:v,E=e.filtersOpen,_=e.onChangeFiltersOpen,F=e.onSearch,R=e.onSearchPillClick,D=e.onSearchReturn,I=e.onSearchFocus,B=e.onSearchBlur,U=e.quickFilters,q=e.resource,H=e.searchQuery,G=void 0===H?"":H,V=e.suggestionsQuery,z=e.searchPill,Y=void 0!==z&&z,W=e.setAdding,K=e.quickFiltersStyle,Q=e.style,X=void 0===Q?{}:Q,$=e.title,Z=e.total,J=e.hideTotal,ee=y.useState(G),te=Object(a.a)(ee,2),ne=te[0],re=te[1],ae=y.useState(G),oe=Object(a.a)(ae,2),ce=oe[0],ie=oe[1];y.useEffect((function(){G!==ne&&re(G)}),[G]),Object(T.a)((function(){!!F&&ne!==V&&ne!==G&&F&&F(ne||"")}),300,[ne,G,V,F]);var se=y.useState(w.a.parse("")),le=Object(a.a)(se,2),ue=le[0],de=le[1];y.useEffect((function(){de(w.a.parse(ce))}),[ce]),y.useEffect((function(){""!==ne&&"intent:"!==ne.slice(0,7)||ie(ne)}),[ne]);var be=y.useMemo((function(){return S(ue.getConditionArray(),(function(e){var t=ue.clone();t.conditionArray=e,ie(t.toString())}))}),[S,ue]),fe=y.useCallback((function(e){return function(t){if(U){var n=U.clear?w.a.parse(""):ue.clone(),r=n.getConditionArray().filter((function(e){return e.keyword!==U.keyword}));t&&e&&r.push({keyword:U.keyword,value:e,negated:!1}),n.conditionArray=r;var a=n.toString();ie(a),re(a)}}}),[U,ue]),pe=y.useMemo((function(){if(!U)return null;var e=ue.getConditionArray().filter((function(e){return e.keyword===U.keyword})),t=0===e.length;return Object(c.jsxs)(c.Fragment,{children:[U.all&&Object(c.jsx)(d.a,{onChange:t?void 0:fe(),active:t,label:U.all,permanent:!0,total:void 0!==U.total?U.total:Z,mr:2}),U.values.map((function(t){var n=t.label,r=t.total;return Object(c.jsx)(d.a,{onChange:fe(n),active:1===e.length&&e[0].value===n,label:n,total:r,mr:2},n)}))]})}),[U,ue,fe,Z]),je=W&&Object(c.jsx)(k.a,{resource:q,action:A.a.Create,yes:Object(c.jsx)(N.a,{content:"Add ".concat(g()(m()(q.toString(),1,!1)).toLowerCase()),hideOnClick:!0,disabled:t,children:Object(c.jsx)(b.a,{active:t,variant:"headerIcon",onClick:function(){return W(!t)},"data-qa":"table-header-add_button",children:Object(c.jsx)(f.a,{icon:i.faPlus})})})}),he=y.useCallback((function(){return _&&_(!E)}),[_,E]),Oe=y.useCallback((function(){he(),re(ce)}),[ce,he,re]),xe=be&&_&&Object(c.jsx)(k.a,{resource:q,action:A.a.Read,yes:Object(c.jsx)(b.a,{active:E,variant:"headerIcon",onClick:he,"data-qa":"table-header-filters_button",children:Object(c.jsx)(f.a,{icon:l.faSlidersH})})}),ge=[].concat(Object(r.a)(o),[je,xe]).filter((function(e){return!!e})),ve="Search ".concat(g()(m()(q.toString(),Z,!J)).toLowerCase(),"..."),me=y.useCallback((function(){he(),ie(ne)}),[he,ie,ne]),ye=!Y||Y&&!G;return Object(c.jsxs)(c.Fragment,{children:[pe&&Object(c.jsx)(C.Box,{style:K,as:"section",flex:"0 1 auto",mb:2,children:pe}),(F||ge.length>0)&&Object(c.jsxs)(C.Flex,{className:x,style:X,color:"white",justifyContent:"space-between",alignItems:"center",children:[$&&Object(c.jsxs)(p.a,{variant:"h4",pl:4,children:[$," ",Object(c.jsxs)(C.Box,{as:"span",color:"neutral_6",style:{fontWeight:"normal"},children:["(",Z,")"]})]}),F&&Object(c.jsxs)(M,{px:4,flex:"1",alignItems:"center",bgActive:"neutral_1",highlightable:ye,style:{height:"100%"},children:[Object(c.jsx)(C.Box,{children:Object(c.jsx)(f.a,{icon:s.faSearch,color:"neutral_6"})}),Object(c.jsxs)(P,{flex:1,children:[ye&&Object(c.jsx)(j.a,{fullWidth:!0,fullHeight:!0,onChangeValue:re,placeholder:ve,value:ne,onFocus:I,onBlur:B,onReturn:function(e){null===D||void 0===D||D(e)},variant:"search"}),!ye&&Object(c.jsxs)(h.a,{bg:"primary_1",color:"neutral_0",onClick:function(){re(""),null===R||void 0===R||R()},ml:3,children:[G,Object(c.jsx)(f.a,{icon:u.faTimes,ml:2,color:"neutral_0"})]})]})]}),!F&&Object(c.jsx)(C.Box,{flex:"1"}),ge.map((function(e,t){return Object(c.jsx)(O.a,{left:!0,children:e},t)}))]}),be&&Object(c.jsx)(C.Box,{style:{width:X.width,left:X.left,position:"absolute"},children:Object(c.jsx)(L,{expanded:E,onApply:Oe,onCancel:me,children:be})})]})}},36:function(e,t,n){"use strict";n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"m",(function(){return j})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return O}));var r=n(3),a=Object(r.createAsyncAction)("SAVE SUGGESTION","SAVE SUGGESTION SUCCESS","SAVE SUGGESTION FAILURE")(),o=Object(r.createAsyncAction)("SAVE SUGGESTION TAGS","SAVE SUGGESTION TAGS SUCCESS","SAVE SUGGESTION TAGS FAILURE")(),c=Object(r.createAsyncAction)("DELETE SUGGESTION TAG","DELETE SUGGESTION TAG SUCCESS","DELETE SUGGESTION TAG FAILURE")(),i=Object(r.createAsyncAction)("FETCH SYNONYM BY MAPPED VALUE","FETCH SYNONYM BY MAPPED VALUE SUCCESS","FETCH SYNONYM BY MAPPED VALUE FAILURE")(),s=Object(r.createAsyncAction)("FETCH SUGGESTIONS","FETCH SUGGESTIONS SUCCESS","FETCH SUGGESTIONS FAILURE")(),l=Object(r.createStandardAction)("SET TOTAL FETCHED MESSAGES")(),u=Object(r.createAsyncAction)("FETCH SUGGESTIONS COUNT","FETCH SUGGESTIONS COUNT SUCCESS","FETCH SUGGESTIONS COUNT FAILURE")(),d=Object(r.createAsyncAction)("DELETE SUGGESTION","DELETE SUGGESTION SUCCESS","DELETE SUGGESTION FAILURE")(),b=Object(r.createAsyncAction)("CHECK DRAFT SUGGESTION","CHECK DRAFT SUGGESTION SUCCESS","CHECK DRAFT SUGGESTION FAILURE")(),f=Object(r.createAsyncAction)("FETCH DATA TAGS","FETCH DATA TAGS SUCCESS","FETCH DATA TAGS FAILURE")(),p=Object(r.createStandardAction)("CHANGE SUGGESTION")(),j=Object(r.createStandardAction)("SEARCH SUGGESTIONS")(),h=Object(r.createStandardAction)("FILTER SUGGESTIONS")(),O=Object(r.createStandardAction)("MATCH SUGGESTIONS FILTER TAGS")();Object(r.createAsyncAction)("ACCEPT SUGGESTIONS","ACCEPT SUGGESTIONS SUCCESS","ACCEPT SUGGESTIONS FAILURE")()},37:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n(3),a=Object(r.createAsyncAction)("FETCH REGEX","FETCH REGEX SUCCESS","FETCH REGEX FAILURE")(),o=Object(r.createAsyncAction)("FETCH REGEXES","FETCH REGEXES SUCCESS","FETCH REGEXES FAILURE")(),c=Object(r.createAsyncAction)("CREATE REGEX","CREATE REGEX SUCCESS","CREATE REGEX FAILURE")(),i=Object(r.createAsyncAction)("UPDATE REGEX","UPDATE REGEX SUCCESS","UPDATE REGEX FAILURE")(),s=Object(r.createAsyncAction)("DELETE REGEX","DELETE REGEX SUCCESS","DELETE REGEX FAILURE")(),l=Object(r.createAsyncAction)("FETCH LOOKUP TABLES","FETCH LOOKUP TABLES SUCCESS","FETCH LOOKUP TABLES FAILURE")(),u=Object(r.createAsyncAction)("FETCH LOOKUP TABLE","FETCH LOOKUP TABLE SUCCESS","FETCH LOOKUP TABLE FAILURE")(),d=Object(r.createAsyncAction)("CREATE LOOKUP TABLE","CREATE LOOKUP TABLE SUCCESS","CREATE LOOKUP TABLE FAILURE")(),b=Object(r.createAsyncAction)("DELETE LOOKUP TABLE","DELETE LOOKUP TABLE SUCCESS","DELETE LOOKUP TABLE FAILURE")()},38:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return j}));var r=n(3),a=Object(r.createAsyncAction)("CREATE INTERACTIVE LEARNING CONVERSATION","CREATE INTERACTIVE LEARNING CONVERSATION SUCCESS","CREATE INTERACTIVE LEARNING CONVERSATION FAILURE")(),o=Object(r.createStandardAction)("UNDO INTERACTIVE LEARNING CONVERSATION")(),c=Object(r.createAsyncAction)("PARSE MESSAGE FOR INTERACTIVE LEARNING","PARSE MESSAGE FOR INTERACTIVE LEARNING SUCCESS","PARSE MESSAGE FOR INTERACTIVE LEARNING FAILURE")(),i=Object(r.createStandardAction)("CHANGE PARSED MESSAGE")(),s=Object(r.createStandardAction)("CANCEL PARSED MESSAGE")(),l=Object(r.createAsyncAction)("SAVE EVENT","SAVE EVENT SUCCESS","SAVE EVENT FAILURE")(),u=Object(r.createAsyncAction)("FETCH INTERACTIVE LEARNING PREDICTION","FETCH INTERACTIVE LEARNING PREDICTION SUCCESS","FETCH INTERACTIVE LEARNING PREDICTION FAILURE")(),d=Object(r.createStandardAction)("CHANGE PREDICTION")(),b=Object(r.createAsyncAction)("CONFIRM PREDICTION","CONFIRM PREDICTION SUCCESS","CONFIRM PREDICTION FAILURE")(),f=Object(r.createAction)("CLEAR INTERACTIVE LEARNING",(function(e){return function(t){return e(t)}})),p=Object(r.createStandardAction)("CHANGE STRICT MODE")(),j=Object(r.createAsyncAction)("CREATE ACTION","CREATE ACTION SUCCESS","CREATE ACTION FAILURE")()},39:function(e,t,n){"use strict";var r=n(16);t.a=function(e){var t=e.resource,n=e.action,a=e.attributes,o=void 0===a?[]:a,c=e.yes,i=void 0===c?null:c,s=e.no;return Object(r.f)(t,n,o)?i:s||null}},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(6),a=n.n(r),o=n(15),c=n(7),i=n(18);function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function l(e,t,n,r,s){var l=a.a.mark(u);function u(u,d){var b,f,p,j;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b=r?r(d.payload):[d.payload],a.delegateYield(c.b.apply(void 0,[e,u].concat(Object(o.a)(b))),"t0",3);case 3:return f=a.t0,p=n?n(f,d.payload):f,a.next=7,Object(c.f)(t.success(p));case 7:a.next=16;break;case 9:return a.prev=9,a.t1=a.catch(0),a.next=13,Object(i.a)(a.t1);case 13:return j=s?s(a.t1,d.payload):a.t1,a.next=16,Object(c.f)(t.failure(j));case 16:case"end":return a.stop()}}),l,null,[[0,9]])}return u}},41:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"m",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return h}));var r=n(3),a=Object(r.createAsyncAction)("FETCH STORIES","FETCH STORIES SUCCESS","FETCH STORIES FAILURE")(),o=Object(r.createAsyncAction)("FETCH STORY VISUALIZATION","FETCH STORY VISUALIZATION SUCCESS","FETCH STORY VISUALIZATION FAILURE")(),c=Object(r.createAsyncAction)("SAVE STORY","SAVE STORY SUCCESS","SAVE STORY FAILURE")(),i=Object(r.createAsyncAction)("UPDATE STORY","UPDATE STORY SUCCESS","UPDATE STORY FAILURE")(),s=Object(r.createAsyncAction)("DELETE STORY","DELETE STORY SUCCESS","DELETE STORY FAILURE")(),l=Object(r.createAsyncAction)("ADD STORIES","ADD STORIES SUCCESS","ADD STORIES FAILURE")(),u=Object(r.createAsyncAction)("REPLACE STORIES","REPLACE STORIES SUCCESS","REPLACE STORIES FAILURE")(),d=Object(r.createStandardAction)("SEARCH STORIES")(),b=Object(r.createStandardAction)("CHANGE STORY")(),f=Object(r.createStandardAction)("CHANGE STORY SELECTION")(),p=Object(r.createStandardAction)("DOWNLOAD STORIES")(),j=Object(r.createStandardAction)("SET SHOULD REPLACE STORIES")(),h=Object(r.createStandardAction)("SET STORIES TO CONFIRM")()},43:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(3),a=Object(r.createAsyncAction)("FETCH BUSINESS_LOGIC_FLOWS","FETCH BUSINESS_LOGIC_FLOWS SUCCESS","FETCH BUSINESS_LOGIC_FLOWS FAILURE")(),o=Object(r.createAsyncAction)("FETCH BUSINESS_LOGIC_FLOW","FETCH BUSINESS_LOGIC_FLOW SUCCESS","FETCH BUSINESS_LOGIC_FLOW FAILURE")(),c=Object(r.createAsyncAction)("CREATE BUSINESS_LOGIC_FLOW","CREATE BUSINESS_LOGIC_FLOW SUCCESS","CREATE BUSINESS_LOGIC_FLOW FAILURE")(),i=Object(r.createAsyncAction)("UPDATE BUSINESS_LOGIC_FLOW","UPDATE BUSINESS_LOGIC_FLOW SUCCESS","UPDATE BUSINESS_LOGIC_FLOW FAILURE")(),s=Object(r.createAsyncAction)("DELETE BUSINESS_LOGIC_FLOW","DELETE BUSINESS_LOGIC_FLOW SUCCESS","DELETE BUSINESS_LOGIC_FLOW FAILURE")(),l=Object(r.createStandardAction)("CLEAR BUSINESS_LOGIC_FLOW ERROR")()},46:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return b})),n.d(t,"f",(function(){return f}));var r=n(3),a=Object(r.createAsyncAction)("FETCH USERS","FETCH USERS SUCCESS","FETCH USERS FAILURE")(),o=Object(r.createAsyncAction)("CREATE USER","CREATE USER SUCCESS","CREATE USER FAILURE")(),c=Object(r.createStandardAction)("CLEAR NEW USER")(),i=Object(r.createAsyncAction)("FETCH USER","FETCH USER SUCCESS","FETCH USER FAILURE")(),s=Object(r.createAsyncAction)("UPDATE USER","UPDATE USER SUCCESS","UPDATE USER FAILURE")(),l=Object(r.createAsyncAction)("SAVE USER ROLES","SAVE USER ROLES SUCCESS","SAVE USER ROLES FAILURE")(),u=Object(r.createAsyncAction)("DELETE USER","DELETE USER SUCCESS","DELETE USER FAILURE")(),d=Object(r.createStandardAction)("SAVE USERS")(),b=Object(r.createStandardAction)("SEARCH USERS")(),f=Object(r.createStandardAction)("ONBOARDING STEP COMPLETED")()},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n(3),a=Object(r.createAsyncAction)("FETCH GROUPED RESPONSES","FETCH GROUPED RESPONSES SUCCESS","FETCH GROUPED RESPONSES FAILURE")(),o=Object(r.createAsyncAction)("FETCH RESPONSES SUGGESTIONS","FETCH RESPONSES SUGGESTIONS SUCCESS","FETCH RESPONSES SUGGESTIONS FAILURE")(),c=Object(r.createAsyncAction)("ADD RESPONSE","ADD RESPONSE SUCCESS","ADD RESPONSE FAILURE")(),i=Object(r.createAsyncAction)("UPDATE RESPONSE","UPDATE RESPONSE SUCCESS","UPDATE RESPONSE FAILURE")(),s=Object(r.createAsyncAction)("UPDATE RESPONSE NAME","UPDATE RESPONSE NAME SUCCESS","UPDATE RESPONSE NAME FAILURE")(),l=Object(r.createAsyncAction)("DELETE RESPONSE","DELETE RESPONSE SUCCESS","DELETE RESPONSE FAILURE")(),u=Object(r.createStandardAction)("SEARCH RESPONSES")()},51:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return f}));var r=n(3),a=Object(r.createAsyncAction)("FETCH RULES","FETCH RULES SUCCESS","FETCH RULES FAILURE")(),o=Object(r.createAsyncAction)("FETCH RULE VISUALIZATION","FETCH RULE VISUALIZATION SUCCESS","FETCH RULE VISUALIZATION FAILURE")(),c=Object(r.createAsyncAction)("SAVE RULE","SAVE RULE SUCCESS","SAVE RULE FAILURE")(),i=Object(r.createAsyncAction)("UPDATE RULE","UPDATE RULE SUCCESS","UPDATE RULE FAILURE")(),s=Object(r.createAsyncAction)("DELETE RULE","DELETE RULE SUCCESS","DELETE RULE FAILURE")(),l=Object(r.createAsyncAction)("ADD RULES","ADD RULES SUCCESS","ADD RULES FAILURE")(),u=Object(r.createAsyncAction)("REPLACE RULES","REPLACE RULES SUCCESS","REPLACE RULES FAILURE")(),d=Object(r.createStandardAction)("CHANGE RULES")(),b=Object(r.createStandardAction)("CHANGE RULE SELECTION")(),f=Object(r.createStandardAction)("DOWNLOAD RULES")()},528:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n(1187),o=n(217),c=n(1182),i=n(1),s=n(4),l=n(22);function u(e){var t=e.children,n=e.label,u=e.onClearSelection,d=e.pluralLabel,b=e.top,f=void 0===b?56:b,p=e.total,j=i.useContext(l.ThemeContext),h=1===p?n:d;return Object(r.jsxs)(s.Flex,{width:"100%",height:"64px",color:"neutral_0",backgroundColor:"primary_2",justifyContent:"space-between",alignItems:"center",pl:4,pr:Object(c.a)()+j.space[4]+"px",sx:{position:"absolute",top:f,left:0,zIndex:1,borderTopLeftRadius:0===f?"large":0,borderTopRightRadius:0===f?"large":0},children:[Object(r.jsxs)(s.Flex,{width:.5,children:[Object(r.jsx)(s.Box,{as:"label",flex:"0 0 auto",width:"32px",children:Object(r.jsx)(a.a,{checked:!0,partial:!0,variant:"primary",onChange:u})}),Object(r.jsx)(s.Box,{flex:"1 1 auto",alignSelf:"flex-start",children:Object(r.jsxs)(o.a,{variant:"inverse",children:[p," ",h]})})]}),t]})}},537:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(2),a=n(15),o=n(5),c=n(0),i=n(22),s=n(55),l=n(1),u=n(67),d=(n(2241),n(47)),b=n(4);function f(){var e=Object(d.a)(["\n  &:after {\n    content: '';\n    opacity: 0.9;\n    background-color: #f6f7fb;\n    position: absolute;\n    width: 100%;\n    height: 100vw;\n    z-index: 99;\n    top: 100%;\n  }\n"]);return f=function(){return e},e}function p(){var e=Object(d.a)(["\n  transition: filter 0.2s linear;\n  filter: brightness(1);\n  background-color: #fffffe; /* Slightly off-white so it is always darkened by the filter*/\n"]);return p=function(){return e},e}var j=Object(i.css)(p()),h=(Object(i.css)(f()),n(23)),O=n(1187),x=n(217),g=n(2277),v=n(211),m=n.n(v);function y(e){var t=e.actions,n=e.onChangeSelected,r=e.resource,a=e.selected,o=e.total;return Object(c.jsxs)(b.Flex,{bg:"primary_2",width:"100%",alignItems:"center",alignSelf:"stretch",children:[Object(c.jsx)(b.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto",children:Object(c.jsxs)(b.Flex,{alignItems:"center",children:[Object(c.jsx)(b.Box,{flex:"0 1 auto",mr:3,children:Object(c.jsx)("label",{children:Object(c.jsx)(O.a,{variant:"primary",checked:!0,partial:a<o,onChange:function(){return n([])}})})}),Object(c.jsx)(b.Box,{flex:"1",children:Object(c.jsxs)(x.a,{variant:"bodySecondary",fontWeight:1,color:"neutral_0",children:[Object(g.a)(m()(r.toString(),a,!0)).toLowerCase()," selected"]})})]})}),Object(c.jsx)(b.Box,{flex:"1 0"}),Object(c.jsx)(b.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto",children:t})]})}var C=n(357);function S(e){var t=e.add,n=e.tableDimensions,a=e.adding,o=e.bulkActions,i=e.buttons,s=void 0===i?[]:i,d=e.disableLabels,f=e.filters,p=void 0===f?function(){return null}:f,j=e.filtersOpen,O=e.highlightAddRenderer,x=e.onChangeFiltersOpen,g=e.onChangeSelected,v=e.onSearch,m=e.onSearchPillClick,S=e.onSearchReturn,w=e.onSearchFocus,E=e.onSearchBlur,k=e.onSetAdding,T=e.quickFilters,A=e.resource,_=e.suggestionsQuery,F=e.searchQuery,R=void 0===F?"":F,D=e.searchPill,I=void 0!==D&&D,L=e.selected,N=e.title,B=e.total,U=e.hideTotal,M=Object(h.a)(e,["add","tableDimensions","adding","bulkActions","buttons","disableLabels","filters","filtersOpen","highlightAddRenderer","onChangeFiltersOpen","onChangeSelected","onSearch","onSearchPillClick","onSearchReturn","onSearchFocus","onSearchBlur","onSetAdding","quickFilters","resource","suggestionsQuery","searchQuery","searchPill","selected","title","total","hideTotal"]),P=M.className,q=M.style,H=l.useCallback((function(e){return L.length>0?Object(c.jsx)(b.Box,Object(r.a)(Object(r.a)({},e),{},{style:Object(r.a)(Object(r.a)({},e.style),{},{height:"64px"}),children:Object(c.jsx)(y,{total:B,selected:L.length,onChangeSelected:g,resource:A,actions:o})})):t&&a?Object(c.jsx)(b.Box,Object(r.a)(Object(r.a)({},e),{},{style:Object(r.a)(Object(r.a)(Object(r.a)({},O&&{backgroundColor:"#F6F7FB"}),e.style),{},{height:"auto",minHeight:e.style.height,overflow:"visible"},d?{position:"absolute",top:"unset",zIndex:1,display:"flex"}:{}),children:t((function(){return k(!1)}),n)})):d?null:Object(u.f)(e)}),[L,B,g,A,o,t,n,a,k,d,O]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a,{adding:a,buttons:s,className:P,filters:p,filtersOpen:j,onChangeFiltersOpen:x,onSearch:v,onSearchPillClick:m,onSearchReturn:S,onSearchFocus:w,onSearchBlur:E,resource:A,suggestionsQuery:_,searchQuery:R,searchPill:I,setAdding:t&&k,style:Object(r.a)(Object(r.a)({},q),{},{height:56}),title:N,total:B,hideTotal:U,quickFilters:T,quickFiltersStyle:Object(r.a)(Object(r.a)({},q),{},{height:"auto"})}),Object(c.jsx)(H,Object(r.a)(Object(r.a)({},M),{},{style:Object(r.a)(Object(r.a)({},q),{},{height:64}),className:"".concat(M.className," ReactVirtualized__Dimmable").concat(j?"_Dim":"")}))]})}var w=l.memo(Object(i.default)(u.e).withConfig({displayName:"Table__StyledTable",componentId:"sc-1s86f98-0"})(["& .ReactVirtualized{&__Dimmable{&,&_Dim{","}&_Dim{filter:brightness(0.5);}}&__Table{&__header{&Row{&:first-of-type{border-radius:","px ","px 0 0;}padding:0 !important;background-color:",";text-transform:none;}&TruncatedText{text-transform:none;font-size:","px;color:",";}}&__headerRow,&__row{background-color:",";box-sizing:border-box;border:1px solid transparent;border-bottom:1px solid ",";&:focus-within{border:1px solid ",";}}&__Grid{background-color:",";outline:none;border-radius:0 0 ","px ","px;}&__headerColumn:first-of-type,&__rowColumn:first-of-type{margin-left:","px;}&__headerColumn:last-of-type,&__rowColumn:last-of-type{margin-right:","px;}&__row{transition:all ease 0.2s;&ColumnOnHover{visibility:hidden;}&Column_overflow{overflow:visible !important;}&:hover{background-color:",";}&_focused{background-color:"," !important;}&_focused,&:hover{& .ReactVirtualized__Table__rowColumnOnHover{visibility:visible;}}}}}"],j,Object(s.a)("radii.large"),Object(s.a)("radii.large"),Object(s.a)("colours.neutral_0"),Object(s.a)("fontSizes.2"),Object(s.a)("colours.neutral_8"),Object(s.a)("colours.neutral_0"),Object(s.a)("colours.neutral_2"),Object(s.a)("colours.primary_2"),Object(s.a)("colours.neutral_1"),Object(s.a)("radii.large"),Object(s.a)("radii.large"),Object(s.a)("space.4"),Object(s.a)("space.4"),Object(s.a)("colours.neutral_1"),Object(s.a)("colours.neutral_0")));function E(e){var t=e.addRenderer,n=e.autoHeight,i=e.bulkActionsRenderer,s=e.buttons,d=void 0===s?[]:s,b=e.children,f=e.clearCache,p=e.data,j=e.deferredMeasurementCache,h=e.disableDimmable,O=e.disableHeader,x=e.disableLabels,g=e.filtersRenderer,v=e.focused,m=e.gridStyle,y=e.groupedTotal,C=e.headerHeight,E=e.headerStyle,k=e.highlightAddRenderer,T=e.noRowsRenderer,A=e.onLoadMoreRows,_=e.onSearch,F=e.onSearchPillClick,R=e.onSearchReturn,D=e.onSearchFocus,I=e.onSearchBlur,L=e.overscanRowCount,N=e.quickFilters,B=e.resource,U=e.rowHeight,M=e.rowStyle,P=e.suggestionsQuery,q=e.searchQuery,H=e.searchPill,G=e.scrollToIndex,V=e.title,z=e.total,Y=e.hideTotal,W=e.forwardedRef,K=l.useRef(null),Q=l.useState(!1),X=Object(o.a)(Q,2),$=X[0],Z=X[1],J=l.useState([]),ee=Object(o.a)(J,2),te=ee[0],ne=ee[1],re=l.useState(!1),ae=Object(o.a)(re,2),oe=ae[0],ce=ae[1],ie=l.useCallback((function(e,t){ne((function(n){return t?[].concat(Object(a.a)(n),[e]):n.filter((function(t){return t!==e}))}))}),[ne]),se=l.useMemo((function(){return te.map((function(e){return p[e]}))}),[te,p]),le=l.useCallback((function(e){var t=e.startIndex,n=e.stopIndex;return A?A({search:q||"",offset:t,limit:n-t+1}):new Promise((function(e){return e()}))}),[q,A]),ue=l.useCallback((function(){K.current&&K.current.resetLoadMoreRowsCache()}),[K]),de=l.useMemo((function(){return i&&i({setSelected:ne,selected:te,dataSelected:se})}),[i,ne,te,se]),be=l.useMemo((function(){return void 0!==C?C:(N?56:0)+(_||de?56:0)+64}),[C,N,_,de]),fe=l.useMemo((function(){return h||!oe&&!$?"ReactVirtualized__Dimmable":"ReactVirtualized__Dimmable_Dim"}),[h,oe,$]),pe=l.useCallback((function(){return T&&T(oe,ce)}),[T,oe,ce]);return Object(c.jsx)(u.a,{onResize:f,children:function(e){return Object(c.jsx)(u.c,{isRowLoaded:function(e){var t=e.index;return void 0!==p[t]},loadMoreRows:le,rowCount:z,ref:K,children:function(a){var o=a.onRowsRendered,i=a.registerChild;return Object(c.jsx)(w,Object(r.a)(Object(r.a)({},e),{},{gridStyle:m,disableHeader:!!O,headerHeight:be,rowHeight:U||64,ref:W||i,rowGetter:function(e){var t=e.index;return p[t]},rowCount:z,scrollToIndex:G,overscanRowCount:L,autoHeight:n,onRowsRendered:o,noRowsRenderer:pe,gridClassName:fe,rowClassName:function(e){var t=e.index;return te.includes(t)?"ReactVirtualized__Table__row_selected":v===t?"ReactVirtualized__Table__row_focused":void 0},rowStyle:function(e){var t=e.index;return E&&-1===t?E:M&&-1!==t?M({index:t}):void 0},headerRowRenderer:function(n){return Object(c.jsx)(S,Object(r.a)({add:t,tableDimensions:e,bulkActions:de,buttons:d,highlightAddRenderer:k,filters:g,filtersOpen:$,onChangeFiltersOpen:Z,onChangeSelected:ne,onSearch:_,onSearchPillClick:F,onSearchReturn:R,onSearchFocus:D,onSearchBlur:I,quickFilters:N,resource:B,suggestionsQuery:P,searchQuery:q,searchPill:H,selected:te,title:V,total:y||z,hideTotal:Y,adding:oe,disableLabels:x,onSetAdding:ce},n))},children:b({onChangeSelected:ie,selected:te,dataSelected:se,onResetCache:ue,cache:j})}))}})}})}},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(3),a=Object(r.createAsyncAction)("FETCH SYNONYMS","FETCH SYNONYMS SUCCESS","FETCH SYNONYMS FAILURE")(),o=Object(r.createAsyncAction)("UPDATE SYNONYM VALUE","UPDATE SYNONYM VALUE SUCCESS","UPDATE SYNONYM VALUE FAILURE")(),c=Object(r.createAsyncAction)("UPDATE SYNONYM REFERENCE","UPDATE SYNONYM REFERENCE SUCCESS","UPDATE SYNONYM REFERENCE FAILURE")(),i=Object(r.createAsyncAction)("ADD SYNONYM","ADD SYNONYM SUCCESS","ADD SYNONYM FAILURE")(),s=Object(r.createAsyncAction)("ADD SYNONYM VALUES","ADD SYNONYM VALUES SUCCESS","ADD SYNONYM VALUES FAILURE")(),l=Object(r.createAsyncAction)("DELETE SYNONYM VALUES","DELETE SYNONYM VALUES SUCCESS","DELETE SYNONYM VALUES FAILURE")();Object(r.createStandardAction)("SEARCH SYNONYMS")()},541:function(e,t,n){"use strict";var r=n(0),a=n(2249),o=n(21),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e){var t=e.children;return Object(r.jsx)(o.a,c({sx:{zIndex:99993,position:"fixed",opacity:0}},{children:t}),void 0)},s=function(e){return{cardBoxShadow:e.cardBoxShadow||"none",BackgroundWrapper:e.BackgroundWrapper||i}},l={default:s({BackgroundWrapper:function(e){var t=e.children;return Object(r.jsx)(a.a.div,c({initial:{opacity:0},animate:{opacity:.7,position:"fixed",zIndex:99993},exit:{opacity:0}},{children:t}),void 0)}}),transparentBg:s({cardBoxShadow:"md"}),contextualBoxShadow:s({cardBoxShadow:"md"})};t.a=l},550:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(5),a=n(6),o=n.n(a),c=n(8),i=n(188),s=n(45),l=n.n(s),u=n(7),d=n(3),b=n(104),f=n(18),p=n(140),j=n(38),h=n(40),O=n(12),x=n(19),g=o.a.mark(w),v=o.a.mark(k),m=o.a.mark(_),y=o.a.mark(Y),C=o.a.mark(W),S=function(e){return{isOptimistic:!0,text:e,timestamp:Date.now()/1e3,event:"user",is_flagged:!1}};function w(e,t){var n,r,a,i,s,d,b,p,j,h,O,v,m,y,C,S,w,E,k;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.filter,a=n.limit,i=n.offset,o.delegateYield(Object(u.h)((function(e){return e.messages})),"t0",2);case 2:if(s=o.t0,d=s.conversationsFetched,b=s.oldestConversationTimestamp,p=s.total,!((j=i+a)<=d&&0!==i)){o.next=9;break}return o.abrupt("return");case 9:if(h=r.date.from&&l()(r.date.from),O=r.date.to&&l()(r.date.to).endOf("day"),0!==i&&b&&(v=l.a.unix(b),O&&!O.isAfter(v)||(O=v)),!(h&&O&&O.isBefore(h))){o.next=14;break}return o.abrupt("return");case 14:return m=0===i?j:j-d,y=Math.ceil(m/30),C=Math.min(30*y,120),o.prev=17,o.delegateYield(Object(u.b)(c.lb,e,C,0,h&&h.toISOString(),O&&O.toISOString(),r.coreConfidence,r.nluConfidence,r.minimumMessages,r.intents,r.entities,r.actions,r.reviewStatus,r.slots,r.tags,r.policies,r.channels,r.flaggedOnly,r.storiesNotRecognised),"t1",19);case 19:return S=o.t1,w=S.total,E=S.conversations,k=0===i?w:p,o.next=25,Object(u.f)(x.p.success({total:k,conversations:E,offset:i}));case 25:o.next=33;break;case 27:return o.prev=27,o.t2=o.catch(17),o.next=31,Object(f.a)(o.t2);case 31:return o.next=33,Object(u.f)(x.p.failure(o.t2));case 33:case"end":return o.stop()}}),g,null,[[17,27]])}var E=Object(h.a)(c.jb,x.g,(function(e){return{conversation:e}}),(function(e){var t=e.conversationId,n=e.environment,r=e.until,a=e.since;return Object(h.b)(t,"full_conversation",n,r,a)}));function k(e,t){var n,r,a,i,s,l,d;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,i=n.until,s=n.since,o.prev=1,o.delegateYield(Object(u.b)(c.kb,e,r,void 0,a,i,s,!1),"t0",3);case 3:return l=o.t0,o.delegateYield(Object(u.b)(c.kb,e,r,void 0,a,i,s,!0),"t1",5);case 5:return d=o.t1,o.next=8,Object(u.f)(x.o.success({story:l,testStory:d}));case 8:o.next=16;break;case 10:return o.prev=10,o.t2=o.catch(1),o.next=14,Object(f.a)(o.t2);case 14:return o.next=16,Object(u.f)(x.g.failure(o.t2));case 16:case"end":return o.stop()}}),v,null,[[1,10]])}var T=Object(h.a)(c.Yb,x.r),A=Object(h.a)(c.Hc,x.x,(function(e,t){var n=t.text,r=t.senderId,a=t.environment;return{message:S(n),senderId:r,environment:a}}),(function(e){var t=e.text,n=e.senderId,r=e.environment;return Object(h.b)(n,S(t).text,r)}),(function(e,t){var n=t.text,r=t.senderId;return{error:e,message:S(n),senderId:r}}));function _(e,t){var n,r,a,s,l,d;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,s=n.timestamp,"full_conversation",o.prev=2,o.delegateYield(Object(u.b)(c.jb,e,r,"full_conversation",a,s),"t0",4);case 4:l=o.t0,d=new Blob([JSON.stringify(l)],{type:"application/javascript;charset=utf-8"}),Object(i.saveAs)(d,"".concat(r,"-dump.json")),o.next=15;break;case 9:return o.prev=9,o.t1=o.catch(2),o.next=13,Object(f.a)(o.t1);case 13:return o.next=15,Object(u.f)(x.g.failure(o.t1));case 15:case"end":return o.stop()}}),m,null,[[2,9]])}var F=Object(h.a)(c.z,x.c,(function(e,t){return{conversationId:t.conversationId}}),(function(e){var t=e.conversationId;return Object(h.b)(t)})),R=Object(h.a)(c.fb,x.k),D=Object(h.a)(c.eb,x.j),I=Object(h.a)(c.cb,x.h),L=Object(h.a)(c.gb,x.l),N=Object(h.a)(c.db,x.i),B=Object(h.a)(c.bb,x.f,void 0,(function(e){var t=e.botName,n=e.description;return Object(h.b)(t,n)})),U=Object(h.a)(c.Y,x.e),M=Object(h.a)(c.jc,x.s,(function(e,t){return{conversationId:t.conversationId,timestamp:t.timestamp}}),(function(e){var t=e.conversationId,n=e.timestamp;return Object(h.b)(t,n)})),P=Object(h.a)(c.ad,x.B,(function(e,t){return{conversationId:t.conversationId,timestamp:t.timestamp}}),(function(e){var t=e.conversationId,n=e.timestamp;return Object(h.b)(t,n)})),q=Object(h.a)(c.hd,x.C,(function(e,t){return{conversationId:t.conversationId,status:t.status}}),(function(e){var t=e.conversationId,n=e.status;return Object(h.b)(t,n)})),H=Object(h.a)(c.Ac,x.u,(function(e,t){return{conversationId:t.conversationId,tags:e}}),(function(e){var t=e.conversationId,n=e.tags;return Object(h.b)(t,n)})),G=Object(h.a)(c.uc,x.t,(function(e,t){return{conversationId:t.conversationId,tag:t.tag}}),(function(e){var t=e.conversationId,n=e.tag;return Object(h.b)(t,n)})),V=Object(h.a)(c.hb,x.m),z=Object(h.a)(c.ib,x.n,void 0,(function(e){var t=e.slot,n=e.q;return Object(h.b)(t,n)}));function Y(e){var t,n,a,c,i,s,l,f,p,h,O,g,v;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.conversationId,a=t.environment,c=t.guest,o.delegateYield(Object(u.h)((function(e){var t=e.messages.conversationEvents[n];return t?t[t.length-1].timestamp:0})),"t0",2);case 2:i=o.t0,s=c?x.q:x.g.request;case 4:return o.next=7,Object(u.f)(s({conversationId:n,environment:a,since:i}));case 7:return o.next=9,Object(u.i)([Object(d.getType)(x.g.success),Object(d.getType)(x.g.failure)]);case 9:return(l=o.sent).type===Object(d.getType)(x.g.success)&&(f=l.payload.conversation.events).length>0&&(i=f[f.length-1].timestamp),o.delegateYield(Object(u.h)((function(e){return[e.interactiveLearning.conversationId,e.interactiveLearning.strictMode]})),"t1",12);case 12:if(p=o.t1,h=Object(r.a)(p,2),O=h[0],g=h[1],O!==n||!g){o.next=21;break}return o.next=19,Object(u.g)({userMessage:Object(u.i)(Object(d.getType)(x.x.success)),botMessage:Object(u.i)(Object(d.getType)(j.f.success)),refresh:Object(u.d)(b.e)});case 19:o.next=25;break;case 21:return o.delegateYield(Object(u.h)((function(e){return e.messages.awaitingResponse})),"t2",22);case 22:return v=o.t2,o.next=25,Object(u.d)(v?b.c:b.e);case 25:o.next=4;break;case 27:case"end":return o.stop()}}),y)}function W(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.g)({poll:Object(u.b)(Y,e),stop:Object(u.i)(Object(d.getType)(x.A))});case 2:case"end":return t.stop()}}),C)}var K=Object(h.a)(c.Cc,x.v),Q=[Object(O.b)(x.x.request,A),Object(O.c)(x.w,A),Object(O.b)(x.g.request,E),Object(O.b)(x.c.request,F),Object(O.c)(x.q,E),Object(O.b)(x.r.request,T),Object(O.b)(x.p.request,w),Object(O.b)(x.d,_),Object(O.b)(x.k.request,R),Object(O.b)(x.j.request,D),Object(O.b)(x.h.request,I),Object(O.b)(x.l.request,L),Object(O.b)(x.i.request,N),Object(O.b)(x.f.request,B),Object(O.c)(x.e.request,U),Object(O.b)(x.s.request,M),Object(O.b)(x.B.request,P),Object(O.b)(x.C.request,q),Object(O.b)(x.o.request,k),Object(O.b)(x.u.request,H),Object(O.b)(x.t.request,G),Object(O.b)(x.m.request,V),Object(O.b)(x.n.request,z),Object(O.b)(x.v.request,K),Object(O.a)(Object(d.getType)(x.z),W,!1,!0),Object(O.a)(Object(d.getType)(x.v.success),p.b)];t.b=Q},578:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m}));var r=n(0),a=n(1),o=n(61),c=n.n(o),i=n(2250),s=n(2282),l=n(2249),u=n(21),d=n(217),b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},f=function(e){switch(null===e||void 0===e?void 0:e.split("-")[0]){case"top":return{bottom:0};case"bottom":return{top:"-5px"};case"left":return{right:"-5px"};case"right":return{left:"-5px"}}return{}},p="normal",j=a.forwardRef((function(e,t){var n=e.children,o=e.style,c=void 0===o?{}:o,i=e.disableArrow,j=e.arrowStyle,h=void 0===j?{}:j,O=e.arrowRef,x=e.id,g=e.zIndex,v=void 0===g?99:g,m=e["data-popper-placement"],y=Object(s.a)();return a.useEffect((function(){m&&(y.set(b({opacity:0},function(e){switch(null===e||void 0===e?void 0:e.split("-")[0]){case"top":return{y:-10};case"bottom":return{y:10};case"left":return{x:-10};case"right":return{x:10};default:return{}}}(m))),y.start({opacity:1,x:0,y:0}))}),[y,m]),Object(r.jsx)("div",b({"data-popper-placement":m,style:b({display:"inline-block",zIndex:v},c),id:x,ref:t},{children:Object(r.jsx)(l.a.div,b({animate:y},{children:Object(r.jsxs)(u.a,b({sx:{display:"inline-block",bg:"neutral_8",color:"neutral_0",borderRadius:p,offset:.1}},{children:[Object(r.jsx)(d.a,b({variant:"bodySecondary",sx:{py:2,px:4},inheritColor:!0},{children:n}),void 0),!i&&Object(r.jsx)(u.a,{ref:O,sx:b(b({"&, &::before":{width:"10px",height:"10px",position:"absolute",zIndex:-1},"&::before":{content:'""',transform:"rotate(45deg)",bg:"neutral_8",top:0,left:0}},h),f(m))},void 0)]}),void 0)}),void 0)}),void 0)})),h=n(176),O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},x=a.createContext((function(){}));function g(e){var t=e.children,n=a.useState(null),o=n[0],i=n[1],s=c.a.createPortal(o,document.body);return Object(r.jsxs)(x.Provider,O({value:i},{children:[s,t]}),void 0)}var v=0;function m(e,t){void 0===t&&(t={});var n=a.useMemo((function(){return"tooltip-"+v++}),[]),o=a.useState(!1),c=o[0],s=o[1],l=a.useState(null),u=l[0],d=l[1],b=a.useState(null),f=b[0],p=b[1],g=a.useState(null),m=g[0],y=g[1],C=a.useContext(x),S=Object(i.a)(u,f,{placement:t.placement||"auto",modifiers:[{name:"arrow",options:{element:m,padding:h.b.radii.normal}},{name:"offset",options:{offset:[0,8]}}]}),w=S.styles,E=S.attributes;return a.useEffect((function(){t.disabled&&s(!1)}),[t.disabled]),a.useEffect((function(){if(u&&e&&!t.disabled){var n=u;return n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",a),n.addEventListener("focus",r),n.addEventListener("blur",a),function(){n.removeEventListener("mouseenter",r),n.removeEventListener("mouseleave",a),n.removeEventListener("focus",r),n.removeEventListener("blur",a)}}function r(){s(!0)}function a(){s(!1)}}),[u,e,t.disabled]),a.useEffect((function(){u&&u.setAttribute("aria-describedby",n)}),[u,n]),a.useEffect((function(){if(c&&!t.disabled){var a=Object(r.jsx)(j,O({id:n,ref:p,style:E.popper?w.popper:{position:"absolute",left:0,transform:"translateX(-100%)"}},E.popper,{disableArrow:t.disableArrow,arrowStyle:w.arrow,arrowRef:y,zIndex:t.zIndex},{children:e}),void 0);C(a)}else C(null);return function(){C(null)}}),[E.popper,e,n,t.disableArrow,y,C,p,c,w.arrow,w.popper,t.disabled]),a.useCallback((function(e){null!==e&&d(e)}),[d])}},63:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return i}));var r=n(3),a=Object(r.createAsyncAction)("CREATE ASSISTANT_LINKS","CREATE ASSISTANT_LINKS SUCCESS","CREATE ASSISTANT_LINKS FAILURE")(),o=Object(r.createAsyncAction)("FETCH ASSISTANT LINKS","FETCH ASSISTANT LINKS SUCCESS","FETCH ASSISTANT LINKS FAILURE")(),c=Object(r.createAsyncAction)("REMOVE ASSISTANT LINK","REMOVE ASSISTANT LINK SUCCESS","REMOVE ASSISTANT LINK FAILURE")(),i=Object(r.createStandardAction)("CLEAR ASSISTANT LINKS ERROR")()},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),a=n(23),o=n(0),c=n(22),i=n(59),s=n(266),l=(n(1),n(4)),u=n(24),d=n(111),b=Object(c.default)(d.a).withConfig({displayName:"Popup__Tooltip",componentId:"sc-1jg9gyz-0"})([""," "," max-width:max-content !important;box-shadow:0 2px 8px 0 rgba(116,118,123,0.31) !important;"],u.border,u.color);function f(e){e.actions;var t=e.title,n=e.children,c=e.content,u=e.onClickOutside,d=e.popupWidth,f=e.hideCloseIcon,p=Object(a.a)(e,["actions","title","children","content","onClickOutside","popupWidth","hideCloseIcon"]);return Object(o.jsx)(b,Object(r.a)(Object(r.a)({content:Object(o.jsxs)(l.Box,{width:d,children:[t&&Object(o.jsx)(l.Card,{p:4,sx:{borderBottom:"1px solid",borderColor:"neutral_2"},children:Object(o.jsxs)(l.Flex,{justifyContent:"space-between",alignItems:"center",children:[t,!f&&Object(o.jsx)(l.Box,{onClick:function(){return p.onClose()},style:{cursor:"pointer"},children:Object(o.jsx)(s.a,{icon:i.faTimes,color:"neutral_6",fontSize:"24px"})})]})}),Object(o.jsx)(l.Box,{children:c})]}),onClickOutside:u||p.onClose},p),{},{children:n}))}f.defaultProps={animation:"shift-away",appendTo:document.body,arrow:!1,bg:"neutral_0",borderRadius:"large",offset:[0,16],interactive:!0,placement:"bottom-end",role:"popup"}},731:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(5),a=n(23),o=n(2),c=n(45),i=n.n(c),s=n(3),l=n(263),u={PT1H:{start:i()().endOf("hour").subtract(1,"day").add(1,"minute").unix(),end:i()().endOf("hour").unix()},P1D:{start:i()().endOf("day").subtract(1,"month").add(1,"hour").unix(),end:i()().endOf("day").unix()},P1M:{start:i()().endOf("month").subtract(1,"year").add(1,"day").unix(),end:i()().endOf("month").unix()}},d={metrics:{conversation_length:[],conversation_steps:[],sessions_per_user:[],conversations:[],new_users:[],user_messages:[],bot_messages:[],total_messages:[]},start:u.P1D.start,end:u.P1D.end,bucket:"P1D",loading:!1},b=function(e,t,n){return n.map((function(n,r){return{value:n,timestamp:e+r*t}}))};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(s.getType)(l.a.request):var n=t.payload,c=n.bucket,i=n.start,u=n.end;return Object(o.a)(Object(o.a)({},e),{},{bucket:c,start:i,end:u,loading:!0});case Object(s.getType)(l.a.success):var f=e.start,p=t.payload,j=p.bin_width,h=Object(a.a)(p,["bin_width"]),O=Object.entries(h).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,b(f,j,a)]})).reduce((function(e,t){var n=Object(r.a)(t,2),a=n[0],c=n[1];return Object(o.a)(Object(o.a)({},e),{},{[a]:c})}),{});return Object(o.a)(Object(o.a)({},e),{},{metrics:O,loading:!1});case Object(s.getType)(l.a.failure):return Object(o.a)(Object(o.a)({},e),{},{loading:!1});default:return e}}},742:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);function a(e){var t=r.useRef();return r.useEffect((function(){t.current=e}),[e]),t.current}},77:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n(3),a=Object(r.createAsyncAction)("FETCH ROLES","FETCH ROLES SUCCESS","FETCH ROLES FAILURE")(),o=Object(r.createAsyncAction)("FETCH ROLE","FETCH ROLE SUCCESS","FETCH ROLE FAILURE")(),c=Object(r.createAsyncAction)("FETCH ROLE USERS","FETCH ROLE USERS SUCCESS","FETCH ROLE USERS FAILURE")(),i=Object(r.createAsyncAction)("SAVE ROLE","SAVE ROLE SUCCESS","SAVE ROLE FAILURE")(),s=Object(r.createAsyncAction)("UPDATE ROLE","UPDATE ROLE SUCCESS","UPDATE ROLE FAILURE")(),l=Object(r.createAsyncAction)("DELETE ROLE","DELETE ROLE SUCCESS","DELETE ROLE FAILURE")(),u=Object(r.createStandardAction)("FIND AND UPDATE ROLE")()},8:function(e,t,n){"use strict";n.d(t,"V",(function(){return f})),n.d(t,"zc",(function(){return p})),n.d(t,"W",(function(){return O})),n.d(t,"p",(function(){return B})),n.d(t,"X",(function(){return U})),n.d(t,"tc",(function(){return M})),n.d(t,"f",(function(){return D})),n.d(t,"nc",(function(){return Y})),n.d(t,"oc",(function(){return W})),n.d(t,"ab",(function(){return K})),n.d(t,"Z",(function(){return Q})),n.d(t,"q",(function(){return X})),n.d(t,"bd",(function(){return $})),n.d(t,"y",(function(){return Z})),n.d(t,"bb",(function(){return te})),n.d(t,"Y",(function(){return ne})),n.d(t,"cb",(function(){return oe})),n.d(t,"eb",(function(){return se})),n.d(t,"db",(function(){return de})),n.d(t,"fb",(function(){return pe})),n.d(t,"gb",(function(){return Oe})),n.d(t,"lb",(function(){return me})),n.d(t,"kb",(function(){return Ce})),n.d(t,"jb",(function(){return Se})),n.d(t,"r",(function(){return we})),n.d(t,"z",(function(){return Ee})),n.d(t,"jc",(function(){return ke})),n.d(t,"ad",(function(){return Te})),n.d(t,"hd",(function(){return Ae})),n.d(t,"Ac",(function(){return _e})),n.d(t,"uc",(function(){return Fe})),n.d(t,"Eb",(function(){return Re})),n.d(t,"n",(function(){return De})),n.d(t,"hb",(function(){return Ne})),n.d(t,"ib",(function(){return Me})),n.d(t,"mb",(function(){return He})),n.d(t,"ob",(function(){return ze})),n.d(t,"nb",(function(){return Ye})),n.d(t,"A",(function(){return We})),n.d(t,"Bc",(function(){return Ke})),n.d(t,"s",(function(){return Qe})),n.d(t,"pb",(function(){return Je})),n.d(t,"tb",(function(){return nt})),n.d(t,"sb",(function(){return rt})),n.d(t,"rb",(function(){return at})),n.d(t,"td",(function(){return it})),n.d(t,"a",(function(){return st})),n.d(t,"ub",(function(){return lt})),n.d(t,"Dc",(function(){return ut})),n.d(t,"B",(function(){return dt})),n.d(t,"Yc",(function(){return pt})),n.d(t,"vb",(function(){return jt})),n.d(t,"Ec",(function(){return xt})),n.d(t,"yb",(function(){return mt})),n.d(t,"Gc",(function(){return yt})),n.d(t,"zb",(function(){return wt})),n.d(t,"Wb",(function(){return Et})),n.d(t,"o",(function(){return kt})),n.d(t,"dd",(function(){return Tt})),n.d(t,"D",(function(){return At})),n.d(t,"m",(function(){return _t})),n.d(t,"k",(function(){return Ft})),n.d(t,"Ab",(function(){return Rt})),n.d(t,"Cb",(function(){return Lt})),n.d(t,"e",(function(){return G})),n.d(t,"d",(function(){return V})),n.d(t,"kc",(function(){return Mt})),n.d(t,"sc",(function(){return Pt})),n.d(t,"yc",(function(){return qt})),n.d(t,"Jb",(function(){return Ht})),n.d(t,"Ib",(function(){return Gt})),n.d(t,"S",(function(){return Vt})),n.d(t,"Db",(function(){return Wt})),n.d(t,"Gb",(function(){return Xt})),n.d(t,"Fb",(function(){return $t})),n.d(t,"u",(function(){return Zt})),n.d(t,"E",(function(){return Jt})),n.d(t,"Hc",(function(){return nn})),n.d(t,"Hb",(function(){return cn})),n.d(t,"Xc",(function(){return sn})),n.d(t,"G",(function(){return ln})),n.d(t,"Zc",(function(){return un})),n.d(t,"F",(function(){return dn})),n.d(t,"rd",(function(){return bn})),n.d(t,"lc",(function(){return fn})),n.d(t,"Kb",(function(){return hn})),n.d(t,"Lb",(function(){return On})),n.d(t,"v",(function(){return xn})),n.d(t,"ed",(function(){return gn})),n.d(t,"H",(function(){return vn})),n.d(t,"Bb",(function(){return Cn})),n.d(t,"gd",(function(){return Sn})),n.d(t,"Jc",(function(){return kn})),n.d(t,"fd",(function(){return Tn})),n.d(t,"I",(function(){return An})),n.d(t,"Ob",(function(){return Rn})),n.d(t,"Mb",(function(){return Dn})),n.d(t,"Nb",(function(){return In})),n.d(t,"Kc",(function(){return Ln})),n.d(t,"id",(function(){return Nn})),n.d(t,"J",(function(){return Bn})),n.d(t,"Lc",(function(){return Un})),n.d(t,"Pb",(function(){return Hn})),n.d(t,"Qb",(function(){return Gn})),n.d(t,"Mc",(function(){return Vn})),n.d(t,"jd",(function(){return zn})),n.d(t,"K",(function(){return Yn})),n.d(t,"g",(function(){return Wn})),n.d(t,"wc",(function(){return Kn})),n.d(t,"T",(function(){return Qn})),n.d(t,"Vc",(function(){return Xn})),n.d(t,"Tb",(function(){return Jn})),n.d(t,"Ub",(function(){return er})),n.d(t,"Nc",(function(){return tr})),n.d(t,"Vb",(function(){return or})),n.d(t,"Oc",(function(){return cr})),n.d(t,"Yb",(function(){return lr})),n.d(t,"Zb",(function(){return fr})),n.d(t,"ic",(function(){return pr})),n.d(t,"Pc",(function(){return jr})),n.d(t,"md",(function(){return hr})),n.d(t,"N",(function(){return Or})),n.d(t,"i",(function(){return xr})),n.d(t,"xc",(function(){return gr})),n.d(t,"U",(function(){return vr})),n.d(t,"Cc",(function(){return mr})),n.d(t,"Qc",(function(){return Sr})),n.d(t,"Rc",(function(){return wr})),n.d(t,"vc",(function(){return Er})),n.d(t,"bc",(function(){return kr})),n.d(t,"ac",(function(){return Tr})),n.d(t,"O",(function(){return Ar})),n.d(t,"cc",(function(){return Rr})),n.d(t,"Sc",(function(){return Dr})),n.d(t,"Tc",(function(){return Ir})),n.d(t,"od",(function(){return Lr})),n.d(t,"P",(function(){return Nr})),n.d(t,"nd",(function(){return Br})),n.d(t,"dc",(function(){return qr})),n.d(t,"pc",(function(){return Hr})),n.d(t,"Ic",(function(){return Gr})),n.d(t,"ud",(function(){return Wr})),n.d(t,"b",(function(){return Kr})),n.d(t,"xb",(function(){return Qr})),n.d(t,"wb",(function(){return Xr})),n.d(t,"Fc",(function(){return $r})),n.d(t,"cd",(function(){return Zr})),n.d(t,"C",(function(){return Jr})),n.d(t,"R",(function(){return ea})),n.d(t,"qd",(function(){return ta})),n.d(t,"c",(function(){return aa})),n.d(t,"vd",(function(){return oa})),n.d(t,"sd",(function(){return ca})),n.d(t,"qc",(function(){return ia})),n.d(t,"rc",(function(){return sa})),n.d(t,"t",(function(){return la})),n.d(t,"Xb",(function(){return ua})),n.d(t,"qb",(function(){return da})),n.d(t,"ec",(function(){return ba})),n.d(t,"x",(function(){return fa})),n.d(t,"fc",(function(){return pa})),n.d(t,"pd",(function(){return ja})),n.d(t,"Uc",(function(){return ha})),n.d(t,"gc",(function(){return Oa})),n.d(t,"Q",(function(){return xa})),n.d(t,"l",(function(){return ga})),n.d(t,"hc",(function(){return ya})),n.d(t,"Sb",(function(){return ka})),n.d(t,"Rb",(function(){return Ta})),n.d(t,"w",(function(){return Aa})),n.d(t,"h",(function(){return _a})),n.d(t,"kd",(function(){return Fa})),n.d(t,"ld",(function(){return Ra})),n.d(t,"L",(function(){return Da})),n.d(t,"M",(function(){return Ia})),n.d(t,"Wc",(function(){return s})),n.d(t,"mc",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"wd",(function(){return R}));var r=n(1090),a=n.n(r),o=n(112),c=n.n(o),i=a.a.create();function s(e,t){void 0===t&&(t="/api"),i.defaults.baseURL=c()(e,t)}function l(e,t){void 0===t&&(t="/api/ws");var n=new URL(e);return n.protocol="https:"===n.protocol?"wss:":"ws:",n.pathname=c()(n.pathname,t),n.toString()}var u=function(e){return{Authorization:"Bearer "+e}},d=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},f=function(e,t){return d(void 0,void 0,void 0,(function(){return b(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/actions",{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},p=function(e,t,n){return d(void 0,void 0,void 0,(function(){return b(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/actions",n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},j=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},O=function(e,t,n,r){return j(void 0,void 0,void 0,(function(){var a;return h(this,(function(o){switch(o.label){case 0:return a={start:n,end:r,window:t},[4,i.get("/analytics",{params:a,headers:u(e)})];case 1:return[2,o.sent().data]}}))}))},x=n(1091),g=n.n(x),v=n(1092),m=n.n(v),y=n(733),C=n.n(y),S=n(1093),w=n.n(S),E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},T=function(e){return C()(e,(function(e,t){return g()(t)}))},A=function(e){return C()(e,(function(e,t){return w()(t)}))},_=function(e){return new Date(1e3*e)},F=m()((function(e){var t=e.createdAt,n=e.updatedAt,r=k(e,["createdAt","updatedAt"]);return E({createdAt:_(t),updatedAt:_(n)},r)}),T);function R(e,t){try{var n=new URL(e);return!t||t.includes(n.protocol)}catch(r){return!1}}var D,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},L=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},B=function(e,t,n,r){return L(void 0,void 0,void 0,(function(){var a,o;return N(this,(function(c){switch(c.label){case 0:return a=t.map((function(e){return A(e)})),[4,i.post("/assistant_links",{create:a},{headers:u(e)})];case 1:return o=c.sent(),[2,{links:o.data.map(F).map(T).map((function(e){return I(I({},e),{businessLogicFlow:F(e.businessLogicFlow),sampleConversation:F(e.sampleConversation)})})),parentId:n,parentType:r}]}}))}))},U=function(e,t,n,r,a){return L(void 0,void 0,void 0,(function(){var o,c,s;return N(this,(function(l){switch(l.label){case 0:return o=I({limit:t,offset:n},{BusinessLogicFlow:{business_logic_flow_id:r},SampleConversation:{sample_conversation_id:r}}[a]),[4,i.get("/assistant_links",{params:o,headers:u(e)})];case 1:return c=l.sent(),s=c.data.map(F).map(T).map((function(e){return I(I({},e),{businessLogicFlow:F(e.businessLogicFlow),sampleConversation:F(e.sampleConversation)})})),[2,{total:Number(c.headers["x-total-count"]),links:s,parentId:r,parentType:a}]}}))}))},M=function(e,t){return L(void 0,void 0,void 0,(function(){return N(this,(function(n){switch(n.label){case 0:return[4,i.delete("/assistant_links/"+t,{headers:u(e)})];case 1:return n.sent(),[2,{linkId:t}]}}))}))},P=function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},q=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},H=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};!function(e){e.Rectangle="rectangle",e.Rounded="rounded",e.Diamond="diamond",e.Circle="circle"}(D||(D={}));var G,V,z=function(e){return e.map((function(e){return P(P({},e),{data:e.data?T(e.data):void 0})}))},Y=function(e){return"edge"===e.data.elementType},W=function(e){return"node"===e.data.elementType},K=function(e,t,n,r){return q(void 0,void 0,void 0,(function(){var a;return H(this,(function(o){switch(o.label){case 0:return[4,i.get("/business_logic_flows",{params:{q:r,limit:t,offset:n},headers:u(e)})];case 1:return a=o.sent(),[2,{flows:a.data.map((function(e){return P(P({},F(e)),{elements:z(e.elements||[])})})),total:Number(a.headers["x-total-count"])}]}}))}))},Q=function(e,t){return q(void 0,void 0,void 0,(function(){var n;return H(this,(function(r){switch(r.label){case 0:return[4,i.get("/business_logic_flows/"+t,{headers:u(e)})];case 1:return n=r.sent(),[2,P(P({},F(n.data)),{elements:z(n.data.elements||[])})]}}))}))},X=function(e,t,n,r){return q(void 0,void 0,void 0,(function(){var a;return H(this,(function(o){switch(o.label){case 0:return[4,i.post("/business_logic_flows",{name:t,description:n,elements:r},{headers:u(e)})];case 1:return a=o.sent(),[2,P(P({},F(a.data)),{elements:z(a.data.elements||[])})]}}))}))},$=function(e,t,n){return q(void 0,void 0,void 0,(function(){var r;return H(this,(function(a){switch(a.label){case 0:return[4,i.patch("/business_logic_flows/"+t,P(P({},n),n.elements?{elements:(o=n.elements,o.map((function(e){return P(P({},e),{data:e.data?A(e.data):void 0})})))}:{}),{headers:u(e)})];case 1:return r=a.sent(),[2,P(P({},F(r.data)),{elements:z(r.data.elements||[])})]}var o}))}))},Z=function(e,t){return q(void 0,void 0,void 0,(function(){return H(this,(function(n){switch(n.label){case 0:return[4,i.delete("/business_logic_flows/"+t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},J=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ee=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},te=function(e,t,n){return J(void 0,void 0,void 0,(function(){return ee(this,(function(r){switch(r.label){case 0:return[4,i.put("/chatToken",{bot_name:t,description:n},{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},ne=function(e){return J(void 0,void 0,void 0,(function(){return ee(this,(function(t){switch(t.label){case 0:return[4,i.get("/chatToken",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},re=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ae=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},oe=function(e){return re(void 0,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversationActions",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},ce=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ie=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},se=function(e){return ce(void 0,void 0,void 0,(function(){return ie(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversationEntities",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},le=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ue=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},de=function(e){return le(void 0,void 0,void 0,(function(){return ue(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversations/inputChannels",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},be=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},fe=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},pe=function(e){return be(void 0,void 0,void 0,(function(){return fe(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversationIntents",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},je=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},he=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Oe=function(e){return je(void 0,void 0,void 0,(function(){return he(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversationPolicies",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ge=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ve=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},me=function(e,t,n,r,a,o,c,s,l,d,b,f,p,j,h,O,x,g){return ge(void 0,void 0,void 0,(function(){var v;return ve(this,(function(m){switch(m.label){case 0:return[4,i.get("/conversations",{params:{limit:t,offset:n,start:r||void 0,until:a||void 0,maximumConfidence:"max"===(null===o||void 0===o?void 0:o.operator)?o.value:void 0,minimumConfidence:"min"===(null===o||void 0===o?void 0:o.operator)?o.value:void 0,maximumNluConfidence:"max"===(null===c||void 0===c?void 0:c.operator)?c.value:void 0,minimumNluConfidence:"min"===(null===c||void 0===c?void 0:c.operator)?c.value:void 0,minimumUserMessages:s&&s>0?s:1,is_flagged:x||void 0,in_training_data:!g&&void 0,intent:l?l.join(","):void 0,entity:d?d.join(","):void 0,action:b?b.join(","):void 0,policies:h?h.join(","):void 0,slots:p?p.join(","):void 0,input_channels:O?O.join(","):void 0,review_status:f||void 0,tags_any:j?j.map((function(e){return e.id})).join(","):void 0,interactive:!0,exclude_self:!1},headers:u(e)})];case 1:return[2,{conversations:(v=m.sent()).data,total:Number(v.headers["x-total-count"])}]}}))}))},ye=function(e,t,n,r,a){return xe(xe({format:e,test_story:a},n?{until:n,history:!1}:{history:!1}),{since:r,environment:t})},Ce=function(e,t,n,r,a,o,c){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(s){switch(s.label){case 0:return[4,i.get("/conversations/"+t,{params:ye(n,r,a,o,c),headers:xe(xe({},u(e)),{Accept:"text/yaml"})})];case 1:return[2,s.sent().data]}}))}))},Se=function(e,t,n,r,a,o,c){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(s){switch(s.label){case 0:return[4,i.get("/conversations/"+t,{params:ye(n,r,a,o,c),headers:xe(xe({},u(e)),{Accept:"application/json"})})];case 1:return[2,s.sent().data]}}))}))},we=function(e,t){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(n){switch(n.label){case 0:return[4,i.post("/conversations",t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},Ee=function(e,t){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(n){switch(n.label){case 0:return[4,i.delete("/conversations/"+t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},ke=function(e,t,n){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(r){switch(r.label){case 0:return[4,i.put("/conversations/"+t+"/messages/"+n+"/flag",{},{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Te=function(e,t,n){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(r){switch(r.label){case 0:return[4,i.delete("/conversations/"+t+"/messages/"+n+"/flag",{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Ae=function(e,t,n){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(r){switch(r.label){case 0:return[4,i.put("/conversations/"+t+"/reviewStatus",{review_status:n},{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},_e=function(e,t,n){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(r){switch(r.label){case 0:return[4,i.post("/conversations/"+t+"/data-tags",n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Fe=function(e,t,n){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(r){switch(r.label){case 0:return[4,i.delete("/conversations/"+t+"/data-tags/"+n.id,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Re=function(e,t){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(n){switch(n.label){case 0:return[4,i.post("/conversations/"+t+"/predict",{},{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},De=function(e,t,n){return ge(void 0,void 0,void 0,(function(){return ve(this,(function(r){switch(r.label){case 0:return[4,i.post("/conversations/"+t+"/execute",{name:n},{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Ie=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Le=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Ne=function(e){return Ie(void 0,void 0,void 0,(function(){return Le(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversations/slotNames",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Be=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Ue=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Me=function(e,t,n){return Be(void 0,void 0,void 0,(function(){var r;return Ue(this,(function(a){switch(a.label){case 0:return[4,i.get("/conversations/slotValues",{params:{slot:t,q:n},headers:u(e)})];case 1:return[2,{data:(r=a.sent()).data,total:r.headers["x-total-count"],slotName:t}]}}))}))},Pe=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},qe=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},He=function(e){return Pe(void 0,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:return[4,i.get("/data-tags",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Ge=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Ve=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},ze=function(e){return Ge(void 0,void 0,void 0,(function(){return Ve(this,(function(t){switch(t.label){case 0:return[4,i.get("/projects/default/domains",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Ye=function(e,t){return Ge(void 0,void 0,void 0,(function(){return Ve(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/default/domains/"+t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},We=function(e,t){return Ge(void 0,void 0,void 0,(function(){return Ve(this,(function(n){switch(n.label){case 0:return[4,i.delete("/projects/default/domains/"+t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},Ke=function(e,t,n){return Ge(void 0,void 0,void 0,(function(){return Ve(this,(function(r){switch(r.label){case 0:return[4,i.put("/projects/default/domains/"+t,n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Qe=function(e,t){var n=t.domainFile,r=t.storeResponses;return Ge(void 0,void 0,void 0,(function(){return Ve(this,(function(t){switch(t.label){case 0:return[4,i.post("/projects/default/domains/?store_responses="+(r?"true":"false"),n,{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Xe=function(){return(Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$e=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Ze=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Je=function(e){return $e(void 0,void 0,void 0,(function(){var t;return Ze(this,(function(n){switch(n.label){case 0:return[4,i.get("/domainWarnings",{headers:u(e)})];case 1:return t=n.sent(),[2,Xe(Xe({},t.data),{total:Number(t.headers["x-total-count"])})]}}))}))},et=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},tt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},nt=function(e,t){return et(void 0,void 0,void 0,(function(){return tt(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/entities",{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},rt=function(e,t){return et(void 0,void 0,void 0,(function(){return tt(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/entity_roles",{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},at=function(e,t){return et(void 0,void 0,void 0,(function(){return tt(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/entity_groups",{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},ot=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ct=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},it=function(e){var t=e.name,n=e.url,r=e.token;return""!==t&&""!==n&&""!==r&&R(n,["http:","https:"])},st=Object.freeze({name:"",url:"",token:""}),lt=function(e){return ot(void 0,void 0,void 0,(function(){return ct(this,(function(t){switch(t.label){case 0:return[4,i.get("/environments",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},ut=function(e,t,n){return ot(void 0,void 0,void 0,(function(){return ct(this,(function(r){switch(r.label){case 0:return[4,i.put("/environments/"+t,n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},dt=function(e,t){return ot(void 0,void 0,void 0,(function(){return ct(this,(function(n){switch(n.label){case 0:return[4,i.delete("/environments/"+t.name,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},bt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ft=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},pt=function(e,t,n){return bt(void 0,void 0,void 0,(function(){return ft(this,(function(r){switch(r.label){case 0:return[4,i.put("/projects/"+t+"/evaluations/"+n,{},{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},jt=function(e,t,n){return bt(void 0,void 0,void 0,(function(){return ft(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/evaluations/"+n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},ht=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Ot=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},xt=function(e,t,n,r){return ht(void 0,void 0,void 0,(function(){return Ot(this,(function(a){switch(a.label){case 0:return[4,i.post("/conversations/"+t+"/events",n,{params:{environment:r},headers:u(e)})];case 1:return[2,a.sent().data]}}))}))},gt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},vt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},mt=function(e){return gt(void 0,void 0,void 0,(function(){return vt(this,(function(t){switch(t.label){case 0:return[4,i.get("/features",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},yt=function(e,t){return gt(void 0,void 0,void 0,(function(){return vt(this,(function(n){switch(n.label){case 0:return[4,i.post("/features",t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},Ct=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},St=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},wt=function(e,t){return Ct(void 0,void 0,void 0,(function(){var t;return St(this,(function(n){switch(n.label){case 0:return[4,i.get("/git-repositories",{headers:u(e)})];case 1:return[2,{gitRepositories:(t=n.sent()).data,total:Number(t.headers["x-total-count"])}]}}))}))},Et=function(e,t){return Ct(void 0,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:return[4,i.get("/git-repositories/public-ssh-key",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},kt=function(e,t,n,r,a,o,c){return i.post("/git-repositories/",{repository_url:n,target_branch:r,is_target_branch_protected:a,use_generated_ssh_keys:!0,username:o||void 0,password:c||void 0},{headers:u(e)})},Tt=function(e,t,n,r,a,o,c){return i.put("/git-repositories/"+n,{target_branch:r,is_target_branch_protected:a,username:o||void 0,password:c||void 0},{headers:u(e)})},At=function(e,t,n){return Ct(void 0,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:return[4,i.delete("/git-repositories/"+n,{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},_t=function(e,t,n,r,a){return Ct(void 0,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:return[4,i.post("/git-repositories/"+n+"/branches/"+encodeURIComponent(r)+"/commits",a.length?{message:a}:{},{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Ft=function(e,t,n,r,a){return Ct(void 0,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:return[4,i.put("/git-repositories/"+n+"/branches/"+encodeURIComponent(r),{},{params:{force:a},headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Rt=function(e,t,n){return Ct(void 0,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:return[4,i.get("/git-repositories/"+n+"/status",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Dt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},It=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Lt=function(e){return Dt(void 0,void 0,void 0,(function(){return It(this,(function(t){switch(t.label){case 0:return[4,i.get("/health",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Nt=function(){return(Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Bt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Ut=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};!function(e){e.IN_PROGRESS="in_progress",e.SUCCESS="success",e.FAILURE="failure"}(G||(G={})),function(e){e[e.OK=0]="OK",e[e.OUTDATED=1]="OUTDATED",e[e.IN_PROGRESS=2]="IN_PROGRESS",e[e.NOT_CALCULATED_YET=3]="NOT_CALCULATED_YET",e[e.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED=4]="LATEST_FAILED_AND_RESULTS_ARE_OUTDATED",e[e.LATEST_FAILED_AND_RESULTS_ARE_OK=5]="LATEST_FAILED_AND_RESULTS_ARE_OK"}(V||(V={}));var Mt=function(e){return Bt(void 0,void 0,void 0,(function(){return Ut(this,(function(t){switch(t.label){case 0:return[4,i.get("/insights/config",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Pt=function(e,t){return Bt(void 0,void 0,void 0,(function(){return Ut(this,(function(n){switch(n.label){case 0:return[4,i.put("/insights/config",t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},qt=function(e){return Bt(void 0,void 0,void 0,(function(){return Ut(this,(function(t){switch(t.label){case 0:return[4,i.post("/insights/nlu",{},{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Ht=function(e,t,n,r,a){return void 0===n&&(n=0),Bt(void 0,void 0,void 0,(function(){var o;return Ut(this,(function(c){switch(c.label){case 0:return[4,i.get("/insights/nlu",{params:{limit:t,offset:n,status:r,sort_order:a},headers:u(e)})];case 1:return[2,{reports:(o=c.sent()).data,total:Number(o.headers["x-total-count"])}]}}))}))},Gt=function(e,t,n,r,a,o){return Bt(void 0,void 0,void 0,(function(){var c;return Ut(this,(function(s){switch(s.label){case 0:return[4,i.get("/insights/nlu/"+t,{params:{q:n,limit:r,offset:a,sort_by:o||"intent_name"},headers:u(e)})];case 1:return[2,{report:(c=s.sent()).data,total:Number(c.headers["x-total-count"])}]}}))}))},Vt=function(e,t){return Bt(void 0,void 0,void 0,(function(){return Ut(this,(function(n){switch(n.label){case 0:return[4,i.get("/insights/nlu/"+t+"/evaluation",{headers:Nt(Nt({},u(e)),{Accept:"application/json"}),transformResponse:[function(e){return e}]})];case 1:return[2,n.sent().data]}}))}))},zt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Yt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Wt=function(e,t){return zt(void 0,void 0,void 0,(function(){return Yt(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/intents",{headers:u(e),params:{"fields[example_hashes]":!1,"fields[suggestions]":!1}})];case 1:return[2,n.sent().data]}}))}))},Kt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Qt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Xt=function(e,t){return Kt(void 0,void 0,void 0,(function(){var n;return Qt(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/lookupTables",{headers:u(e)})];case 1:return[2,{lookupTables:(n=r.sent()).data,total:Number(n.headers["x-total-count"])}]}}))}))},$t=function(e,t,n){return Kt(void 0,void 0,void 0,(function(){return Qt(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/lookupTables/"+n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Zt=function(e,t,n){return Kt(void 0,void 0,void 0,(function(){return Qt(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/lookupTables",n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Jt=function(e,t,n){return Kt(void 0,void 0,void 0,(function(){return Qt(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/lookupTables/"+n.id,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},en=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},tn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},nn=function(e,t,n,r){return en(void 0,void 0,void 0,(function(){return tn(this,(function(a){switch(a.label){case 0:return[4,i.post("/conversations/"+t+"/messages",{message:n},{params:{environment:r},headers:u(e)})];case 1:return[2,a.sent().data]}}))}))},rn=function(){return(rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},an=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},on=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},cn=function(e,t,n,r,a){return an(void 0,void 0,void 0,(function(){var o;return on(this,(function(c){switch(c.label){case 0:return[4,i.get("/projects/"+t+"/models",{params:{limit:n,offset:r,tag:a},headers:u(e)})];case 1:return[2,{models:(o=c.sent()).data,total:Number(o.headers["x-total-count"])}]}}))}))},sn=function(e,t,n,r){return an(void 0,void 0,void 0,(function(){return on(this,(function(a){switch(a.label){case 0:return[4,i.put("/projects/"+t+"/models/"+n+"/tags/"+r,{},{headers:u(e)})];case 1:return a.sent(),[2,{model:n}]}}))}))},ln=function(e,t,n,r){return an(void 0,void 0,void 0,(function(){return on(this,(function(a){switch(a.label){case 0:return[4,i.delete("/projects/"+t+"/models/"+n+"/tags/"+r,{headers:u(e)})];case 1:return a.sent(),[2,{model:n}]}}))}))},un=function(e,t){return an(void 0,void 0,void 0,(function(){var n,r,a,o,c;return on(this,(function(s){switch(s.label){case 0:return[4,i.post("/projects/"+t+"/models/jobs",{},{headers:u(e)})];case 1:return n=s.sent(),r=n.data,a=r.details,o=r.id,c=n.status,[2,{info:a,job:o,status:c}]}}))}))},dn=function(e,t,n){return an(void 0,void 0,void 0,(function(){return on(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/models/"+n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},bn=function(e,t,n){return an(void 0,void 0,void 0,(function(){return on(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/models",n,{headers:rn(rn({},u(e)),{"Content-Type":"multipart/form-data","Content-Encoding":"gzip"})})];case 1:return[2,r.sent().data]}}))}))},fn=function(e,t,n){return an(void 0,void 0,void 0,(function(){var r,a;return on(this,(function(o){switch(o.label){case 0:return[4,i.get("/projects/"+t+"/models/jobs/"+n,{headers:u(e)})];case 1:return r=o.sent().data,a=r.details,[2,{status:r.status,details:a}]}}))}))},pn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},jn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},hn=function(e,t,n){return pn(void 0,void 0,void 0,(function(){return jn(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/regexes/"+n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},On=function(e,t,n,r){return pn(void 0,void 0,void 0,(function(){var a;return jn(this,(function(o){switch(o.label){case 0:return[4,i.get("/projects/"+t+"/regexes",{params:{limit:n,offset:r},headers:u(e)})];case 1:return[2,{regexes:(a=o.sent()).data,total:Number(a.headers["x-total-count"])}]}}))}))},xn=function(e,t,n){return pn(void 0,void 0,void 0,(function(){return jn(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/regexes",n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},gn=function(e,t,n){return pn(void 0,void 0,void 0,(function(){return jn(this,(function(r){switch(r.label){case 0:return[4,i.put("/projects/"+t+"/regexes/"+n.id,n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},vn=function(e,t,n){return pn(void 0,void 0,void 0,(function(){return jn(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/regexes/"+n.id,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},mn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},yn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Cn=function(e,t,n,r,a,o,c){return mn(void 0,void 0,void 0,(function(){var s;return yn(this,(function(l){switch(l.label){case 0:return[4,i.get("/responseGroups",{params:{q:t,response_name:n,intersect_filters:r,precise_response_name_search:a,limit:o,offset:c},headers:u(e)})];case 1:return[2,{responses:(s=l.sent()).data,total:Number(s.headers["x-total-count"])}]}}))}))},Sn=function(e,t,n){return mn(void 0,void 0,void 0,(function(){return yn(this,(function(r){switch(r.label){case 0:return[4,i.put("/responseGroups/"+t,{name:n},{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},wn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},En=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},kn=function(e,t){return wn(void 0,void 0,void 0,(function(){return En(this,(function(n){switch(n.label){case 0:return[4,i.post("/responses",t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},Tn=function(e,t){return wn(void 0,void 0,void 0,(function(){return En(this,(function(n){switch(n.label){case 0:return[4,i.put("/responses/"+t.id,t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},An=function(e,t){return wn(void 0,void 0,void 0,(function(){return En(this,(function(n){switch(n.label){case 0:return[4,i.delete("/responses/"+t.id,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},_n=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Fn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Rn=function(e,t,n,r){return _n(void 0,void 0,void 0,(function(){var a;return Fn(this,(function(o){switch(o.label){case 0:return[4,i.get("/roles",{params:{q:t,limit:n,offset:r},headers:u(e)})];case 1:return[2,{roles:(a=o.sent()).data,total:Number(a.headers["x-total-count"])}]}}))}))},Dn=function(e,t){return _n(void 0,void 0,void 0,(function(){return Fn(this,(function(n){switch(n.label){case 0:return[4,i.get("/roles/"+t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},In=function(e,t){return _n(void 0,void 0,void 0,(function(){return Fn(this,(function(n){switch(n.label){case 0:return[4,i.get("/roles/"+t+"/users",{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},Ln=function(e,t){return _n(void 0,void 0,void 0,(function(){return Fn(this,(function(n){switch(n.label){case 0:return[4,i.post("/roles",t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},Nn=function(e,t,n){return _n(void 0,void 0,void 0,(function(){return Fn(this,(function(r){switch(r.label){case 0:return[4,i.put("/roles/"+(n||t.role),t,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Bn=function(e,t){return _n(void 0,void 0,void 0,(function(){return Fn(this,(function(n){switch(n.label){case 0:return[4,i.delete("/roles/"+t.role,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},Un=function(e,t,n){return _n(void 0,void 0,void 0,(function(){return Fn(this,(function(r){switch(r.label){case 0:return[4,i.put("/roles/"+t.role+"/users",n.map((function(e){return e.username})),{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Mn=function(){return(Mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Pn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},qn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Hn=function(e,t,n,r){return Pn(void 0,void 0,void 0,(function(){var a;return qn(this,(function(o){switch(o.label){case 0:return[4,i.get("/rules",{params:{q:t,limit:n,offset:r},headers:u(e)})];case 1:return[2,{rules:(a=o.sent()).data,total:Number(a.headers["x-total-count"])}]}}))}))},Gn=function(e,t){return Pn(void 0,void 0,void 0,(function(){return qn(this,(function(n){switch(n.label){case 0:return[4,i.get("/rules",{params:{id:t.join(",")},headers:Mn(Mn({},u(e)),{Accept:"text/vnd.graphviz"})})];case 1:return[2,n.sent().data]}}))}))},Vn=function(e,t,n){return Pn(void 0,void 0,void 0,(function(){return qn(this,(function(n){switch(n.label){case 0:return[4,i.post("/rules",t.story,{headers:Mn(Mn({},u(e)),{"Content-Type":"text/yaml"})})];case 1:return[2,n.sent().data]}}))}))},zn=function(e,t,n){return Pn(void 0,void 0,void 0,(function(){return qn(this,(function(n){switch(n.label){case 0:return[4,i.put("/rules/"+t.id,t.story,{headers:Mn(Mn({},u(e)),{"Content-Type":"text/yaml"})})];case 1:return[2,n.sent().data]}}))}))},Yn=function(e,t){return Pn(void 0,void 0,void 0,(function(){return qn(this,(function(n){switch(n.label){case 0:return[4,i.delete("/rules/"+t.id,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},Wn=function(e,t,n){return Pn(void 0,void 0,void 0,(function(){return qn(this,(function(r){switch(r.label){case 0:return[4,i.post("/rules",t,{headers:Mn(Mn({},u(e)),{"Content-Type":n})})];case 1:return[2,r.sent().data]}}))}))},Kn=function(e,t,n){return Pn(void 0,void 0,void 0,(function(){return qn(this,(function(r){switch(r.label){case 0:return[4,i.put("/rules",t,{headers:Mn(Mn({},u(e)),{"Content-Type":n})})];case 1:return[2,r.sent().data]}}))}))},Qn=function(e){return Pn(void 0,void 0,void 0,(function(){return qn(this,(function(t){switch(t.label){case 0:return[4,i.get("/rules",{headers:Mn(Mn({},u(e)),{Accept:"text/yaml"}),responseType:"text",transformResponse:[function(e){return e}]})];case 1:return[2,t.sent().data]}}))}))},Xn=n(811),$n=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Zn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Jn=function(e){return $n(void 0,void 0,void 0,(function(){return Zn(this,(function(t){switch(t.label){case 0:return[4,i.get("/scorecard",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},er=function(e){return $n(void 0,void 0,void 0,(function(){return Zn(this,(function(t){switch(t.label){case 0:return[4,i.get("/scorecardConfig",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},tr=function(e,t){return $n(void 0,void 0,void 0,(function(){return Zn(this,(function(n){switch(n.label){case 0:return[4,i.put("/scorecardConfig",t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},nr=function(){return(nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},rr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ar=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},or=function(e,t){return rr(void 0,void 0,void 0,(function(){return ar(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/settings",{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},cr=function(e,t,n){return rr(void 0,void 0,void 0,(function(){return ar(this,(function(r){switch(r.label){case 0:return[4,i.put("/projects/"+t+"/settings",n,{headers:nr(nr({},u(e)),{"Content-Type":"application/x-yaml"})})];case 1:return[2,r.sent().data]}}))}))},ir=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},sr=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},lr=function(e){return ir(void 0,void 0,void 0,(function(){return sr(this,(function(t){switch(t.label){case 0:return[4,i.get("/statistics",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},ur=function(){return(ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},dr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},br=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},fr=function(e,t,n,r){return dr(void 0,void 0,void 0,(function(){var a;return br(this,(function(o){switch(o.label){case 0:return[4,i.get("/stories",{params:{q:t,limit:n,offset:r},headers:u(e)})];case 1:return[2,{stories:(a=o.sent()).data,total:Number(a.headers["x-total-count"])}]}}))}))},pr=function(e,t){return dr(void 0,void 0,void 0,(function(){return br(this,(function(n){switch(n.label){case 0:return[4,i.get("/stories",{params:{id:t.join(",")},headers:ur(ur({},u(e)),{Accept:"text/vnd.graphviz"})})];case 1:return[2,n.sent().data]}}))}))},jr=function(e,t,n){return dr(void 0,void 0,void 0,(function(){return br(this,(function(r){switch(r.label){case 0:return[4,i.post("/stories",t.story,{headers:ur(ur({},u(e)),{"Content-Type":n?"text/markdown":"text/yaml"})})];case 1:return[2,r.sent().data]}}))}))},hr=function(e,t,n){return dr(void 0,void 0,void 0,(function(){return br(this,(function(r){switch(r.label){case 0:return[4,i.put("/stories/"+t.id,t.story,{headers:ur(ur({},u(e)),{"Content-Type":n?"text/markdown":"text/yaml"})})];case 1:return[2,r.sent().data]}}))}))},Or=function(e,t){return dr(void 0,void 0,void 0,(function(){return br(this,(function(n){switch(n.label){case 0:return[4,i.delete("/stories/"+t.id,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},xr=function(e,t,n){return dr(void 0,void 0,void 0,(function(){return br(this,(function(r){switch(r.label){case 0:return[4,i.post("/stories",t,{headers:ur(ur({},u(e)),{"Content-Type":n})})];case 1:return[2,r.sent().data]}}))}))},gr=function(e,t,n){return dr(void 0,void 0,void 0,(function(){return br(this,(function(r){switch(r.label){case 0:return[4,i.put("/stories",t,{headers:ur(ur({},u(e)),{"Content-Type":n})})];case 1:return[2,r.sent().data]}}))}))},vr=function(e){return dr(void 0,void 0,void 0,(function(){return br(this,(function(t){switch(t.label){case 0:return[4,i.get("/stories",{headers:ur(ur({},u(e)),{Accept:"text/yaml"}),responseType:"text",transformResponse:[function(e){return e}]})];case 1:return[2,t.sent().data]}}))}))},mr=function(e,t){return dr(void 0,void 0,void 0,(function(){return br(this,(function(n){switch(n.label){case 0:return[4,i.post("/stories",t,{params:{test_stories:!0},headers:ur(ur({},u(e)),{"Content-Type":"application/x-yaml"})})];case 1:return[2,n.sent().data]}}))}))},yr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Cr=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Sr=function(e,t,n){return yr(void 0,void 0,void 0,(function(){return Cr(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/logs",{},{params:{q:n},headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},wr=function(e,t,n,r){return yr(void 0,void 0,void 0,(function(){return Cr(this,(function(a){switch(a.label){case 0:return[4,i.post("/projects/"+t+"/logs/"+r+"/data-tags",n,{headers:u(e)})];case 1:return[2,a.sent().data]}}))}))},Er=function(e,t,n,r){return yr(void 0,void 0,void 0,(function(){return Cr(this,(function(a){switch(a.label){case 0:return[4,i.delete("/projects/"+t+"/logs/"+r+"/data-tags/"+n.id,{headers:u(e)})];case 1:return[2,a.sent().data]}}))}))},kr=function(e,t,n,r,a,o,c,s,l,d,b,f){return yr(void 0,void 0,void 0,(function(){var p;return Cr(this,(function(j){switch(j.label){case 0:return[4,i.get("/projects/"+t+"/logs",{params:{q:n,intent:r?r.join(","):void 0,entity:a?a.join(","):void 0,tags:o?o.join(","):void 0,limit:c,offset:s,start:l||void 0,until:d||void 0,sort_by:b||void 0,sort_order:f||void 0},headers:u(e)})];case 1:return[2,{suggestions:(p=j.sent()).data,total:Number(p.headers["x-total-count"])}]}}))}))},Tr=function(e,t,n){return yr(void 0,void 0,void 0,(function(){return Cr(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/logs/"+n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Ar=function(e,t,n){return yr(void 0,void 0,void 0,(function(){return Cr(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/logs/"+n.id,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},_r=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Fr=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Rr=function(e,t,n,r,a){return _r(void 0,void 0,void 0,(function(){var o;return Fr(this,(function(c){switch(c.label){case 0:return[4,i.get("/projects/"+t+"/synonyms",{params:{q:n,reference:r,mapped_value:a},headers:u(e)})];case 1:return[2,{synonyms:(o=c.sent()).data,total:Number(o.headers["x-total-count"])}]}}))}))},Dr=function(e,t,n){return _r(void 0,void 0,void 0,(function(){return Fr(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/synonyms",n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Ir=function(e,t,n,r){return _r(void 0,void 0,void 0,(function(){return Fr(this,(function(a){switch(a.label){case 0:return[4,i.post("/projects/"+t+"/synonyms/"+n,r,{headers:u(e)})];case 1:return[2,a.sent().data]}}))}))},Lr=function(e,t,n,r,a){return _r(void 0,void 0,void 0,(function(){return Fr(this,(function(o){switch(o.label){case 0:return[4,i.put("/projects/"+t+"/synonyms/"+n+"/"+r,{value:a},{headers:u(e)})];case 1:return[2,o.sent().data]}}))}))},Nr=function(e,t,n,r){return _r(void 0,void 0,void 0,(function(){return Fr(this,(function(a){switch(a.label){case 0:return[4,i.delete("/projects/"+t+"/synonyms/"+n+"/"+r,{headers:u(e)})];case 1:return[2,a.sent().data]}}))}))},Br=function(e,t,n,r){return _r(void 0,void 0,void 0,(function(){return Fr(this,(function(a){switch(a.label){case 0:return[4,i.put("/projects/"+t+"/synonyms/"+n,{synonym_reference:r},{headers:u(e)})];case 1:return[2,a.sent().data]}}))}))},Ur=function(){return(Ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Mr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Pr=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},qr=function(e){return Mr(void 0,void 0,void 0,(function(){return Pr(this,(function(t){switch(t.label){case 0:return[4,i.get("/telemetry?include_user_groups=true",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},Hr=function(e,t,n,r){return Mr(void 0,void 0,void 0,(function(){return Pr(this,(function(a){switch(a.label){case 0:return[4,i.post("/telemetry",Ur(Ur({event_name:t},n?{properties:n}:{}),r?{context:r}:{}),{headers:u(e)})];case 1:return[2,a.sent()]}}))}))},Gr=function(e,t,n,r){return Mr(void 0,void 0,void 0,(function(){return Pr(this,(function(a){switch(a.label){case 0:return[4,i.post("https://assets.rasa.com/functions/rasa-x-submit-feedback",{records:[{fields:{telemetry_id:e,name:t,email:n,checkboxChecked:r}}]})];case 1:return[2,a.sent()]}}))}))},Vr=function(){return(Vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},zr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Yr=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Wr=function(e){var t=e.text,n=e.intent;return""!==t&&""!==n},Kr={team:"default",project_id:"default",text:"",intent:"",entities:[]},Qr=function(e,t,n,r,a,o,c,s){return zr(void 0,void 0,void 0,(function(){var l;return Yr(this,(function(d){switch(d.label){case 0:return[4,i.get("/projects/"+t+"/training_examples",{params:{q:n,intent:r?r.join(","):void 0,limit:a,offset:o,sort_by:c,sort_order:s},headers:u(e)})];case 1:return[2,{examples:(l=d.sent()).data,total:Number(l.headers["x-total-count"])}]}}))}))},Xr=function(e,t,n){return zr(void 0,void 0,void 0,(function(){return Yr(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/training_examples/"+n,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},$r=function(e,t,n){return zr(void 0,void 0,void 0,(function(){return Yr(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/training_examples",{examples:n},{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Zr=function(e,t,n){return zr(void 0,void 0,void 0,(function(){return Yr(this,(function(r){switch(r.label){case 0:return[4,i.patch("/projects/"+t+"/training_examples",{examples:n},{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Jr=function(e,t,n){return zr(void 0,void 0,void 0,(function(){return Yr(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/training_examples/"+n.id,{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},ea=function(e,t){return zr(void 0,void 0,void 0,(function(){var n;return Yr(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/training_data",{headers:Vr(Vr({},u(e)),{Accept:"*/*"}),transformResponse:[function(e){return e}]})];case 1:return[2,{examples:(n=r.sent()).data,filename:n.headers["content-disposition"]}]}}))}))},ta=function(e,t,n,r){return zr(void 0,void 0,void 0,(function(){return Yr(this,(function(a){switch(a.label){case 0:return[4,i.put("/projects/"+t+"/training_examples",n,{headers:Vr(Vr({},u(e)),{"Content-Type":r})})];case 1:return[2,a.sent().data]}}))}))},na=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ra=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},aa=Object.freeze({username:"",fullname:"",roles:[]}),oa=function(e){var t=e.username,n=e.fullname,r=e.roles;return!(""===t||""===n||r.length<1)};function ca(e){return"authentication_mechanism"in e}var ia=function(e,t){return na(void 0,void 0,void 0,(function(){return ra(this,(function(n){switch(n.label){case 0:return[4,i.post("/auth",{username:e,password:t})];case 1:return[2,n.sent().data]}}))}))},sa=function(e){return na(void 0,void 0,void 0,(function(){return ra(this,(function(t){switch(t.label){case 0:return[4,i.post("/auth",{invite_code:e})];case 1:return[2,t.sent().data]}}))}))},la=function(e,t){return na(void 0,void 0,void 0,(function(){return ra(this,(function(n){switch(n.label){case 0:return[4,i.patch("/user",{username:t},{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},ua=function(){return na(void 0,void 0,void 0,(function(){return ra(this,(function(e){switch(e.label){case 0:return[4,i.get("/auth/saml")];case 1:return[2,e.sent().data]}}))}))},da=function(e){return na(void 0,void 0,void 0,(function(){return ra(this,(function(t){switch(t.label){case 0:return[4,i.post("/auth/enterpriseTokenLogin",{single_use_token:e})];case 1:return[2,t.sent().data]}}))}))},ba=function(e){return na(void 0,void 0,void 0,(function(){return ra(this,(function(t){switch(t.label){case 0:return[4,i.post("/auth/jwt",{chat_token:e})];case 1:return[2,t.sent().data]}}))}))},fa=function(e,t){return na(void 0,void 0,void 0,(function(){return ra(this,(function(n){switch(n.label){case 0:return[4,i.post("/users",t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},pa=function(e){return na(void 0,void 0,void 0,(function(){return ra(this,(function(t){switch(t.label){case 0:return[4,i.get("/user",{headers:u(e)})];case 1:return[2,t.sent().data]}}))}))},ja=function(e,t){return na(void 0,void 0,void 0,(function(){return ra(this,(function(n){switch(n.label){case 0:return[4,i.put("/users/"+t.username,t,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},ha=function(e,t,n){return na(void 0,void 0,void 0,(function(){return ra(this,(function(r){switch(r.label){case 0:return[4,i.put("/users/"+t.username+"/roles",n.map((function(e){return e.role})),{headers:u(e)})];case 1:return[2,r.sent().data]}}))}))},Oa=function(e,t,n,r,a){return na(void 0,void 0,void 0,(function(){var o;return ra(this,(function(c){switch(c.label){case 0:return[4,i.get("/users",{params:{q:t,role:n,limit:r,offset:a},headers:u(e)})];case 1:return[2,{users:(o=c.sent()).data,total:Number(o.headers["x-total-count"])}]}}))}))},xa=function(e,t){return na(void 0,void 0,void 0,(function(){return ra(this,(function(n){switch(n.label){case 0:return[4,i.delete("/users/"+t.username,{headers:u(e)})];case 1:return[2,n.sent().data]}}))}))},ga=function(e,t,n,r,a){return na(void 0,void 0,void 0,(function(){return ra(this,(function(o){switch(o.label){case 0:return[4,i.post("/user/password",{username:t,old_password:a,new_password:n,new_password_confirm:r},{headers:u(e)})];case 1:return[2,o.sent().data]}}))}))},va=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ma=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},ya=function(e){return va(void 0,void 0,void 0,(function(){return ma(this,(function(t){switch(t.label){case 0:return[4,i.get("/version",{params:{skip_external:e}})];case 1:return[2,t.sent().data]}}))}))},Ca=function(){return(Ca=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Sa=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},wa=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Ea=function(e){var t;return Ca(Ca({},F(e)),{items:(null===(t=e.items)||void 0===t?void 0:t.map(F))||[]})},ka=function(e,t,n,r){return Sa(void 0,void 0,void 0,(function(){var a;return wa(this,(function(o){switch(o.label){case 0:return[4,i.get("/sample_conversations",{params:{q:r,limit:t,offset:n},headers:u(e)})];case 1:return a=o.sent(),[2,{conversations:a.data.map(Ea),total:Number(a.headers["x-total-count"])}]}}))}))},Ta=function(e,t){return Sa(void 0,void 0,void 0,(function(){var n;return wa(this,(function(r){switch(r.label){case 0:return[4,i.get("/sample_conversations/"+t,{headers:u(e)})];case 1:return n=r.sent(),[2,{conversation:Ea(n.data)}]}}))}))},Aa=function(e,t,n){return Sa(void 0,void 0,void 0,(function(){var r;return wa(this,(function(a){switch(a.label){case 0:return[4,i.post("/sample_conversations",{name:t,description:n},{headers:u(e)})];case 1:return r=a.sent(),[2,Ea(r.data)]}}))}))},_a=function(e,t,n,r){return Sa(void 0,void 0,void 0,(function(){var a;return wa(this,(function(o){switch(o.label){case 0:return[4,i.post("/sample_conversations/"+t+"/items",{type:n,text:r},{headers:u(e)})];case 1:return a=o.sent(),[2,{parentConversationId:t,item:F(a.data)}]}}))}))},Fa=function(e,t,n,r){return Sa(void 0,void 0,void 0,(function(){var a;return wa(this,(function(o){switch(o.label){case 0:return[4,i.put("/sample_conversations/"+t,{name:n,description:r},{headers:u(e)})];case 1:return a=o.sent(),[2,Ea(a.data)]}}))}))},Ra=function(e,t,n,r,a){return Sa(void 0,void 0,void 0,(function(){var o;return wa(this,(function(c){switch(c.label){case 0:return[4,i.put("/sample_conversations/"+a+"/items/"+t,{type:n,text:r},{headers:u(e)})];case 1:return o=c.sent(),[2,{parentConversationId:a,item:F(o.data)}]}}))}))},Da=function(e,t){return Sa(void 0,void 0,void 0,(function(){return wa(this,(function(n){switch(n.label){case 0:return[4,i.delete("/sample_conversations/"+t,{headers:u(e)})];case 1:return n.sent(),[2,{id:t}]}}))}))},Ia=function(e,t,n){return Sa(void 0,void 0,void 0,(function(){return wa(this,(function(r){switch(r.label){case 0:return[4,i.delete("/sample_conversations/"+t+"/items/"+n,{headers:u(e)})];case 1:return r.sent(),[2,{messageId:n}]}}))}))}},811:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"https://www.enterprise-scorecard.rasa.com/v1/schema.json","type":"object","title":"Rasa Assistant Scorecard","required":["version","scorecard"],"properties":{"version":{"$id":"#/properties/version","type":"integer","enum":[1],"title":"Scorecard version"},"scorecard":{"$id":"#/properties/scorecard","type":"object","title":"Scorecard","required":["manual","auto"],"properties":{"manual":{"$id":"#/properties/scorecard/properties/manual","type":"object","title":"Manual scorecard","required":["CI","CD","success_kpis","training_data_health"],"properties":{"CI":{"$id":"#/properties/scorecard/properties/manual/properties/CI","type":"object","title":"Manual CI scorecard","required":["ci_runs_data_validation","ci_trains_model","ci_runs_rasa_test","test_dir","ci_builds_action_server"],"properties":{"ci_runs_data_validation":{"$id":"#/properties/scorecard/properties/manual/properties/CD/properties/ci_runs_data_validation","type":"boolean","title":"CI runs data validation"},"ci_trains_model":{"$id":"#/properties/scorecard/properties/manual/properties/CD/properties/ci_trains_model","type":"boolean","title":"CI trains model"},"ci_runs_rasa_test":{"$id":"#/properties/scorecard/properties/manual/properties/CD/properties/ci_runs_rasa_test","type":"boolean","title":"CI runs `rasa test`"},"test_dir":{"$id":"#/properties/scorecard/properties/manual/properties/CD/properties/test_dir","type":"string","title":"Directory in which test are stored"},"ci_builds_action_server":{"$id":"#/properties/scorecard/properties/manual/properties/CD/properties/ci_builds_action_server","type":"boolean","title":"CI builds action server"}},"additionalProperties":false},"CD":{"$id":"#/properties/scorecard/properties/manual/properties/CD","type":"object","title":"Manual CD scorecard","required":["infrastructure_as_code","ci_deploys_action_server","has_test_environment","ci_runs_vulnerability_scans"],"properties":{"infrastructure_as_code":{"$id":"#/properties/scorecard/properties/manual/properties/CD/properties/infrastructure_as_code","type":"boolean","title":"Infrastructure as code"},"ci_deploys_action_server":{"$id":"#/properties/scorecard/properties/manual/properties/CD/properties/ci_deploys_action_server","type":"boolean","title":"CI deploys action server"},"has_test_environment":{"$id":"#/properties/scorecard/properties/manual/properties/CD/properties/has_test_environment","type":"boolean","title":"There is a test environment for deploying changes before they go to production"},"ci_runs_vulnerability_scans":{"$id":"#/properties/scorecard/properties/manual/properties/CD/properties/ci_runs_vulnerability_scans","type":"boolean","title":"CI runs vulnerability scans"}},"additionalProperties":false},"training_data_health":{"$id":"#/properties/scorecard/properties/manual/properties/training_data_health","type":"object","title":"Manual training data health scorecard","required":["connected_channels"],"properties":{"connected_channels":{"$id":"#/properties/scorecard/properties/manual/properties/training_data_health/properties/connected_channels","type":"array","title":"Connected channels","items":{"$id":"#/properties/scorecard/properties/manual/properties/training_data_health/properties/connected_channels/items","type":"string","title":"Connected channel"}}},"additionalProperties":false},"success_kpis":{"$id":"#/properties/scorecard/properties/manual/properties/success_kpis","type":"object","title":"Manual success KPIs scorecard","required":["automated_conversation_tags"],"properties":{"automated_conversation_tags":{"$id":"#/properties/scorecard/properties/manual/properties/success_kpis/properties/automated_conversation_tags","type":"array","title":"Automated conversation tags","rasa_fn":"tanh(size(x)[1])","items":{"$id":"#/properties/scorecard/properties/manual/properties/success_kpis/properties/automated_conversation_tags/items","type":"string","title":"Automated conversation tag"}}},"additionalProperties":false}},"additionalProperties":false},"auto":{"$id":"#/properties/scorecard/properties/auto","type":"object","title":"Automatic scorecard","required":["CI","training_data_health","success_kpis"],"properties":{"CI":{"$id":"#/properties/scorecard/properties/auto/properties/CI","type":"object","title":"Automatic CI scorecard","required":["code_and_training_data_in_git","rasa_test_coverage"],"properties":{"code_and_training_data_in_git":{"$id":"#/properties/scorecard/properties/auto/properties/CI/properties/code_and_training_data_in_git","type":"boolean","title":"Code and training data is in Git"},"rasa_test_coverage":{"$id":"#/properties/scorecard/properties/auto/properties/CI/properties/rasa_test_coverage","type":"number","title":"`rasa test` coverage","rasa_fn":"x / 100"}},"additionalProperties":false},"CD":{"$id":"#/properties/scorecard/properties/auto/properties/CD","type":"object","title":"Automatic CD scorecard","properties":{},"additionalProperties":false},"training_data_health":{"$id":"#/properties/scorecard/properties/auto/properties/training_data_health","type":"object","title":"Automatic training data health scorecard","required":["num_real_conversations","num_annotated_messages","num_min_example_warnings","num_confused_intent_warnings","num_confidence_warnings","num_wrong_annotation_warnings","num_precision_recall_warnings"],"properties":{"num_real_conversations":{"$id":"#/properties/scorecard/properties/auto/properties/training_data_health/properties/num_real_conversations","type":"integer","title":"Number of real conversations","rasa_fn":"tanh(x / 3000)"},"num_annotated_messages":{"$id":"#/properties/scorecard/properties/auto/properties/training_data_health/properties/num_annotated_messages","type":"integer","title":"Number of annotated messages","rasa_fn":"tanh(x / 1000)"},"num_min_example_warnings":{"$id":"#/properties/scorecard/properties/auto/properties/training_data_health/properties/num_min_example_warnings","title":"Number of warnings about too few examples","rasa_fn":"1 - tanh(x / 40)","rasa_fallback":"run your first insights calculation to get an accurate training data health score","anyOf":[{"type":"integer"},{"type":"null"}]},"num_confused_intent_warnings":{"$id":"#/properties/scorecard/properties/auto/properties/training_data_health/properties/num_confused_intent_warnings","title":"Number of warnings about confused intents","rasa_fn":"1 - tanh(x / 3)","rasa_fallback":"run your first insights calculation to get an accurate training data health score","anyOf":[{"type":"integer"},{"type":"null"}]},"num_confidence_warnings":{"$id":"#/properties/scorecard/properties/auto/properties/training_data_health/properties/num_confidence_warnings","title":"Number of warnings about confidence levels","rasa_fn":"1 - tanh(x / 3)","rasa_fallback":"run your first insights calculation to get an accurate training data health score","anyOf":[{"type":"integer"},{"type":"null"}]},"num_wrong_annotation_warnings":{"$id":"#/properties/scorecard/properties/auto/properties/training_data_health/properties/num_wrong_annotation_warnings","title":"Number of warnings about likely wrong annotations","rasa_fn":"1 - tanh(x / 3)","rasa_fallback":"run your first insights calculation to get an accurate training data health score","anyOf":[{"type":"integer"},{"type":"null"}]},"num_precision_recall_warnings":{"$id":"#/properties/scorecard/properties/auto/properties/training_data_health/properties/num_precision_recall_warnings","title":"Number of warnings about intent bias","rasa_fn":"1 - tanh(x / 3)","rasa_fallback":"run your first insights calculation to get an accurate training data health score","anyOf":[{"type":"integer"},{"type":"null"}]}},"additionalProperties":false},"success_kpis":{"$id":"#/properties/scorecard/properties/auto/properties/success_kpis","type":"object","title":"Automatic success KPIs scorecard","required":["num_reviewed_conversations","num_tagged_conversations","has_fallback"],"properties":{"num_reviewed_conversations":{"$id":"#/properties/scorecard/properties/auto/properties/success_kpis/properties/num_reviewed_conversations","type":"integer","title":"Number of reviewed conversations","rasa_fn":"tanh(x / 100)"},"num_tagged_conversations":{"$id":"#/properties/scorecard/properties/auto/properties/success_kpis/properties/num_tagged_conversations","type":"integer","title":"Number of tagged conversations","rasa_fn":"tanh(x / 500)"},"has_fallback":{"$id":"#/properties/scorecard/properties/auto/properties/success_kpis/properties/has_fallback","type":"boolean","title":"Whether a fallback component is present in the NLU pipeline"}},"additionalProperties":false}},"additionalProperties":false}},"additionalProperties":false}},"additionalProperties":false}')},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return null!=e}},88:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return j}));var r=n(45),a=n.n(r),o=function(e,t){return t?a()(e).endOf("day").toISOString():a()(e).toISOString()},c="YYYY-MM-DD",i=function(e){return e.format(c)},s=function(e){return e.format("DD/MM/YYYY")},l=function(e){return e.format("D MMM, YYYY")},u=function(){return a()().startOf("day")},d=function(){return a()().endOf("day")},b=!0,f=[{label:"Today",from:i(u())},{label:"Yesterday",from:i(u().subtract(1,"days")),to:i(d().subtract(1,"days"))},{label:"Last 7 days",from:i(u().subtract(7,"days")),to:i(d())},{label:"Last 30 days",from:i(u().subtract(30,"days")),to:i(d())},{label:"Last 365 days",from:i(u().subtract(365,"days")),to:i(d())},{label:"All time",from:null,to:null}];function p(e,t){var n=f.find((function(t){return t.from===e.from&&(!e.to||t.to===e.to)}))||{label:"Custom",from:e.from,to:e.to};return t?{label:n.label,from:n.from?a()(n.from,c).format(t):n.from,to:n.to?a()(n.to,c).format(t):n.from}:n}function j(e){return"Suggestion"!==e.type||!(e.date.from||e.date.to||e.intents.length>0||e.tags.length>0)}},978:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n(0),o=n(1131),c=n(1183),i=n(266);n(1);function s(e){return Object(a.jsx)(c.a,Object(r.a)(Object(r.a)({variant:"icon",color:"neutral_8"},e),{},{children:Object(a.jsx)(i.a,{icon:o.faArrowLeft})}))}},979:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n(21),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function c(e){var t=e.alignSelf,n=e.asHeader,c=e.children,i=e.data,s=e.flex,l=e.highlighted,u=e.index,d=e.metadata,b=e.sx,f=e.title,p=e.width,j=e.dataQA;return n?Object(r.jsx)(a.a,o({width:p,sx:b,flex:s,alignSelf:t},{children:f}),void 0):void 0===i||void 0===u||void 0===l?(console.warn("Do not use <Column /> outside of <TableRow />"),null):Object(r.jsx)(a.a,o({width:p,sx:b,flex:s,alignSelf:t,"data-qa":j},{children:c(i,{index:u,highlighted:l,metadata:d})}),void 0)}},980:function(e,t,n){"use strict";var r=n(0),a=n(1184),o=n(1187),c=n(217),i=n(1),s=n(4);t.a=i.memo((function(e){var t=e.p,n=e.name,i=e.items,l=e.checkedItems,u=e.onChange,d=e.placeholder,b=e.header,f=e.item;e.stickyHeader;return Object(r.jsxs)(s.Flex,{flexDirection:"column",style:{height:"100%",overflow:"hidden"},children:[Object(r.jsx)(s.Box,{p:t,pb:0,children:b?b():Object(r.jsxs)(a.a,{variant:"h4",children:[n," (",i.length,")"]})}),Object(r.jsxs)(s.Box,{px:t,pt:1,style:{height:"100%",overflow:"auto"},children:[0===i.length&&d,i.map((function(e){var t=l.indexOf(e);return Object(r.jsxs)(s.Flex,{as:"label",my:20,alignItems:"center",children:[Object(r.jsx)(o.a,{onChange:function(){return u(t>=0?l.slice(0,t).concat(l.slice(t+1)):l.concat([e]))},checked:t>=0}),f?f({item:e}):Object(r.jsx)(c.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",children:e})]},e)}))]})]})}))}},[[2243,2,3]]]);